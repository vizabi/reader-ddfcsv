{"version":3,"sources":["webpack:///webpack/bootstrap 570089151227bc80398e","webpack:///./lib/index-web.js","webpack:///./lib/file-readers/frontend-file-reader.js","webpack:///./~/fetch-polyfill/fetch.js","webpack:///./lib/ddfcsv-error.js","webpack:///./lib/ddfcsv-reader.js","webpack:///./~/tslib/tslib.js","webpack:///./~/lodash/isNil.js","webpack:///./~/lodash/isObject.js","webpack:///./lib/ddf-csv.js","webpack:///./~/lodash/includes.js","webpack:///./~/lodash/_baseIndexOf.js","webpack:///./~/lodash/_baseFindIndex.js","webpack:///./~/lodash/_baseIsNaN.js","webpack:///./~/lodash/_strictIndexOf.js","webpack:///./~/lodash/isArrayLike.js","webpack:///./~/lodash/isFunction.js","webpack:///./~/lodash/_baseGetTag.js","webpack:///./~/lodash/_Symbol.js","webpack:///./~/lodash/_root.js","webpack:///./~/lodash/_freeGlobal.js","webpack:///./~/lodash/_getRawTag.js","webpack:///./~/lodash/_objectToString.js","webpack:///./~/lodash/isLength.js","webpack:///./~/lodash/isString.js","webpack:///./~/lodash/isArray.js","webpack:///./~/lodash/isObjectLike.js","webpack:///./~/lodash/toInteger.js","webpack:///./~/lodash/toFinite.js","webpack:///./~/lodash/toNumber.js","webpack:///./~/lodash/isSymbol.js","webpack:///./~/lodash/values.js","webpack:///./~/lodash/_baseValues.js","webpack:///./~/lodash/_arrayMap.js","webpack:///./~/lodash/keys.js","webpack:///./~/lodash/_arrayLikeKeys.js","webpack:///./~/lodash/_baseTimes.js","webpack:///./~/lodash/isArguments.js","webpack:///./~/lodash/_baseIsArguments.js","webpack:///./~/lodash/isBuffer.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/lodash/stubFalse.js","webpack:///./~/lodash/_isIndex.js","webpack:///./~/lodash/isTypedArray.js","webpack:///./~/lodash/_baseIsTypedArray.js","webpack:///./~/lodash/_baseUnary.js","webpack:///./~/lodash/_nodeUtil.js","webpack:///./~/lodash/_baseKeys.js","webpack:///./~/lodash/_isPrototype.js","webpack:///./~/lodash/_nativeKeys.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/cloneDeep.js","webpack:///./~/lodash/_baseClone.js","webpack:///./~/lodash/_Stack.js","webpack:///./~/lodash/_ListCache.js","webpack:///./~/lodash/_listCacheClear.js","webpack:///./~/lodash/_listCacheDelete.js","webpack:///./~/lodash/_assocIndexOf.js","webpack:///./~/lodash/eq.js","webpack:///./~/lodash/_listCacheGet.js","webpack:///./~/lodash/_listCacheHas.js","webpack:///./~/lodash/_listCacheSet.js","webpack:///./~/lodash/_stackClear.js","webpack:///./~/lodash/_stackDelete.js","webpack:///./~/lodash/_stackGet.js","webpack:///./~/lodash/_stackHas.js","webpack:///./~/lodash/_stackSet.js","webpack:///./~/lodash/_Map.js","webpack:///./~/lodash/_getNative.js","webpack:///./~/lodash/_baseIsNative.js","webpack:///./~/lodash/_isMasked.js","webpack:///./~/lodash/_coreJsData.js","webpack:///./~/lodash/_toSource.js","webpack:///./~/lodash/_getValue.js","webpack:///./~/lodash/_MapCache.js","webpack:///./~/lodash/_mapCacheClear.js","webpack:///./~/lodash/_Hash.js","webpack:///./~/lodash/_hashClear.js","webpack:///./~/lodash/_nativeCreate.js","webpack:///./~/lodash/_hashDelete.js","webpack:///./~/lodash/_hashGet.js","webpack:///./~/lodash/_hashHas.js","webpack:///./~/lodash/_hashSet.js","webpack:///./~/lodash/_mapCacheDelete.js","webpack:///./~/lodash/_getMapData.js","webpack:///./~/lodash/_isKeyable.js","webpack:///./~/lodash/_mapCacheGet.js","webpack:///./~/lodash/_mapCacheHas.js","webpack:///./~/lodash/_mapCacheSet.js","webpack:///./~/lodash/_arrayEach.js","webpack:///./~/lodash/_assignValue.js","webpack:///./~/lodash/_baseAssignValue.js","webpack:///./~/lodash/_defineProperty.js","webpack:///./~/lodash/_baseAssign.js","webpack:///./~/lodash/_copyObject.js","webpack:///./~/lodash/_baseAssignIn.js","webpack:///./~/lodash/keysIn.js","webpack:///./~/lodash/_baseKeysIn.js","webpack:///./~/lodash/_nativeKeysIn.js","webpack:///./~/lodash/_cloneBuffer.js","webpack:///./~/lodash/_copyArray.js","webpack:///./~/lodash/_copySymbols.js","webpack:///./~/lodash/_getSymbols.js","webpack:///./~/lodash/_arrayFilter.js","webpack:///./~/lodash/stubArray.js","webpack:///./~/lodash/_copySymbolsIn.js","webpack:///./~/lodash/_getSymbolsIn.js","webpack:///./~/lodash/_arrayPush.js","webpack:///./~/lodash/_getPrototype.js","webpack:///./~/lodash/_getAllKeys.js","webpack:///./~/lodash/_baseGetAllKeys.js","webpack:///./~/lodash/_getAllKeysIn.js","webpack:///./~/lodash/_getTag.js","webpack:///./~/lodash/_DataView.js","webpack:///./~/lodash/_Promise.js","webpack:///./~/lodash/_Set.js","webpack:///./~/lodash/_WeakMap.js","webpack:///./~/lodash/_initCloneArray.js","webpack:///./~/lodash/_initCloneByTag.js","webpack:///./~/lodash/_cloneArrayBuffer.js","webpack:///./~/lodash/_Uint8Array.js","webpack:///./~/lodash/_cloneDataView.js","webpack:///./~/lodash/_cloneMap.js","webpack:///./~/lodash/_addMapEntry.js","webpack:///./~/lodash/_arrayReduce.js","webpack:///./~/lodash/_mapToArray.js","webpack:///./~/lodash/_cloneRegExp.js","webpack:///./~/lodash/_cloneSet.js","webpack:///./~/lodash/_addSetEntry.js","webpack:///./~/lodash/_setToArray.js","webpack:///./~/lodash/_cloneSymbol.js","webpack:///./~/lodash/_cloneTypedArray.js","webpack:///./~/lodash/_initCloneObject.js","webpack:///./~/lodash/_baseCreate.js","webpack:///./~/lodash/isEmpty.js","webpack:///./lib/query-optimization-plugins/index.js","webpack:///./lib/query-optimization-plugins/in-clause-under-conjunction-plugin.js","webpack:///./~/path-browserify/index.js","webpack:///./~/process/browser.js","webpack:///./~/lodash/head.js","webpack:///./~/lodash/get.js","webpack:///./~/lodash/_baseGet.js","webpack:///./~/lodash/_castPath.js","webpack:///./~/lodash/_isKey.js","webpack:///./~/lodash/_stringToPath.js","webpack:///./~/lodash/_memoizeCapped.js","webpack:///./~/lodash/memoize.js","webpack:///./~/lodash/toString.js","webpack:///./~/lodash/_baseToString.js","webpack:///./~/lodash/_toKey.js","webpack:///./~/lodash/flattenDeep.js","webpack:///./~/lodash/_baseFlatten.js","webpack:///./~/lodash/_isFlattenable.js","webpack:///./~/lodash/startsWith.js","webpack:///./~/lodash/_baseClamp.js","webpack:///./~/lodash/compact.js","webpack:///./~/papaparse/papaparse.js","webpack:///./lib/ddf-query-validator/index.js","webpack:///./lib/ddf-query-validator/helper.service.js","webpack:///./lib/ddf-query-validator/definition.service.js","webpack:///./~/lodash/filter.js","webpack:///./~/lodash/_baseFilter.js","webpack:///./~/lodash/_baseEach.js","webpack:///./~/lodash/_baseForOwn.js","webpack:///./~/lodash/_baseFor.js","webpack:///./~/lodash/_createBaseFor.js","webpack:///./~/lodash/_createBaseEach.js","webpack:///./~/lodash/_baseIteratee.js","webpack:///./~/lodash/_baseMatches.js","webpack:///./~/lodash/_baseIsMatch.js","webpack:///./~/lodash/_baseIsEqual.js","webpack:///./~/lodash/_baseIsEqualDeep.js","webpack:///./~/lodash/_equalArrays.js","webpack:///./~/lodash/_SetCache.js","webpack:///./~/lodash/_setCacheAdd.js","webpack:///./~/lodash/_setCacheHas.js","webpack:///./~/lodash/_arraySome.js","webpack:///./~/lodash/_cacheHas.js","webpack:///./~/lodash/_equalByTag.js","webpack:///./~/lodash/_equalObjects.js","webpack:///./~/lodash/_getMatchData.js","webpack:///./~/lodash/_isStrictComparable.js","webpack:///./~/lodash/_matchesStrictComparable.js","webpack:///./~/lodash/_baseMatchesProperty.js","webpack:///./~/lodash/hasIn.js","webpack:///./~/lodash/_baseHasIn.js","webpack:///./~/lodash/_hasPath.js","webpack:///./~/lodash/identity.js","webpack:///./~/lodash/property.js","webpack:///./~/lodash/_baseProperty.js","webpack:///./~/lodash/_basePropertyDeep.js","webpack:///./~/lodash/map.js","webpack:///./~/lodash/_baseMap.js","webpack:///./~/lodash/trimStart.js","webpack:///./~/lodash/_castSlice.js","webpack:///./~/lodash/_baseSlice.js","webpack:///./~/lodash/_charsStartIndex.js","webpack:///./~/lodash/_stringToArray.js","webpack:///./~/lodash/_asciiToArray.js","webpack:///./~/lodash/_hasUnicode.js","webpack:///./~/lodash/_unicodeToArray.js","webpack:///./~/lodash/flatMap.js","webpack:///./~/util/util.js","webpack:///./~/util/support/isBufferBrowser.js","webpack:///./~/inherits/inherits_browser.js","webpack:///./lib/ddf-query-validator/structure.service.js","webpack:///./~/lodash/size.js","webpack:///./~/lodash/_stringSize.js","webpack:///./~/lodash/_asciiSize.js","webpack:///./~/lodash/_unicodeSize.js","webpack:///./~/lodash/first.js","webpack:///./~/lodash/has.js","webpack:///./~/lodash/_baseHas.js","webpack:///./~/lodash/every.js","webpack:///./~/lodash/_arrayEvery.js","webpack:///./~/lodash/_baseEvery.js","webpack:///./~/lodash/_isIterateeCall.js","webpack:///./~/lodash/uniq.js","webpack:///./~/lodash/_baseUniq.js","webpack:///./~/lodash/_arrayIncludes.js","webpack:///./~/lodash/_arrayIncludesWith.js","webpack:///./~/lodash/_createSet.js","webpack:///./~/lodash/noop.js","webpack:///./lib/ddf-query-validator/dataset-manager.service.js"],"names":["Object","defineProperty","exports","value","frontend_file_reader_1","require","frontend_file_reader_2","FrontendFileReader","ddfcsv_error_1","DdfCsvError","ddfcsv_reader_1","getDDFCsvReaderObject","prepareDDFCsvReaderObject","recordTransformer","filePath","onFileRead","fetch","then","response","text","catch","err","self","normalizeName","name","toString","test","TypeError","toLowerCase","normalizeValue","Headers","headers","map","forEach","values","append","getOwnPropertyNames","prototype","list","push","get","getAll","has","hasOwnProperty","set","callback","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","support","Blob","e","formData","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","Error","rejected","arrayBuffer","decode","json","JSON","parse","methods","normalizeMethod","method","upcased","toUpperCase","indexOf","Request","url","options","credentials","mode","referrer","form","trim","split","bytes","shift","replace","join","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","key","noXhrPatch","window","ActiveXObject","XMLHttpRequest","dispatchEvent","getXhr","usingActiveXhr","call","Response","bodyInit","type","status","ok","statusText","input","init","request","withCredentials","responseURL","getResponseHeader","readyState","responseText","onreadystatechange","open","responseType","setRequestHeader","send","polyfill","FILE_READING_ERROR","JSON_PARSING_ERROR","CSV_PARSING_ERROR","DDF_ERROR","message","details","file","tslib_1","isNil","isObject","ddf_csv_1","ddf_query_validator_1","defaultFileReader","externalFileReader","logger","readerInfo","_basePath","path","_lastModified","fileReader","resultTransformer","datasetsConfig","isLocalReader","isServerReader","readerOptions","basePath","ddfCsvReader","getAsset","asset","isJsonAsset","slice","length","assetPath","getDatasetPath","readText","data","jsonErr","read","queryParam","parsers","__awaiter","query","conceptsLookup","Map","datapackagePath","datasetPath","dataset","_prettifyData","log","stringify","keys","record","__extends","__assign","__rest","__decorate","__param","__metadata","__generator","__exportStar","__values","__read","__spread","__await","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","factory","root","global","define","createExporter","module","previous","create","__esModule","id","v","exporter","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","__","constructor","assign","t","s","i","n","arguments","getOwnPropertySymbols","decorators","target","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","fulfilled","step","next","done","apply","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","op","pop","m","o","ar","concat","asyncIterator","q","a","resume","settle","fulfill","cooked","raw","mod","k","includes","cloneDeep","isEmpty","query_optimization_plugins_1","Papa","isValidNumeric","val","internalConcepts","concept","concept_type","domain","operators","row","predicates","every","applyFilterRow","some","predicate","rowValue","filterValue","keyValueLookup","resourcesLookup","optimalFilesSet","loadDataPackage","baseOptions","datapackage","buildResourcesLookup","buildKeyValueLookup","parseErr","loadConcepts","setConceptsLookup","conceptQuery","select","from","branch","commit","queryData","concepts","buildConceptsLookup","reparseConcepts","entitySetMembershipConcepts","filter","parsingFunctions","str","parseFloat","resources","getResources","resourceUpdates","resource","resourceConcepts","parsingConcepts","fn","parseFn","all","clear","validateQueryStructure","extendQueryParamWithDatasetProps","validateQueryDefinitions","isSchemaQuery","querySchema","appropriatePlugin","getAppropriatePlugin","getOptimalFilesSet","files","where","order_by","language","projection","Set","filterFields","getFilterFields","field","resourcesPromise","loadResources","joinsPromise","getJoinFilters","entitySetFilterPromise","getEntitySetFilter","resourceResponses","entitySetFilter","joinFilters","whereResolved","processWhere","mergeFilters","dataTables","processResourceResponse","queryResult","joinData","fillMissingValues","projectRow","orderData","orderBy","orderNormalized","orderPart","direction","sort","order","fieldValue","subFilter","filters","reduce","$and","getSchemaFromCollection","ddfSchema","collectionPar","primaryKey","collection","throwError","operator","filterKey","getJoinFilter","joinID","results","mergeObjects","$in","fields","subFields","filterConceptsByType","conceptTypes","queryKey","conceptStrings","conceptString","getEntityConceptRenameMap","resourceKey","resourceKeySet","entityConceptTypes","queryEntityConcepts","allEntityConcepts","lookupConcept","aliasConcept","mapA","mapB","promises","createKeyString","isArray","singleValue","resultSet","oneKeyOneValueResourcesArray","resourcePK","schema","resourceProjection","renameMap","renameHeaderRow","loadResource","projectionSet","joinMode","canonicalKey","dataMap","dataPar","keyString","resultRow","joinRow","sourceRow","undefined","sourceRowStr","resultRowStr","errStr","currentLogger","console","filePromises","loadFile","languageValid","getLanguages","languageLoaded","translations","translationPath","filesData","fileResponses","resp","lang","skipEmptyLines","dynamicTyping","headerName","complete","datapackagePar","size","kvPair","resourceName","baseIndexOf","isArrayLike","isString","toInteger","nativeMax","Math","max","fromIndex","guard","baseFindIndex","baseIsNaN","strictIndexOf","array","fromRight","index","isFunction","isLength","baseGetTag","asyncTag","funcTag","genTag","proxyTag","tag","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","toStringTag","freeGlobal","freeSelf","Function","objectProto","nativeObjectToString","isOwn","unmasked","MAX_SAFE_INTEGER","isObjectLike","stringTag","toFinite","remainder","toNumber","INFINITY","MAX_INTEGER","sign","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","symbolTag","baseValues","object","arrayMap","props","iteratee","arrayLikeKeys","baseKeys","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","baseIsArguments","propertyIsEnumerable","argsTag","stubFalse","freeExports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","webpackPolyfill","deprecate","paths","children","reIsUint","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","func","freeProcess","process","binding","isPrototype","nativeKeys","Ctor","proto","overArg","transform","arg","baseClone","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","Stack","arrayEach","assignValue","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","getTag","initCloneArray","initCloneByTag","initCloneObject","CLONE_FLAT_FLAG","cloneableTags","bitmask","customizer","stack","isDeep","isFlat","isFull","isFunc","stacked","keysFunc","keysIn","subValue","ListCache","stackClear","stackDelete","stackGet","stackHas","stackSet","entries","__data__","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","entry","assocIndexOf","arrayProto","splice","lastIndex","eq","MapCache","LARGE_ARRAY_SIZE","getNative","baseIsNative","getValue","isMasked","toSource","reRegExpChar","reIsHostCtor","funcProto","funcToString","reIsNative","RegExp","pattern","coreJsData","maskSrcKey","uid","exec","IE_PROTO","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","Hash","hashClear","hashDelete","hashGet","hashHas","hashSet","nativeCreate","HASH_UNDEFINED","getMapData","isKeyable","baseAssignValue","objValue","copyObject","source","isNew","newValue","baseKeysIn","nativeKeysIn","isProto","allocUnsafe","buffer","copy","getSymbols","arrayFilter","stubArray","nativeGetSymbols","symbol","resIndex","getSymbolsIn","arrayPush","getPrototype","offset","getPrototypeOf","baseGetAllKeys","symbolsFunc","DataView","WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","ctorString","cloneArrayBuffer","cloneDataView","cloneMap","cloneRegExp","cloneSet","cloneSymbol","cloneTypedArray","cloneFunc","Uint8Array","byteLength","dataView","byteOffset","addMapEntry","arrayReduce","mapToArray","pair","accumulator","initAccum","reFlags","regexp","addSetEntry","setToArray","add","symbolProto","symbolValueOf","typedArray","baseCreate","objectCreate","in_clause_under_conjunction_plugin_1","plugins","InClauseUnderConjunctionPlugin","plugin","isMatched","flattenDeep","startsWith","compact","WHERE_KEYWORD","JOIN_KEYWORD","KEY_KEYWORD","KEY_IN","KEY_AND","getFirstConditionClause","clause","getFirstKey","obj","isOneKeyBased","flow","joinObject","mainAndClause","isMainAndClauseCorrect","joinKeys","areJoinKeysSameAsKeyInWhereClause","joinPart","firstKey","fillResourceToFileHash","collectProcessableClauses","collectEntityFilesNames","collectEntities","fillEntityValuesHash","getFilesGroupsQueryClause","getOptimalFilesGroup","resourceToFile","hash","processableClauses","joinKey","singleAndField","getProcessableClauses","el","entityFilesNames","fileNameToPrimaryKeyHash","entities","schemaResourceRecord","actions","actResolve","actReject","entitiesData","getSubdomainsFromRecord","entityValueToFileHash","entityValueToDomainHash","entityFileDescriptor","entityRecord","primaryKeyForThisFile","primaryKeyCellValue","domainsForCurrentRecord","filesGroupsByClause","filesGroupByClause","datapoints","entityValuesFromClause","entityValueFromClause","entitiesByQuery","entityByQuery","clauseKeys","appropriateClauseKey","appropriateClauseSize","conditionKey","normalizeArray","parts","allowAboveRoot","up","last","unshift","splitPathRe","splitPath","filename","resolvedPath","resolvedAbsolute","cwd","charAt","normalize","isAbsolute","trailingSlash","substr","relative","to","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","sep","delimiter","dirname","dir","basename","ext","extname","xs","res","len","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","args","Item","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","chdir","umask","baseGet","defaultValue","castPath","toKey","isKey","stringToPath","reIsDeepProp","reIsPlainProp","memoizeCapped","reLeadingDot","rePropName","reEscapeChar","string","match","number","quote","memoize","MAX_MEMOIZE_SIZE","cache","FUNC_ERROR_TEXT","resolver","memoized","Cache","baseToString","symbolToString","baseFlatten","isFlattenable","depth","isStrict","spreadableSymbol","isConcatSpreadable","baseClamp","position","lower","upper","IS_WORKER","document","postMessage","IS_PAPA_WORKER","location","search","LOADED_SYNC","AUTO_SCRIPT_PATH","workers","workerIdCounter","CsvToJson","unparse","JsonToCsv","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","BAD_DELIMITERS","WORKERS_SUPPORTED","Worker","SCRIPT_PATH","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","$","config","each","idx","supported","prop","attr","inputElem","instanceConfig","extend","parseNextFile","before","returned","action","reason","fileComplete","userCompleteFunc","elem","onmessage","workerThreadReceivedMessage","getScriptPath","addEventListener","_input","_config","dynamicTypingFunction","worker","w","newWorker","userStep","userChunk","chunk","userComplete","userError","workerId","streamer","download","readable","File","stream","_output","_fields","_quotes","_writeHeader","_delimiter","_newline","_quoteChar","unpackConfig","quoteCharRegex","serialize","objectKeys","meta","quotes","newline","quoteChar","csv","hasHeader","dataKeyedByField","safe","maxCol","col","colIdx","needsQuotes","hasAny","substrings","ChunkStreamer","_handle","_paused","_finished","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","replaceConfig","parseChunk","beforeFirstChunk","modifiedChunk","aggregate","paused","aborted","cursor","substring","finishedIncludingPreview","preview","WORKER_ID","finished","_sendError","configCopy","chunkSize","_readChunk","_chunkLoaded","bindFunction","_chunkError","downloadRequestHeaders","getFileSize","errorMessage","errorText","contentRange","lastIndexOf","usingAsyncReader","webkitSlice","mozSlice","FileReaderSync","txt","encoding","event","remaining","parseOnData","_streamData","_streamEnd","_streamError","_streamCleanUp","FLOAT","_stepCounter","_parser","_aborted","_delimiterError","_results","needsHeaderRow","processResults","abort","baseIndex","ignoreLastRow","guessLineEndings","delimGuess","guessDelimiter","successful","bestDelimiter","parserConfig","pause","getCharIndex","addError","fillHeaderFields","applyHeaderAndDynamicTyping","j","shouldApplyDynamicTyping","parseDynamic","tryParseFloat","delimChoices","bestDelim","bestDelta","fieldCountPrevRow","delim","delta","avgFieldCount","emptyLinesCount","fieldCount","abs","nAppearsFirst","numWithN","isNumber","code","msg","comments","fastMode","inputLen","delimLen","newlineLen","commentsLen","stepIsFunction","lastCursor","returnable","rows","pushRow","doStep","nextDelim","nextNewline","quoteSearch","finish","saveRow","newCursor","stopped","linebreak","truncated","scripts","getElementsByTagName","src","workerUrl","mainThreadReceivedMessage","completeWorker","handle","notImplemented","terminate","cpy","SCHEMAS","DATAPOINTS","ENTITIES","CONCEPTS","CONCEPT_TYPE_MEASURE","CONCEPT_TYPE_STRING","CONCEPT_TYPE_ENTITY_DOMAIN","CONCEPT_TYPE_ENTITY_SET","CONCEPT_TYPE_TIME","RESERVED_CONCEPT","RESERVED_CONCEPT_TYPE","RESERVED_DOMAIN","RESERVED_UNIT","RESERVED_DRILL_UP","RESERVED_KEY","RESERVED_VALUE","AVAILABLE_QUERY_OPERATORS","AVAILABLE_FROM_CLAUSE_VALUES","AVAILABLE_ORDER_BY_CLAUSE_VALUES","DEFAULT_DATASET_NAME","DEFAULT_DATASET_BRANCH","DEFAULT_DATASET_COMMIT","DEFAULT_DATASET_DIR","fromClause","isDatapointsQuery","isEntitiesQuery","isConceptsQuery","isEntityDomainOrSet","conceptType","allowedValues","isMeasure","isIndicator","trimStart","flatMap","helper_service_1","util_1","validationResult","validateSelectDefinitions","validateWhereDefinitions","isQueryValid","errorMessages","selectClause","ALLOWED_KEYS","ALLOWED_VALUES","CONCEPT_TYPES_FOR_DATAPOINTS","getAllowedConceptGidsByConceptType","CONCEPT_TYPES_FOR_ENTITIES","checkIfSelectKeyHasInvalidDefinitions","checkIfSelectValueHasInvalidDefinitions","whereClause","getWhereOperators","getWhereOperatorsRecursively","—Åandidate","hasCandidate","isCandidate","isNaN","isPrimitive","unavailableKeys","getUnavailableSelectItems","unavailableValues","checkIfWhereHasAbsentDefinitions","candidates","candidate","checkIfWhereHasUnavailableDimensionDefinitions","checkIfWhereHasWrongRelativesDefinitions","parent","unavailableChildren","child","childConcept","drill_up","selectItems","ALLOWED_ITEMS","allowedConceptTypes","filteredAllowedConcepts","baseFilter","baseIteratee","baseEach","baseForOwn","createBaseEach","baseFor","createBaseFor","iterable","eachFunc","baseMatches","baseMatchesProperty","identity","property","baseIsMatch","getMatchData","matchesStrictComparable","matchData","baseIsEqual","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","noCustomizer","srcValue","baseIsEqualDeep","equalArrays","equalByTag","equalObjects","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","SetCache","arraySome","cacheHas","isPartial","arrLength","othLength","seen","arrValue","othValue","compared","othIndex","setCacheAdd","setCacheHas","convert","objProps","objLength","othProps","skipCtor","objCtor","othCtor","isStrictComparable","hasIn","baseHasIn","hasPath","hasFunc","baseProperty","basePropertyDeep","baseMap","castSlice","charsStartIndex","stringToArray","reTrimStart","chars","strSymbols","baseSlice","chrSymbols","asciiToArray","hasUnicode","unicodeToArray","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","reUnicode","formatRegExp","format","objects","inspect","x","Number","isNull","isUndefined","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","trace","debugs","debugEnviron","debuglog","NODE_DEBUG","pid","opts","ctx","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","recurseTimes","ret","primitive","formatPrimitive","visibleKeys","isError","formatError","isRegExp","isDate","Date","base","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","l","line","numLinesEst","prev","cur","isNullOrUndefined","re","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","inherits","origin","fill","readUInt8","ctor","superCtor","super_","enumerable","writable","configurable","TempCtor","first","uniq","validateDatasetStructure","validateFromStructure","validateSelectStructure","validateWhereStructure","validateLanguageStructure","validateJoinStructure","validateOrderByStructure","datasetClause","branchClause","commitClause","listAvaliableValues","checkIfSelectIsEmpty","checkIfSchemasSelectKeyHasInvalidStructure","checkIfSelectValueHasInvalidStructure","checkIfEntitiesOrConceptsSelectHasInvalidStructure","checkIfSelectKeyHasInvalidStructure","checkIfSelectHasInvalidStructure","checkIfDatapointsSelectKeyHasInvalidStructure","checkIfDatapointsSelectKeyHasDuplicates","checkIfDatapointsSelectValueHasInvalidStructure","joinClause","whereOperators","checkIfWhereHasInvalidStructure","getJoinIDPathIfExists","checkIfWhereHasUnknownOperators","languageClause","checkIfSchemaLanguageIsPresent","checkIfLanguageHasInvalidStructure","checkIfSchemaJoinIsPresent","checkIfJoinHasInvalidStructure","item","checkIfJoinKeyHasInvalidStructure","orderByClause","checkIfOrderByHasInvalidStructure","isStrictObject","joinPath","notAllowedOperators","isAllowedOperator","allowedOperatorsByDataset","isArrayOfStrings","isArrayOfSpecialItems","isOrderBySubclause","subclause","isSpecialItem","isMongoLikeOperator","isJoinOperator","isLeaf","getDuplicates","duplicates","stringSize","asciiSize","unicodeSize","baseHas","arrayEvery","baseEvery","isIterateeCall","baseUniq","arrayIncludes","arrayIncludesWith","createSet","comparator","isCommon","outer","computed","seenIndex","getDatapackagePath","isDatasetPathAlreadyInBasePath","DEFAULT_DATASET","DEFAULT_BRANCH","DEFAULT_COMMIT","originDataset","originBranch","originCommit","datasetName"],"mappings":"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","file":"vizabi-ddfcsv-reader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 570089151227bc80398e","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst frontend_file_reader_1 = require(\"./file-readers/frontend-file-reader\");\nvar frontend_file_reader_2 = require(\"./file-readers/frontend-file-reader\");\nexports.FrontendFileReader = frontend_file_reader_2.FrontendFileReader;\nvar ddfcsv_error_1 = require(\"./ddfcsv-error\");\nexports.DdfCsvError = ddfcsv_error_1.DdfCsvError;\nconst ddfcsv_reader_1 = require(\"./ddfcsv-reader\");\nexports.getDDFCsvReaderObject = ddfcsv_reader_1.prepareDDFCsvReaderObject(new frontend_file_reader_1.FrontendFileReader());\n//# sourceMappingURL=index-web.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/index-web.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire('fetch-polyfill');\nclass FrontendFileReader {\n    setRecordTransformer(recordTransformer) {\n        this.recordTransformer = recordTransformer;\n    }\n    readText(filePath, onFileRead) {\n        fetch(filePath)\n            .then(response => response.text())\n            .then(text => {\n            onFileRead(null, text);\n        })\n            .catch(err => {\n            onFileRead(`${filePath} read error: ${err}`);\n        });\n    }\n}\nexports.FrontendFileReader = FrontendFileReader;\n//# sourceMappingURL=frontend-file-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/file-readers/frontend-file-reader.js","(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = name.toString();\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = value.toString();\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    var self = this\n    if (headers instanceof Headers) {\n      headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          self.append(name, value)\n        })\n      })\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        self.append(name, headers[name])\n      })\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  // Instead of iterable for now.\n  Headers.prototype.forEach = function(callback) {\n    var self = this\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      callback(name, self.map[name])\n    })\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return fetch.Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new fetch.Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return fetch.Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return fetch.Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return fetch.Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : fetch.Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(function (text) {\n          return JSON.parse(text);\n      });\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(url, options) {\n    options = options || {}\n    this.url = url\n\n    this.credentials = options.credentials || 'omit'\n    this.headers = new Headers(options.headers)\n    this.method = normalizeMethod(options.method || 'GET')\n    this.mode = options.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && options.body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(options.body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  var noXhrPatch =\n    typeof window !== 'undefined' && !!window.ActiveXObject &&\n      !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);\n\n  function getXhr() {\n    // from backbone.js 1.1.2\n    // https://github.com/jashkenas/backbone/blob/1.1.2/backbone.js#L1181\n    if (noXhrPatch && !(/^(get|post|head|put|delete|options)$/i.test(this.method))) {\n      this.usingActiveXhr = true;\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    return new XMLHttpRequest();\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    // TODO: Request constructor should accept input, init\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new fetch.Promise(function(resolve, reject) {\n      var xhr = getXhr();\n      if (request.credentials === 'cors') {\n        xhr.withCredentials = true;\n      }\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      function onload() {\n        if (xhr.readyState !== 4) {\n          return\n        }\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n      xhr.onreadystatechange = onload;\n      if (!self.usingActiveXhr) {\n        xhr.onload = onload;\n        xhr.onerror = function() {\n          reject(new TypeError('Network request failed'))\n        }\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          xhr.setRequestHeader(name, value)\n        })\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  fetch.Promise = self.Promise; // you could change it to your favorite alternative\n  self.fetch.polyfill = true\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./~/fetch-polyfill/fetch.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FILE_READING_ERROR = 'File reading error';\nexports.JSON_PARSING_ERROR = 'JSON parsing error';\nexports.CSV_PARSING_ERROR = 'CSV parsing error';\nexports.DDF_ERROR = 'DDF error';\nclass DdfCsvError extends Error {\n    constructor(message, details, file) {\n        super();\n        this.name = 'DdfCsvError';\n        this.message = `${message} [filepath: ${file}]. ${details}.`;\n        this.details = details;\n        this.file = file;\n    }\n}\nexports.DdfCsvError = DdfCsvError;\n//# sourceMappingURL=ddfcsv-error.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddfcsv-error.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst isNil = require(\"lodash/isNil\");\nconst isObject = require(\"lodash/isObject\");\nconst ddf_csv_1 = require(\"./ddf-csv\");\nconst ddf_query_validator_1 = require(\"./ddf-query-validator\");\nfunction prepareDDFCsvReaderObject(defaultFileReader) {\n    return function (externalFileReader, logger) {\n        return {\n            init(readerInfo) {\n                this._basePath = readerInfo.path;\n                this._lastModified = readerInfo._lastModified;\n                this.fileReader = externalFileReader || defaultFileReader;\n                this.logger = logger;\n                this.resultTransformer = readerInfo.resultTransformer;\n                this.datasetsConfig = readerInfo.datasetsConfig;\n                this.isLocalReader = isNil(this.datasetsConfig) ? true : false;\n                this.isServerReader = !this.isLocalReader;\n                this.readerOptions = {\n                    basePath: this._basePath,\n                    fileReader: this.fileReader,\n                    logger: this.logger,\n                    datasetsConfig: this.datasetsConfig\n                };\n                this.reader = ddf_csv_1.ddfCsvReader(this.logger);\n            },\n            getAsset(asset) {\n                const isJsonAsset = asset.slice(-'.json'.length) === '.json';\n                let assetPath = `${this._basePath}/${asset}`;\n                if (isObject(asset)) {\n                    assetPath = ddf_query_validator_1.getDatasetPath(this._basePath, asset);\n                }\n                return new Promise((resolve, reject) => {\n                    this.fileReader.readText(assetPath, (err, data) => {\n                        if (err) {\n                            reject(err);\n                            return;\n                        }\n                        if (isJsonAsset) {\n                            try {\n                                resolve(JSON.parse(data));\n                            }\n                            catch (jsonErr) {\n                                reject(err);\n                            }\n                        }\n                        else {\n                            resolve(data);\n                        }\n                    });\n                });\n            },\n            read(queryParam, parsers) {\n                return tslib_1.__awaiter(this, void 0, void 0, function* () {\n                    let result;\n                    try {\n                        result = yield this.reader.query(queryParam, {\n                            basePath: this._basePath,\n                            datasetsConfig: this.datasetsConfig,\n                            fileReader: this.fileReader,\n                            logger: this.logger,\n                            conceptsLookup: new Map(),\n                            datapackagePath: '',\n                            datasetPath: '',\n                            dataset: ''\n                        });\n                        result = parsers ? this._prettifyData(result, parsers) : result;\n                        if (this.resultTransformer) {\n                            result = this.resultTransformer(result);\n                        }\n                        if (this.logger && this.logger.log) {\n                            logger.log(JSON.stringify(queryParam), result.length);\n                            logger.log(result);\n                        }\n                    }\n                    catch (error) {\n                        throw error;\n                    }\n                    return result;\n                });\n            },\n            _prettifyData(data, parsers) {\n                return data.map(record => {\n                    const keys = Object.keys(record);\n                    keys.forEach(key => {\n                        if (parsers[key]) {\n                            record[key] = parsers[key](record[key]);\n                        }\n                    });\n                    return record;\n                });\n            }\n        };\n    };\n}\nexports.prepareDDFCsvReaderObject = prepareDDFCsvReaderObject;\n//# sourceMappingURL=ddfcsv-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddfcsv-reader.js","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n                t[p[i]] = s[p[i]];\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function (m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    };\r\n\r\n    __values = function (o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result[\"default\"] = mod;\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslib/tslib.js","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isNil.js","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isObject.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst includes = require(\"lodash/includes\");\nconst cloneDeep = require(\"lodash/cloneDeep\");\nconst isEmpty = require(\"lodash/isEmpty\");\nconst query_optimization_plugins_1 = require(\"./query-optimization-plugins\");\nconst ddfcsv_error_1 = require(\"./ddfcsv-error\");\nconst ddf_query_validator_1 = require(\"./ddf-query-validator\");\nconst Papa = require(\"papaparse\");\nconst isValidNumeric = val => typeof val !== 'number' && !val ? false : true;\nfunction ddfCsvReader(logger) {\n    const internalConcepts = [\n        { concept: 'concept', concept_type: 'string', domain: null },\n        { concept: 'concept_type', concept_type: 'string', domain: null }\n    ];\n    const operators = new Map([\n        ['$and', (row, predicates) => predicates.every(p => applyFilterRow(row, p))],\n        ['$or', (row, predicates) => predicates.some(p => applyFilterRow(row, p))],\n        ['$not', (row, predicate) => !applyFilterRow(row, predicate)],\n        ['$nor', (row, predicates) => !predicates.some(p => applyFilterRow(row, p))],\n        ['$eq', (rowValue, filterValue) => rowValue == filterValue],\n        ['$ne', (rowValue, filterValue) => rowValue != filterValue],\n        ['$gt', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue > filterValue],\n        ['$gte', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue >= filterValue],\n        ['$lt', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue < filterValue],\n        ['$lte', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue <= filterValue],\n        ['$in', (rowValue, filterValue) => filterValue.has(rowValue)],\n        ['$nin', (rowValue, filterValue) => !filterValue.has(rowValue)],\n    ]);\n    const keyValueLookup = new Map();\n    const resourcesLookup = new Map();\n    let optimalFilesSet = [];\n    function loadDataPackage(baseOptions) {\n        return new Promise((resolve, reject) => {\n            baseOptions.fileReader.readText(baseOptions.datapackagePath, (err, data) => {\n                if (err) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, baseOptions.datapackagePath));\n                }\n                let datapackage;\n                try {\n                    datapackage = JSON.parse(data);\n                    optimalFilesSet = [];\n                    buildResourcesLookup(datapackage);\n                    buildKeyValueLookup(datapackage);\n                }\n                catch (parseErr) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.JSON_PARSING_ERROR, parseErr.message, baseOptions.datapackagePath));\n                }\n                resolve(datapackage);\n            });\n        });\n    }\n    function loadConcepts(queryParam, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            setConceptsLookup(internalConcepts, options);\n            const conceptQuery = {\n                select: { key: ['concept'], value: ['concept_type', 'domain'] },\n                from: 'concepts',\n                dataset: queryParam.dataset,\n                branch: queryParam.branch,\n                commit: queryParam.commit\n            };\n            let result;\n            try {\n                const concepts = yield queryData(conceptQuery, options);\n                buildConceptsLookup(concepts, options);\n                result = yield reparseConcepts(options);\n            }\n            catch (error) {\n                throw error;\n            }\n            return result;\n        });\n    }\n    function buildConceptsLookup(concepts, options) {\n        const entitySetMembershipConcepts = concepts\n            .filter(concept => concept.concept_type === 'entity_set')\n            .map(concept => ({\n            concept: 'is--' + concept.concept,\n            concept_type: 'boolean',\n            domain: null\n        }));\n        concepts = concepts\n            .concat(entitySetMembershipConcepts)\n            .concat(internalConcepts);\n        setConceptsLookup(concepts, options);\n    }\n    function reparseConcepts({ conceptsLookup }) {\n        const parsingFunctions = new Map([\n            ['boolean', (str) => str === 'true' || str === 'TRUE'],\n            ['measure', (str) => parseFloat(str)]\n        ]);\n        const resources = getResources(['concept']);\n        const resourceUpdates = [...resources].map(resource => {\n            return resource.data.then(response => {\n                const resourceConcepts = Object.keys(response.data[0]);\n                const parsingConcepts = new Map();\n                resourceConcepts.forEach(concept => {\n                    const type = conceptsLookup.get(concept).concept_type;\n                    const fn = parsingFunctions.get(type);\n                    if (fn) {\n                        parsingConcepts.set(concept, fn);\n                    }\n                });\n                return response.data.forEach(row => {\n                    for (const [concept, parseFn] of parsingConcepts) {\n                        row[concept] = parseFn(row[concept]);\n                    }\n                });\n            });\n        });\n        return Promise.all(resourceUpdates);\n    }\n    function setConceptsLookup(concepts, options) {\n        options.conceptsLookup.clear();\n        concepts.forEach(row => options.conceptsLookup.set(row.concept, row));\n    }\n    function query(queryParam, baseOptions) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let data;\n            try {\n                yield ddf_query_validator_1.validateQueryStructure(queryParam, baseOptions);\n                yield ddf_query_validator_1.extendQueryParamWithDatasetProps(queryParam, baseOptions);\n                const datapackage = yield loadDataPackage(baseOptions);\n                baseOptions.datapackage = datapackage;\n                yield loadConcepts(queryParam, baseOptions);\n                yield ddf_query_validator_1.validateQueryDefinitions(queryParam, baseOptions);\n                if (ddf_query_validator_1.isSchemaQuery(queryParam)) {\n                    data = yield querySchema(queryParam, { datapackage });\n                }\n                else {\n                    const appropriatePlugin = query_optimization_plugins_1.getAppropriatePlugin(queryParam, baseOptions);\n                    if (appropriatePlugin) {\n                        optimalFilesSet = [];\n                        const files = yield appropriatePlugin.getOptimalFilesSet();\n                        optimalFilesSet = files;\n                    }\n                    data = yield queryData(queryParam, baseOptions);\n                }\n            }\n            catch (error) {\n                throw error;\n            }\n            return data;\n        });\n    }\n    function queryData(queryParam, options) {\n        const { select: { key = [], value = [] }, from = '', where = {}, join = {}, order_by = [], language } = queryParam;\n        const select = { key, value };\n        const projection = new Set(select.key.concat(select.value));\n        const filterFields = getFilterFields(where).filter(field => !projection.has(field));\n        const resourcesPromise = loadResources(select.key, [...select.value, ...filterFields], language, options);\n        const joinsPromise = getJoinFilters(join, queryParam, options);\n        const entitySetFilterPromise = getEntitySetFilter(select.key, queryParam, options);\n        return Promise.all([resourcesPromise, entitySetFilterPromise, joinsPromise])\n            .then(([resourceResponses, entitySetFilter, joinFilters]) => {\n            const whereResolved = processWhere(where, joinFilters);\n            const filter = mergeFilters(entitySetFilter, whereResolved);\n            const dataTables = resourceResponses\n                .map(response => processResourceResponse(response, select, filterFields, options));\n            const queryResult = joinData(select.key, 'overwrite', ...dataTables)\n                .filter(row => applyFilterRow(row, filter))\n                .map(row => fillMissingValues(row, projection))\n                .map(row => projectRow(row, projection));\n            orderData(queryResult, order_by);\n            return queryResult;\n        });\n    }\n    function orderData(data, orderBy = []) {\n        if (orderBy.length === 0) {\n            return;\n        }\n        const orderNormalized = orderBy.map(orderPart => {\n            if (typeof orderPart === 'string') {\n                return { concept: orderPart, direction: 1 };\n            }\n            else {\n                const concept = Object.keys(orderPart)[0];\n                const direction = (orderPart[concept] === 'asc' ? 1 : -1);\n                return { concept, direction };\n            }\n        });\n        const n = orderNormalized.length;\n        data.sort((a, b) => {\n            for (let i = 0; i < n; i++) {\n                const order = orderNormalized[i];\n                if (a[order.concept] < b[order.concept]) {\n                    return -1 * order.direction;\n                }\n                else if (a[order.concept] > b[order.concept]) {\n                    return 1 * order.direction;\n                }\n            }\n            return 0;\n        });\n    }\n    function processWhere(where, joinFilters) {\n        const result = {};\n        for (const field in where) {\n            const fieldValue = where[field];\n            if (['$and', '$or', '$nor'].includes(field)) {\n                result[field] = fieldValue.map(subFilter => processWhere(subFilter, joinFilters));\n            }\n            else if (field === '$in' || field === '$nin') {\n                result[field] = new Set(fieldValue);\n            }\n            else if (typeof joinFilters[fieldValue] !== 'undefined') {\n                Object.assign(result, joinFilters[fieldValue]);\n            }\n            else if (typeof fieldValue === 'object') {\n                result[field] = processWhere(fieldValue, joinFilters);\n            }\n            else {\n                result[field] = fieldValue;\n            }\n        }\n        return result;\n    }\n    function mergeFilters(...filters) {\n        return filters.reduce((a, b) => {\n            a.$and.push(b);\n            return a;\n        }, { $and: [] });\n    }\n    function querySchema(queryParam, { datapackage }) {\n        const getSchemaFromCollection = collectionPar => {\n            return datapackage.ddfSchema[collectionPar].map(({ primaryKey, value }) => ({ key: primaryKey, value }));\n        };\n        const collection = queryParam.from.split('.')[0];\n        if (datapackage.ddfSchema[collection]) {\n            return getSchemaFromCollection(collection);\n        }\n        else if (collection === '*') {\n            return Object.keys(datapackage.ddfSchema)\n                .map(getSchemaFromCollection)\n                .reduce((a, b) => a.concat(b));\n        }\n        else {\n            throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, `No valid collection (${collection}) for schema query`));\n        }\n    }\n    function fillMissingValues(row, projection) {\n        for (const field of projection) {\n            if (typeof row[field] === 'undefined') {\n                row[field] = null;\n            }\n        }\n        return row;\n    }\n    function applyFilterRow(row, filter) {\n        return Object.keys(filter).every(filterKey => {\n            const operator = operators.get(filterKey);\n            if (operator) {\n                return operator(row, filter[filterKey]);\n            }\n            else if (typeof filter[filterKey] !== 'object') {\n                return operators.get('$eq')(row[filterKey], filter[filterKey]);\n            }\n            else {\n                return applyFilterRow(row[filterKey], filter[filterKey]);\n            }\n        });\n    }\n    function getJoinFilters(join, queryParam, options) {\n        return Promise.all(Object.keys(join).map(joinID => getJoinFilter(joinID, join[joinID], queryParam, options)))\n            .then(results => results.reduce(mergeObjects, {}));\n    }\n    function mergeObjects(a, b) {\n        return Object.assign(a, b);\n    }\n    function getJoinFilter(joinID, join, queryParam, options) {\n        if (options.conceptsLookup.get(join.key).concept_type === 'time') {\n            return Promise.resolve({ [joinID]: join.where });\n        }\n        else {\n            return query({\n                select: { key: [join.key] },\n                where: join.where,\n                from: options.conceptsLookup.has(join.key) ? 'entities' : 'concepts',\n                dataset: queryParam.dataset,\n                branch: queryParam.branch,\n                commit: queryParam.commit\n            }, Object.assign({ joinID }, cloneDeep(options)))\n                .then(result => ({\n                [joinID]: {\n                    [join.key]: {\n                        $in: new Set(result.map(row => row[join.key]))\n                    }\n                }\n            }));\n        }\n    }\n    function getFilterFields(filter) {\n        const fields = [];\n        for (const field in filter) {\n            if (['$and', '$or', '$not', '$nor'].includes(field)) {\n                filter[field].map(getFilterFields).forEach(subFields => fields.push(...subFields));\n            }\n            else {\n                fields.push(field);\n            }\n        }\n        return fields;\n    }\n    function filterConceptsByType(conceptTypes, queryKey, options) {\n        const conceptStrings = queryKey || Array.from(options.conceptsLookup.keys());\n        const concepts = [];\n        for (const conceptString of conceptStrings) {\n            const concept = options.conceptsLookup.get(conceptString);\n            if (conceptTypes.includes(concept.concept_type)) {\n                concepts.push(concept);\n            }\n        }\n        return concepts;\n    }\n    function getEntityConceptRenameMap(queryKey, resourceKey, options) {\n        const resourceKeySet = new Set(resourceKey);\n        const entityConceptTypes = ['entity_set', 'entity_domain'];\n        const queryEntityConcepts = filterConceptsByType(entityConceptTypes, queryKey, options);\n        if (queryEntityConcepts.length === 0) {\n            return new Map();\n        }\n        const allEntityConcepts = filterConceptsByType(entityConceptTypes, null, options);\n        return queryEntityConcepts\n            .map(concept => allEntityConcepts\n            .filter(lookupConcept => {\n            if (concept.concept_type === 'entity_set') {\n                return resourceKeySet.has(lookupConcept.concept) &&\n                    lookupConcept.concept !== concept.concept &&\n                    (lookupConcept.domain === concept.domain ||\n                        lookupConcept.concept === concept.domain);\n            }\n            else {\n                return resourceKeySet.has(lookupConcept.concept) &&\n                    lookupConcept.concept !== concept.concept &&\n                    lookupConcept.domain === concept.concept;\n            }\n        })\n            .reduce((map, aliasConcept) => map.set(aliasConcept.concept, concept.concept), new Map())).reduce((mapA, mapB) => new Map([...mapA, ...mapB]), new Map());\n    }\n    function getEntitySetFilter(conceptStrings, queryParam, options) {\n        const promises = filterConceptsByType(['entity_set'], conceptStrings, options)\n            .map(concept => query({\n            select: { key: [concept.domain], value: ['is--' + concept.concept] },\n            from: 'entities',\n            dataset: queryParam.dataset,\n            branch: queryParam.branch,\n            commit: queryParam.commit\n        }, Object.assign({}, cloneDeep(options)))\n            .then(result => ({\n            [concept.concept]: {\n                $in: new Set(result\n                    .filter(row => row['is--' + concept.concept])\n                    .map(row => row[concept.domain]))\n            }\n        })));\n        return Promise.all(promises).then(results => {\n            return results.reduce((a, b) => Object.assign(a, b), {});\n        });\n    }\n    function getResources(key, value) {\n        if (!value || value.length === 0) {\n            return new Set([...keyValueLookup\n                    .get(createKeyString(key))\n                    .values()\n            ].reduce((a, b) => a.concat(b)));\n        }\n        if (Array.isArray(value)) {\n            return value\n                .map(singleValue => getResources(key, singleValue))\n                .reduce((resultSet, resources) => new Set([...resultSet, ...resources]), new Set());\n        }\n        let oneKeyOneValueResourcesArray = keyValueLookup\n            .get(createKeyString(key))\n            .get(value);\n        if (oneKeyOneValueResourcesArray) {\n            oneKeyOneValueResourcesArray = oneKeyOneValueResourcesArray\n                .filter(v => isEmpty(optimalFilesSet) || includes(optimalFilesSet, v.path));\n        }\n        return new Set(oneKeyOneValueResourcesArray);\n    }\n    function processResourceResponse(response, select, filterFields, options) {\n        const resourcePK = response.resource.schema.primaryKey;\n        const resourceProjection = new Set([...resourcePK, ...select.value, ...filterFields]);\n        const renameMap = getEntityConceptRenameMap(select.key, resourcePK, options);\n        return response.data\n            .map(row => projectRow(row, resourceProjection))\n            .map(row => renameHeaderRow(row, renameMap));\n    }\n    function loadResources(key, value, language, options) {\n        const resources = getResources(key, value);\n        return Promise.all([...resources].map(resource => loadResource(resource, language, options)));\n    }\n    function projectRow(row, projectionSet) {\n        const result = {};\n        for (const concept in row) {\n            if (projectionSet.has(concept)) {\n                result[concept] = row[concept];\n            }\n        }\n        return result;\n    }\n    function renameHeaderRow(row, renameMap) {\n        const result = {};\n        for (const concept in row) {\n            result[renameMap.get(concept) || concept] = row[concept];\n        }\n        return result;\n    }\n    function joinData(key, joinMode, ...data) {\n        if (data.length === 1) {\n            return data[0];\n        }\n        const canonicalKey = key.slice(0).sort();\n        const dataMap = data.reduce((result, dataPar) => {\n            dataPar.forEach(row => {\n                const keyString = canonicalKey.map(concept => row[concept]).join(',');\n                if (result.has(keyString)) {\n                    const resultRow = result.get(keyString);\n                    joinRow(resultRow, row, joinMode);\n                }\n                else {\n                    result.set(keyString, row);\n                }\n            });\n            return result;\n        }, new Map());\n        return [...dataMap.values()];\n    }\n    function joinRow(resultRow, sourceRow, mode) {\n        switch (mode) {\n            case 'overwrite':\n                Object.assign(resultRow, sourceRow);\n                break;\n            case 'translation':\n                for (const concept in sourceRow) {\n                    if (sourceRow[concept] !== '') {\n                        resultRow[concept] = sourceRow[concept];\n                    }\n                }\n                break;\n            case 'overwriteWithError':\n                for (const concept in sourceRow) {\n                    if (resultRow[concept] !== undefined && resultRow[concept] !== sourceRow[concept]) {\n                        const sourceRowStr = JSON.stringify(sourceRow);\n                        const resultRowStr = JSON.stringify(resultRow);\n                        const errStr = `JOIN Error: two resources have different data for \"${concept}\": ${sourceRowStr},${resultRowStr}`;\n                        throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, errStr));\n                    }\n                    else {\n                        resultRow[concept] = sourceRow[concept];\n                    }\n                }\n                break;\n        }\n    }\n    function throwError(error) {\n        const currentLogger = logger || console;\n        currentLogger.error(error.message);\n        throw error;\n    }\n    function createKeyString(key, row = false) {\n        const canonicalKey = key.slice(0).sort();\n        if (!row) {\n            return canonicalKey.join(',');\n        }\n        else {\n            return canonicalKey.map(concept => row[concept]).join(',');\n        }\n    }\n    function loadResource(resource, language, options) {\n        const filePromises = [];\n        if (typeof resource.data === 'undefined') {\n            resource.data = loadFile(options.datasetPath + '/' + resource.path, options);\n        }\n        filePromises.push(resource.data);\n        const languageValid = typeof language !== 'undefined' && getLanguages(options).includes(language);\n        const languageLoaded = typeof resource.translations[language] !== 'undefined';\n        if (languageValid) {\n            if (!languageLoaded) {\n                const translationPath = `${options.datasetPath}/lang/${language}/${resource.path}`;\n                resource.translations[language] = loadFile(translationPath, options).catch(err => Promise.resolve({}));\n            }\n            filePromises.push(resource.translations[language]);\n        }\n        return Promise.all(filePromises).then(fileResponses => {\n            const filesData = fileResponses.map(resp => resp.data || []);\n            const primaryKey = resource.schema.primaryKey;\n            const data = joinData(primaryKey, 'translation', ...filesData);\n            return { data, resource };\n        });\n    }\n    function getLanguages({ datapackage }) {\n        if (!datapackage.translations) {\n            return [];\n        }\n        return datapackage.translations.map(lang => lang.id);\n    }\n    function loadFile(filePath, options) {\n        return new Promise((resolve, reject) => {\n            options.fileReader.readText(filePath, (err, data) => {\n                if (err) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, filePath));\n                }\n                Papa.parse(data, {\n                    header: true,\n                    skipEmptyLines: true,\n                    dynamicTyping: (headerName) => {\n                        if (!options.conceptsLookup) {\n                            return true;\n                        }\n                        const concept = options.conceptsLookup.get(headerName) || {};\n                        return ['boolean', 'measure'].includes(concept.concept_type);\n                    },\n                    complete: result => resolve(result),\n                    error: error => reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.CSV_PARSING_ERROR, error, filePath))\n                });\n            });\n        });\n    }\n    function buildResourcesLookup(datapackagePar) {\n        if (resourcesLookup.size > 0) {\n            return resourcesLookup;\n        }\n        datapackagePar.resources.forEach(resource => {\n            if (!Array.isArray(resource.schema.primaryKey)) {\n                resource.schema.primaryKey = [resource.schema.primaryKey];\n            }\n            resource.translations = {};\n            resourcesLookup.set(resource.name, resource);\n        });\n        return resourcesLookup;\n    }\n    function buildKeyValueLookup(datapackagePar) {\n        if (keyValueLookup.size > 0) {\n            return keyValueLookup;\n        }\n        for (const collection in datapackagePar.ddfSchema) {\n            datapackagePar.ddfSchema[collection].map(kvPair => {\n                const key = createKeyString(kvPair.primaryKey);\n                const resources = kvPair.resources.map(resourceName => resourcesLookup.get(resourceName));\n                if (keyValueLookup.has(key)) {\n                    keyValueLookup.get(key).set(kvPair.value, resources);\n                }\n                else {\n                    keyValueLookup.set(key, new Map([[kvPair.value, resources]]));\n                }\n            });\n        }\n        return keyValueLookup;\n    }\n    return {\n        query\n    };\n}\nexports.ddfCsvReader = ddfCsvReader;\n//# sourceMappingURL=ddf-csv.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-csv.js","var baseIndexOf = require('./_baseIndexOf'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    toInteger = require('./toInteger'),\n    values = require('./values');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nmodule.exports = includes;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/includes.js","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIndexOf.js","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFindIndex.js","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsNaN.js","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_strictIndexOf.js","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArrayLike.js","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isFunction.js","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGetTag.js","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Symbol.js","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_root.js","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_freeGlobal.js","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getRawTag.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_objectToString.js","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isLength.js","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isString.js","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArray.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isObjectLike.js","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toInteger.js","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toFinite.js","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toNumber.js","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isSymbol.js","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/values.js","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseValues.js","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayMap.js","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/keys.js","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayLikeKeys.js","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseTimes.js","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArguments.js","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsArguments.js","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isBuffer.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/stubFalse.js","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isIndex.js","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isTypedArray.js","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsTypedArray.js","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseUnary.js","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nodeUtil.js","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseKeys.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isPrototype.js","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nativeKeys.js","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_overArg.js","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/cloneDeep.js","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isObject = require('./isObject'),\n    keys = require('./keys');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseClone.js","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Stack.js","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_ListCache.js","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheClear.js","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheDelete.js","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_assocIndexOf.js","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/eq.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheGet.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheHas.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheSet.js","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackClear.js","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackDelete.js","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackGet.js","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackHas.js","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackSet.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Map.js","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getNative.js","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsNative.js","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isMasked.js","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_coreJsData.js","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_toSource.js","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getValue.js","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_MapCache.js","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheClear.js","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Hash.js","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashClear.js","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nativeCreate.js","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashDelete.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashGet.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashHas.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashSet.js","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheDelete.js","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getMapData.js","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isKeyable.js","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheGet.js","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheHas.js","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheSet.js","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayEach.js","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_assignValue.js","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseAssignValue.js","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_defineProperty.js","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseAssign.js","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_copyObject.js","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseAssignIn.js","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/keysIn.js","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseKeysIn.js","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nativeKeysIn.js","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cloneBuffer.js","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_copyArray.js","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_copySymbols.js","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getSymbols.js","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayFilter.js","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/stubArray.js","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_copySymbolsIn.js","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getSymbolsIn.js","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayPush.js","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getPrototype.js","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getAllKeys.js","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGetAllKeys.js","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getAllKeysIn.js","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getTag.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_DataView.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Promise.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Set.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_WeakMap.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_initCloneArray.js","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneMap = require('./_cloneMap'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSet = require('./_cloneSet'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_initCloneByTag.js","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cloneArrayBuffer.js","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Uint8Array.js","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cloneDataView.js","var addMapEntry = require('./_addMapEntry'),\n    arrayReduce = require('./_arrayReduce'),\n    mapToArray = require('./_mapToArray');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), CLONE_DEEP_FLAG) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\nmodule.exports = cloneMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cloneMap.js","/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\nmodule.exports = addMapEntry;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_addMapEntry.js","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayReduce.js","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapToArray.js","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cloneRegExp.js","var addSetEntry = require('./_addSetEntry'),\n    arrayReduce = require('./_arrayReduce'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), CLONE_DEEP_FLAG) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\nmodule.exports = cloneSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cloneSet.js","/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\nmodule.exports = addSetEntry;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_addSetEntry.js","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setToArray.js","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cloneSymbol.js","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cloneTypedArray.js","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_initCloneObject.js","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseCreate.js","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isEmpty.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst in_clause_under_conjunction_plugin_1 = require(\"./in-clause-under-conjunction-plugin\");\nconst head = require(\"lodash/head\");\nfunction getAppropriatePlugin(queryParam, options) {\n    const plugins = [\n        new in_clause_under_conjunction_plugin_1.InClauseUnderConjunctionPlugin(queryParam, options)\n    ];\n    return head(plugins.filter(plugin => plugin.isMatched()));\n}\nexports.getAppropriatePlugin = getAppropriatePlugin;\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/query-optimization-plugins/index.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst path = require(\"path\");\nconst head = require(\"lodash/head\");\nconst values = require(\"lodash/values\");\nconst keys = require(\"lodash/keys\");\nconst get = require(\"lodash/get\");\nconst flattenDeep = require(\"lodash/flattenDeep\");\nconst isEmpty = require(\"lodash/isEmpty\");\nconst startsWith = require(\"lodash/startsWith\");\nconst includes = require(\"lodash/includes\");\nconst compact = require(\"lodash/compact\");\nconst ddfcsv_error_1 = require(\"../ddfcsv-error\");\nconst Papa = require('papaparse');\nconst WHERE_KEYWORD = 'where';\nconst JOIN_KEYWORD = 'join';\nconst KEY_KEYWORD = 'key';\nconst KEY_IN = '$in';\nconst KEY_AND = '$and';\nconst getFirstConditionClause = clause => head(values(clause));\nconst getFirstKey = obj => head(keys(obj));\nconst isOneKeyBased = obj => keys(obj).length === 1;\nclass InClauseUnderConjunctionPlugin {\n    constructor(queryParam, options) {\n        this.flow = {};\n        this.fileReader = options.fileReader;\n        this.datasetPath = options.datasetPath;\n        this.query = queryParam;\n        this.datapackage = options.datapackage;\n    }\n    isMatched() {\n        this.flow.joinObject = get(this.query, JOIN_KEYWORD);\n        const mainAndClause = get(this.query, WHERE_KEYWORD);\n        const isMainAndClauseCorrect = isOneKeyBased(mainAndClause);\n        const joinKeys = keys(this.flow.joinObject);\n        let areJoinKeysSameAsKeyInWhereClause = true;\n        for (const key of joinKeys) {\n            const joinPart = get(this.flow.joinObject, key, {});\n            const firstKey = getFirstKey(joinPart[WHERE_KEYWORD]);\n            if (joinPart[KEY_KEYWORD] !== firstKey && firstKey !== KEY_AND) {\n                areJoinKeysSameAsKeyInWhereClause = false;\n                break;\n            }\n        }\n        return isMainAndClauseCorrect && !!this.flow.joinObject && areJoinKeysSameAsKeyInWhereClause;\n    }\n    getOptimalFilesSet() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (this.isMatched()) {\n                let result;\n                try {\n                    this.fillResourceToFileHash();\n                    this.collectProcessableClauses();\n                    this.collectEntityFilesNames();\n                    const data = yield this.collectEntities();\n                    this.fillEntityValuesHash(data);\n                    this.getFilesGroupsQueryClause();\n                    result = this.getOptimalFilesGroup();\n                }\n                catch (err) {\n                    return [];\n                }\n                return result;\n            }\n            else {\n                throw new ddfcsv_error_1.DdfCsvError(`Plugin \"InClauseUnderConjunction\" is not matched!`, 'InClauseUnderConjunction plugin');\n            }\n        });\n    }\n    fillResourceToFileHash() {\n        this.flow.resourceToFile = get(this.datapackage, 'resources', []).reduce((hash, resource) => {\n            hash.set(resource.name, resource.path);\n            return hash;\n        }, new Map());\n        return this;\n    }\n    collectProcessableClauses() {\n        const joinKeys = keys(this.flow.joinObject);\n        this.flow.processableClauses = [];\n        for (const joinKey of joinKeys) {\n            const where = get(this.flow.joinObject, `${joinKey}.${WHERE_KEYWORD}`, {});\n            if (this.singleAndField(where)) {\n                this.flow.processableClauses.push(...flattenDeep(where[KEY_AND].map(el => this.getProcessableClauses(el))));\n            }\n            else {\n                this.flow.processableClauses.push(...this.getProcessableClauses(where));\n            }\n        }\n        return this;\n    }\n    collectEntityFilesNames() {\n        this.flow.entityFilesNames = [];\n        this.flow.fileNameToPrimaryKeyHash = new Map();\n        for (const schemaResourceRecord of this.datapackage.ddfSchema.entities) {\n            for (const clause of this.flow.processableClauses) {\n                const primaryKey = getFirstKey(clause);\n                if (head(schemaResourceRecord.primaryKey) === primaryKey) {\n                    for (const resourceName of schemaResourceRecord.resources) {\n                        const file = this.flow.resourceToFile.get(resourceName);\n                        this.flow.entityFilesNames.push(file);\n                        this.flow.fileNameToPrimaryKeyHash.set(file, primaryKey);\n                    }\n                }\n            }\n        }\n        return this;\n    }\n    collectEntities() {\n        const self = this;\n        const actions = self.flow.entityFilesNames.map(file => new Promise((actResolve, actReject) => {\n            self.fileReader.readText(path.resolve(self.datasetPath, file), (err, text) => {\n                if (err) {\n                    return actReject(err);\n                }\n                Papa.parse(text, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: result => actResolve({ file, result }),\n                    error: error => actReject(error)\n                });\n            });\n        }));\n        return Promise.all(actions);\n    }\n    fillEntityValuesHash(entitiesData) {\n        const getSubdomainsFromRecord = record => compact(keys(record)\n            .filter(key => startsWith(key, 'is--') && (record[key] === 'TRUE' || record[key] === 'true'))\n            .map(key => key.replace(/^is--/, '')));\n        this.flow.entityValueToFileHash = new Map();\n        this.flow.entityValueToDomainHash = new Map();\n        for (const entityFileDescriptor of entitiesData) {\n            for (const entityRecord of entityFileDescriptor.result.data) {\n                const primaryKeyForThisFile = this.flow.fileNameToPrimaryKeyHash.get(entityFileDescriptor.file);\n                const primaryKeyCellValue = entityRecord[primaryKeyForThisFile];\n                const domainsForCurrentRecord = [...getSubdomainsFromRecord(entityRecord)];\n                if (isEmpty(domainsForCurrentRecord)) {\n                    domainsForCurrentRecord.push(primaryKeyForThisFile);\n                }\n                this.flow.entityValueToDomainHash.set(primaryKeyCellValue, domainsForCurrentRecord);\n                this.flow.entityValueToFileHash.set(primaryKeyCellValue, entityFileDescriptor.file);\n            }\n        }\n        return this;\n    }\n    getFilesGroupsQueryClause() {\n        const filesGroupsByClause = new Map();\n        for (const clause of this.flow.processableClauses) {\n            const filesGroupByClause = {\n                entities: new Set(),\n                datapoints: new Set(),\n                concepts: new Set()\n            };\n            const entityValuesFromClause = getFirstConditionClause(clause).$in;\n            for (const entityValueFromClause of entityValuesFromClause) {\n                filesGroupByClause.entities.add(this.flow.entityValueToFileHash.get(entityValueFromClause));\n                const entitiesByQuery = this.flow.entityValueToDomainHash.get(entityValueFromClause);\n                for (const entityByQuery of entitiesByQuery) {\n                    for (const schemaResourceRecord of this.datapackage.ddfSchema.datapoints) {\n                        for (const resourceName of schemaResourceRecord.resources) {\n                            if (includes(schemaResourceRecord.primaryKey, entityByQuery)) {\n                                filesGroupByClause.datapoints.add(this.flow.resourceToFile.get(resourceName));\n                            }\n                        }\n                    }\n                }\n            }\n            for (const schemaResourceRecord of this.datapackage.ddfSchema.concepts) {\n                for (const resourceName of schemaResourceRecord.resources) {\n                    filesGroupByClause.concepts.add(this.flow.resourceToFile.get(resourceName));\n                }\n            }\n            filesGroupsByClause.set(clause, filesGroupByClause);\n        }\n        this.flow.filesGroupsByClause = filesGroupsByClause;\n        return this;\n    }\n    getOptimalFilesGroup() {\n        const clauseKeys = this.flow.filesGroupsByClause.keys();\n        let appropriateClauseKey;\n        let appropriateClauseSize;\n        for (const key of clauseKeys) {\n            const size = this.flow.filesGroupsByClause.get(key).datapoints.size +\n                this.flow.filesGroupsByClause.get(key).entities.size +\n                this.flow.filesGroupsByClause.get(key).concepts.size;\n            if (!appropriateClauseKey || size < appropriateClauseSize) {\n                appropriateClauseKey = key;\n                appropriateClauseSize = size;\n            }\n        }\n        return [\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).concepts),\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).entities),\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).datapoints)\n        ];\n    }\n    getProcessableClauses(clause) {\n        const result = [];\n        const clauseKeys = keys(clause);\n        for (const key of clauseKeys) {\n            if (!startsWith(key, '$') && isOneKeyBased(clause[key])) {\n                const conditionKey = head(keys(clause[key]));\n                if (conditionKey === KEY_IN) {\n                    result.push(clause);\n                }\n            }\n        }\n        return result;\n    }\n    singleAndField(clause) {\n        return isOneKeyBased(clause) && !!get(clause, KEY_AND);\n    }\n}\nexports.InClauseUnderConjunctionPlugin = InClauseUnderConjunctionPlugin;\n//# sourceMappingURL=in-clause-under-conjunction-plugin.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/query-optimization-plugins/in-clause-under-conjunction-plugin.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n\n\n// WEBPACK FOOTER //\n// ./~/path-browserify/index.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/process/browser.js","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/head.js","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/get.js","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGet.js","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_castPath.js","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isKey.js","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stringToPath.js","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_memoizeCapped.js","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/memoize.js","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toString.js","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseToString.js","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_toKey.js","var baseFlatten = require('./_baseFlatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/flattenDeep.js","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFlatten.js","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isFlattenable.js","var baseClamp = require('./_baseClamp'),\n    baseToString = require('./_baseToString'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/**\n * Checks if `string` starts with the given target string.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {string} [target] The string to search for.\n * @param {number} [position=0] The position to search from.\n * @returns {boolean} Returns `true` if `string` starts with `target`,\n *  else `false`.\n * @example\n *\n * _.startsWith('abc', 'a');\n * // => true\n *\n * _.startsWith('abc', 'b');\n * // => false\n *\n * _.startsWith('abc', 'b', 1);\n * // => true\n */\nfunction startsWith(string, target, position) {\n  string = toString(string);\n  position = position == null\n    ? 0\n    : baseClamp(toInteger(position), 0, string.length);\n\n  target = baseToString(target);\n  return string.slice(position, position + target.length) == target;\n}\n\nmodule.exports = startsWith;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/startsWith.js","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseClamp.js","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/compact.js","/*!\n\tPapa Parse\n\tv4.3.6\n\thttps://github.com/mholt/PapaParse\n\tLicense: MIT\n*/\n(function(root, factory)\n{\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t}\n\telse if (typeof module === 'object' && typeof exports !== 'undefined')\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n\telse\n\t{\n\t\t// Browser globals (root is window)\n\t\troot.Papa = factory();\n\t}\n}(this, function()\n{\n\t'use strict';\n\n\tvar global = (function () {\n\t\t// alternative method, similar to `Function('return this')()`\n\t\t// but without using `eval` (which is disabled when\n\t\t// using Content Security Policy).\n\n\t\tif (typeof self !== 'undefined') { return self; }\n\t\tif (typeof window !== 'undefined') { return window; }\n\t\tif (typeof global !== 'undefined') { return global; }\n\n\t\t// When running tests none of the above have been defined\n\t\treturn {};\n\t})();\n\n\n\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\tIS_PAPA_WORKER = IS_WORKER && /(\\?|&)papaworker(=|&|$)/.test(global.location.search),\n\t\tLOADED_SYNC = false, AUTO_SCRIPT_PATH;\n\tvar workers = {}, workerIdCounter = 0;\n\n\tvar Papa = {};\n\n\tPapa.parse = CsvToJson;\n\tPapa.unparse = JsonToCsv;\n\n\tPapa.RECORD_SEP = String.fromCharCode(30);\n\tPapa.UNIT_SEP = String.fromCharCode(31);\n\tPapa.BYTE_ORDER_MARK = '\\ufeff';\n\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\tPapa.SCRIPT_PATH = null;\t// Must be set by your code if you use workers and this lib is loaded asynchronously\n\n\t// Configurable chunk sizes for local and remote files, respectively\n\tPapa.LocalChunkSize = 1024 * 1024 * 10;\t// 10 MB\n\tPapa.RemoteChunkSize = 1024 * 1024 * 5;\t// 5 MB\n\tPapa.DefaultDelimiter = ',';\t\t\t// Used if not specified and detection fails\n\n\t// Exposed for testing and development only\n\tPapa.Parser = Parser;\n\tPapa.ParserHandle = ParserHandle;\n\tPapa.NetworkStreamer = NetworkStreamer;\n\tPapa.FileStreamer = FileStreamer;\n\tPapa.StringStreamer = StringStreamer;\n\tPapa.ReadableStreamStreamer = ReadableStreamStreamer;\n\n\tif (global.jQuery)\n\t{\n\t\tvar $ = global.jQuery;\n\t\t$.fn.parse = function(options)\n\t\t{\n\t\t\tvar config = options.config || {};\n\t\t\tvar queue = [];\n\n\t\t\tthis.each(function(idx)\n\t\t\t{\n\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT'\n\t\t\t\t\t\t\t\t&& $(this).attr('type').toLowerCase() === 'file'\n\t\t\t\t\t\t\t\t&& global.FileReader;\n\n\t\t\t\tif (!supported || !this.files || this.files.length === 0)\n\t\t\t\t\treturn true;\t// continue to next input element\n\n\t\t\t\tfor (var i = 0; i < this.files.length; i++)\n\t\t\t\t{\n\t\t\t\t\tqueue.push({\n\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparseNextFile();\t// begin parsing\n\t\t\treturn this;\t\t// maintains chainability\n\n\n\t\t\tfunction parseNextFile()\n\t\t\t{\n\t\t\t\tif (queue.length === 0)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(options.complete))\n\t\t\t\t\t\toptions.complete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar f = queue[0];\n\n\t\t\t\tif (isFunction(options.before))\n\t\t\t\t{\n\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\n\t\t\t\t\tif (typeof returned === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (returned.action === 'abort')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\treturn;\t// Aborts all queued files immediately\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (returned.action === 'skip')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof returned.config === 'object')\n\t\t\t\t\t\t\tf.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t}\n\t\t\t\t\telse if (returned === 'skip')\n\t\t\t\t\t{\n\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\tf.instanceConfig.complete = function(results)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(userCompleteFunc))\n\t\t\t\t\t\tuserCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\tfileComplete();\n\t\t\t\t};\n\n\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t}\n\n\t\t\tfunction error(name, file, elem, reason)\n\t\t\t{\n\t\t\t\tif (isFunction(options.error))\n\t\t\t\t\toptions.error({name: name}, file, elem, reason);\n\t\t\t}\n\n\t\t\tfunction fileComplete()\n\t\t\t{\n\t\t\t\tqueue.splice(0, 1);\n\t\t\t\tparseNextFile();\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (IS_PAPA_WORKER)\n\t{\n\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t}\n\telse if (Papa.WORKERS_SUPPORTED)\n\t{\n\t\tAUTO_SCRIPT_PATH = getScriptPath();\n\n\t\t// Check if the script was loaded synchronously\n\t\tif (!document.body)\n\t\t{\n\t\t\t// Body doesn't exist yet, must be synchronous\n\t\t\tLOADED_SYNC = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\tLOADED_SYNC = true;\n\t\t\t}, true);\n\t\t}\n\t}\n\n\n\n\n\tfunction CsvToJson(_input, _config)\n\t{\n\t\t_config = _config || {};\n\t\tvar dynamicTyping = _config.dynamicTyping || false;\n\t\tif (isFunction(dynamicTyping)) {\n\t\t\t_config.dynamicTypingFunction = dynamicTyping;\n\t\t\t// Will be filled on first row call\n\t\t\tdynamicTyping = {};\n\t\t}\n\t\t_config.dynamicTyping = dynamicTyping;\n\n\t\tif (_config.worker && Papa.WORKERS_SUPPORTED)\n\t\t{\n\t\t\tvar w = newWorker();\n\n\t\t\tw.userStep = _config.step;\n\t\t\tw.userChunk = _config.chunk;\n\t\t\tw.userComplete = _config.complete;\n\t\t\tw.userError = _config.error;\n\n\t\t\t_config.step = isFunction(_config.step);\n\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t_config.error = isFunction(_config.error);\n\t\t\tdelete _config.worker;\t// prevent infinite loop\n\n\t\t\tw.postMessage({\n\t\t\t\tinput: _input,\n\t\t\t\tconfig: _config,\n\t\t\t\tworkerId: w.id\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar streamer = null;\n\t\tif (typeof _input === 'string')\n\t\t{\n\t\t\tif (_config.download)\n\t\t\t\tstreamer = new NetworkStreamer(_config);\n\t\t\telse\n\t\t\t\tstreamer = new StringStreamer(_config);\n\t\t}\n\t\telse if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))\n\t\t{\n\t\t\tstreamer = new ReadableStreamStreamer(_config);\n\t\t}\n\t\telse if ((global.File && _input instanceof File) || _input instanceof Object)\t// ...Safari. (see issue #106)\n\t\t\tstreamer = new FileStreamer(_config);\n\n\t\treturn streamer.stream(_input);\n\t}\n\n\n\n\n\n\n\tfunction JsonToCsv(_input, _config)\n\t{\n\t\tvar _output = '';\n\t\tvar _fields = [];\n\n\t\t// Default configuration\n\n\t\t/** whether to surround every datum with quotes */\n\t\tvar _quotes = false;\n\n\t\t/** whether to write headers */\n\t\tvar _writeHeader = true;\n\n\t\t/** delimiting character */\n\t\tvar _delimiter = ',';\n\n\t\t/** newline character(s) */\n\t\tvar _newline = '\\r\\n';\n\n\t\t/** quote character */\n\t\tvar _quoteChar = '\"';\n\n\t\tunpackConfig();\n\n\t\tvar quoteCharRegex = new RegExp(_quoteChar, 'g');\n\n\t\tif (typeof _input === 'string')\n\t\t\t_input = JSON.parse(_input);\n\n\t\tif (_input instanceof Array)\n\t\t{\n\t\t\tif (!_input.length || _input[0] instanceof Array)\n\t\t\t\treturn serialize(null, _input);\n\t\t\telse if (typeof _input[0] === 'object')\n\t\t\t\treturn serialize(objectKeys(_input[0]), _input);\n\t\t}\n\t\telse if (typeof _input === 'object')\n\t\t{\n\t\t\tif (typeof _input.data === 'string')\n\t\t\t\t_input.data = JSON.parse(_input.data);\n\n\t\t\tif (_input.data instanceof Array)\n\t\t\t{\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.meta && _input.meta.fields;\n\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.data[0] instanceof Array\n\t\t\t\t\t\t\t\t\t? _input.fields\n\t\t\t\t\t\t\t\t\t: objectKeys(_input.data[0]);\n\n\t\t\t\tif (!(_input.data[0] instanceof Array) && typeof _input.data[0] !== 'object')\n\t\t\t\t\t_input.data = [_input.data];\t// handles input like [1,2,3] or ['asdf']\n\t\t\t}\n\n\t\t\treturn serialize(_input.fields || [], _input.data || []);\n\t\t}\n\n\t\t// Default (any valid paths should return before this)\n\t\tthrow 'exception: Unable to serialize unrecognized input';\n\n\n\t\tfunction unpackConfig()\n\t\t{\n\t\t\tif (typeof _config !== 'object')\n\t\t\t\treturn;\n\n\t\t\tif (typeof _config.delimiter === 'string'\n\t\t\t\t&& _config.delimiter.length === 1\n\t\t\t\t&& Papa.BAD_DELIMITERS.indexOf(_config.delimiter) === -1)\n\t\t\t{\n\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tif (typeof _config.quotes === 'boolean'\n\t\t\t\t|| _config.quotes instanceof Array)\n\t\t\t\t_quotes = _config.quotes;\n\n\t\t\tif (typeof _config.newline === 'string')\n\t\t\t\t_newline = _config.newline;\n\n\t\t\tif (typeof _config.quoteChar === 'string')\n\t\t\t\t_quoteChar = _config.quoteChar;\n\n\t\t\tif (typeof _config.header === 'boolean')\n\t\t\t\t_writeHeader = _config.header;\n\t\t}\n\n\n\t\t/** Turns an object's keys into an array */\n\t\tfunction objectKeys(obj)\n\t\t{\n\t\t\tif (typeof obj !== 'object')\n\t\t\t\treturn [];\n\t\t\tvar keys = [];\n\t\t\tfor (var key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn keys;\n\t\t}\n\n\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\tfunction serialize(fields, data)\n\t\t{\n\t\t\tvar csv = '';\n\n\t\t\tif (typeof fields === 'string')\n\t\t\t\tfields = JSON.parse(fields);\n\t\t\tif (typeof data === 'string')\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\tvar hasHeader = fields instanceof Array && fields.length > 0;\n\t\t\tvar dataKeyedByField = !(data[0] instanceof Array);\n\n\t\t\t// If there a header row, write it first\n\t\t\tif (hasHeader && _writeHeader)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < fields.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t}\n\t\t\t\tif (data.length > 0)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\t// Then write out the data\n\t\t\tfor (var row = 0; row < data.length; row++)\n\t\t\t{\n\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\n\t\t\t\tfor (var col = 0; col < maxCol; col++)\n\t\t\t\t{\n\t\t\t\t\tif (col > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t}\n\n\t\t\t\tif (row < data.length - 1)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\treturn csv;\n\t\t}\n\n\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\tfunction safe(str, col)\n\t\t{\n\t\t\tif (typeof str === 'undefined' || str === null)\n\t\t\t\treturn '';\n\n\t\t\tstr = str.toString().replace(quoteCharRegex, _quoteChar+_quoteChar);\n\n\t\t\tvar needsQuotes = (typeof _quotes === 'boolean' && _quotes)\n\t\t\t\t\t\t\t|| (_quotes instanceof Array && _quotes[col])\n\t\t\t\t\t\t\t|| hasAny(str, Papa.BAD_DELIMITERS)\n\t\t\t\t\t\t\t|| str.indexOf(_delimiter) > -1\n\t\t\t\t\t\t\t|| str.charAt(0) === ' '\n\t\t\t\t\t\t\t|| str.charAt(str.length - 1) === ' ';\n\n\t\t\treturn needsQuotes ? _quoteChar + str + _quoteChar : str;\n\t\t}\n\n\t\tfunction hasAny(str, substrings)\n\t\t{\n\t\t\tfor (var i = 0; i < substrings.length; i++)\n\t\t\t\tif (str.indexOf(substrings[i]) > -1)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\tfunction ChunkStreamer(config)\n\t{\n\t\tthis._handle = null;\n\t\tthis._paused = false;\n\t\tthis._finished = false;\n\t\tthis._input = null;\n\t\tthis._baseIndex = 0;\n\t\tthis._partialLine = '';\n\t\tthis._rowCount = 0;\n\t\tthis._start = 0;\n\t\tthis._nextChunk = null;\n\t\tthis.isFirstChunk = true;\n\t\tthis._completeResults = {\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\t\treplaceConfig.call(this, config);\n\n\t\tthis.parseChunk = function(chunk)\n\t\t{\n\t\t\t// First chunk pre-processing\n\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))\n\t\t\t{\n\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\tif (modifiedChunk !== undefined)\n\t\t\t\t\tchunk = modifiedChunk;\n\t\t\t}\n\t\t\tthis.isFirstChunk = false;\n\n\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\tthis._partialLine = '';\n\n\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\n\t\t\tif (this._handle.paused() || this._handle.aborted())\n\t\t\t\treturn;\n\n\t\t\tvar lastIndex = results.meta.cursor;\n\n\t\t\tif (!this._finished)\n\t\t\t{\n\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t}\n\n\t\t\tif (results && results.data)\n\t\t\t\tthis._rowCount += results.data.length;\n\n\t\t\tvar finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);\n\n\t\t\tif (IS_PAPA_WORKER)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tresults: results,\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (isFunction(this._config.chunk))\n\t\t\t{\n\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\tif (this._paused)\n\t\t\t\t\treturn;\n\t\t\t\tresults = undefined;\n\t\t\t\tthis._completeResults = undefined;\n\t\t\t}\n\n\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t}\n\n\t\t\tif (finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted))\n\t\t\t\tthis._config.complete(this._completeResults, this._input);\n\n\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused))\n\t\t\t\tthis._nextChunk();\n\n\t\t\treturn results;\n\t\t};\n\n\t\tthis._sendError = function(error)\n\t\t{\n\t\t\tif (isFunction(this._config.error))\n\t\t\t\tthis._config.error(error);\n\t\t\telse if (IS_PAPA_WORKER && this._config.error)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\terror: error,\n\t\t\t\t\tfinished: false\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction replaceConfig(config)\n\t\t{\n\t\t\t// Deep-copy the config so we can edit it\n\t\t\tvar configCopy = copy(config);\n\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize);\t// parseInt VERY important so we don't concatenate strings!\n\t\t\tif (!config.step && !config.chunk)\n\t\t\t\tconfigCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\tthis._handle.streamer = this;\n\t\t\tthis._config = configCopy;\t// persist the copy to the caller\n\t\t}\n\t}\n\n\n\tfunction NetworkStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.RemoteChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar xhr;\n\n\t\tif (IS_WORKER)\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t\tthis._chunkLoaded();\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t};\n\t\t}\n\n\t\tthis.stream = function(url)\n\t\t{\n\t\t\tthis._input = url;\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tif (this._finished)\n\t\t\t{\n\t\t\t\tthis._chunkLoaded();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\tif (this._config.withCredentials)\n\t\t\t{\n\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t}\n\n\t\t\tif (!IS_WORKER)\n\t\t\t{\n\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\n\t\t\txhr.open('GET', this._input, !IS_WORKER);\n\t\t\t// Headers can only be set when once the request state is OPENED\n\t\t\tif (this._config.downloadRequestHeaders)\n\t\t\t{\n\t\t\t\tvar headers = this._config.downloadRequestHeaders;\n\n\t\t\t\tfor (var headerName in headers)\n\t\t\t\t{\n\t\t\t\t\txhr.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = this._start + this._config.chunkSize - 1;\t// minus one because byte range is inclusive\n\t\t\t\txhr.setRequestHeader('Range', 'bytes='+this._start+'-'+end);\n\t\t\t\txhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis._chunkError(err.message);\n\t\t\t}\n\n\t\t\tif (IS_WORKER && xhr.status === 0)\n\t\t\t\tthis._chunkError();\n\t\t\telse\n\t\t\t\tthis._start += this._config.chunkSize;\n\t\t}\n\n\t\tthis._chunkLoaded = function()\n\t\t{\n\t\t\tif (xhr.readyState != 4)\n\t\t\t\treturn;\n\n\t\t\tif (xhr.status < 200 || xhr.status >= 400)\n\t\t\t{\n\t\t\t\tthis._chunkError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._finished = !this._config.chunkSize || this._start > getFileSize(xhr);\n\t\t\tthis.parseChunk(xhr.responseText);\n\t\t}\n\n\t\tthis._chunkError = function(errorMessage)\n\t\t{\n\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\tthis._sendError(errorText);\n\t\t}\n\n\t\tfunction getFileSize(xhr)\n\t\t{\n\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\tif (contentRange === null) { // no content range, then finish!\n\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\treturn parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));\n\t\t}\n\t}\n\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\n\n\tfunction FileStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.LocalChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar reader, slice;\n\n\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\tvar usingAsyncReader = typeof FileReader !== 'undefined';\t// Safari doesn't consider it a function - see issue #105\n\n\t\tthis.stream = function(file)\n\t\t{\n\t\t\tthis._input = file;\n\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\n\t\t\tif (usingAsyncReader)\n\t\t\t{\n\t\t\t\treader = new FileReader();\t\t// Preferred method of reading files, even in workers\n\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\t\t\telse\n\t\t\t\treader = new FileReaderSync();\t// Hack for running in a web worker in Firefox\n\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))\n\t\t\t\tthis._readChunk();\n\t\t}\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tvar input = this._input;\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t}\n\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\tif (!usingAsyncReader)\n\t\t\t\tthis._chunkLoaded({ target: { result: txt } });\t// mimic the async signature\n\t\t}\n\n\t\tthis._chunkLoaded = function(event)\n\t\t{\n\t\t\t// Very important to increment start each time before handling results\n\t\t\tthis._start += this._config.chunkSize;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\tthis.parseChunk(event.target.result);\n\t\t}\n\n\t\tthis._chunkError = function()\n\t\t{\n\t\t\tthis._sendError(reader.error);\n\t\t}\n\n\t}\n\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tFileStreamer.prototype.constructor = FileStreamer;\n\n\n\tfunction StringStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar string;\n\t\tvar remaining;\n\t\tthis.stream = function(s)\n\t\t{\n\t\t\tstring = s;\n\t\t\tremaining = s;\n\t\t\treturn this._nextChunk();\n\t\t}\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (this._finished) return;\n\t\t\tvar size = this._config.chunkSize;\n\t\t\tvar chunk = size ? remaining.substr(0, size) : remaining;\n\t\t\tremaining = size ? remaining.substr(size) : '';\n\t\t\tthis._finished = !remaining;\n\t\t\treturn this.parseChunk(chunk);\n\t\t}\n\t}\n\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\tStringStreamer.prototype.constructor = StringStreamer;\n\n\n\tfunction ReadableStreamStreamer(config)\n\t{\n\t\tconfig = config || {};\n\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar queue = [];\n\t\tvar parseOnData = true;\n\n\t\tthis.stream = function(stream)\n\t\t{\n\t\t\tthis._input = stream;\n\n\t\t\tthis._input.on('data', this._streamData);\n\t\t\tthis._input.on('end', this._streamEnd);\n\t\t\tthis._input.on('error', this._streamError);\n\t\t}\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (queue.length)\n\t\t\t{\n\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparseOnData = true;\n\t\t\t}\n\t\t}\n\n\t\tthis._streamData = bindFunction(function(chunk)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tqueue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));\n\n\t\t\t\tif (parseOnData)\n\t\t\t\t{\n\t\t\t\t\tparseOnData = false;\n\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tthis._streamError(error);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis._streamError = bindFunction(function(error)\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._sendError(error.message);\n\t\t}, this);\n\n\t\tthis._streamEnd = bindFunction(function()\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._finished = true;\n\t\t\tthis._streamData('');\n\t\t}, this);\n\n\t\tthis._streamCleanUp = bindFunction(function()\n\t\t{\n\t\t\tthis._input.removeListener('data', this._streamData);\n\t\t\tthis._input.removeListener('end', this._streamEnd);\n\t\t\tthis._input.removeListener('error', this._streamError);\n\t\t}, this);\n\t}\n\tReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;\n\n\n\t// Use one ParserHandle per entire CSV file or string\n\tfunction ParserHandle(_config)\n\t{\n\t\t// One goal is to minimize the use of regular expressions...\n\t\tvar FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\n\t\tvar self = this;\n\t\tvar _stepCounter = 0;\t// Number of times step was called (number of rows parsed)\n\t\tvar _input;\t\t\t\t// The input being parsed\n\t\tvar _parser;\t\t\t// The core parser being used\n\t\tvar _paused = false;\t// Whether we are paused or not\n\t\tvar _aborted = false;\t// Whether the parser has aborted or not\n\t\tvar _delimiterError;\t// Temporary state between delimiter detection and processing results\n\t\tvar _fields = [];\t\t// Fields are from the header row of the input, if there is one\n\t\tvar _results = {\t\t// The last results returned from the parser\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\n\t\tif (isFunction(_config.step))\n\t\t{\n\t\t\tvar userStep = _config.step;\n\t\t\t_config.step = function(results)\n\t\t\t{\n\t\t\t\t_results = results;\n\n\t\t\t\tif (needsHeaderRow())\n\t\t\t\t\tprocessResults();\n\t\t\t\telse\t// only call user's step function after header row\n\t\t\t\t{\n\t\t\t\t\tprocessResults();\n\n\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\tif (_results.data.length === 0)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview)\n\t\t\t\t\t\t_parser.abort();\n\t\t\t\t\telse\n\t\t\t\t\t\tuserStep(_results, self);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t\t * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t\t * when an input comes in multiple chunks, like from a file.\n\t\t */\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\tif (!_config.newline)\n\t\t\t\t_config.newline = guessLineEndings(input);\n\n\t\t\t_delimiterError = false;\n\t\t\tif (!_config.delimiter)\n\t\t\t{\n\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines);\n\t\t\t\tif (delimGuess.successful)\n\t\t\t\t\t_config.delimiter = delimGuess.bestDelimiter;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_delimiterError = true;\t// add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t}\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\t\t\telse if(isFunction(_config.delimiter))\n\t\t\t{\n\t\t\t\t_config.delimiter = _config.delimiter(input);\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tvar parserConfig = copy(_config);\n\t\t\tif (_config.preview && _config.header)\n\t\t\t\tparserConfig.preview++;\t// to compensate for header row\n\n\t\t\t_input = input;\n\t\t\t_parser = new Parser(parserConfig);\n\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\tprocessResults();\n\t\t\treturn _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });\n\t\t};\n\n\t\tthis.paused = function()\n\t\t{\n\t\t\treturn _paused;\n\t\t};\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\t_paused = true;\n\t\t\t_parser.abort();\n\t\t\t_input = _input.substr(_parser.getCharIndex());\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\t_paused = false;\n\t\t\tself.streamer.parseChunk(_input);\n\t\t};\n\n\t\tthis.aborted = function ()\n\t\t{\n\t\t\treturn _aborted;\n\t\t};\n\n\t\tthis.abort = function()\n\t\t{\n\t\t\t_aborted = true;\n\t\t\t_parser.abort();\n\t\t\t_results.meta.aborted = true;\n\t\t\tif (isFunction(_config.complete))\n\t\t\t\t_config.complete(_results);\n\t\t\t_input = '';\n\t\t};\n\n\t\tfunction processResults()\n\t\t{\n\t\t\tif (_results && _delimiterError)\n\t\t\t{\n\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\''+Papa.DefaultDelimiter+'\\'');\n\t\t\t\t_delimiterError = false;\n\t\t\t}\n\n\t\t\tif (_config.skipEmptyLines)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t\t\tif (_results.data[i].length === 1 && _results.data[i][0] === '')\n\t\t\t\t\t\t_results.data.splice(i--, 1);\n\t\t\t}\n\n\t\t\tif (needsHeaderRow())\n\t\t\t\tfillHeaderFields();\n\n\t\t\treturn applyHeaderAndDynamicTyping();\n\t\t}\n\n\t\tfunction needsHeaderRow()\n\t\t{\n\t\t\treturn _config.header && _fields.length === 0;\n\t\t}\n\n\t\tfunction fillHeaderFields()\n\t\t{\n\t\t\tif (!_results)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++)\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t\t_fields.push(_results.data[i][j]);\n\t\t\t_results.data.splice(0, 1);\n\t\t}\n\n\t\tfunction shouldApplyDynamicTyping(field) {\n\t\t\t// Cache function values to avoid calling it for each row\n\t\t\tif (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {\n\t\t\t\t_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);\n\t\t\t}\n\t\t\treturn (_config.dynamicTyping[field] || _config.dynamicTyping) === true\n\t\t}\n\n\t\tfunction parseDynamic(field, value)\n\t\t{\n\t\t\tif (shouldApplyDynamicTyping(field))\n\t\t\t{\n\t\t\t\tif (value === 'true' || value === 'TRUE')\n\t\t\t\t\treturn true;\n\t\t\t\telse if (value === 'false' || value === 'FALSE')\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\treturn tryParseFloat(value);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction applyHeaderAndDynamicTyping()\n\t\t{\n\t\t\tif (!_results || (!_config.header && !_config.dynamicTyping))\n\t\t\t\treturn _results;\n\n\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t{\n\t\t\t\tvar row = _config.header ? {} : [];\n\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar field = j;\n\t\t\t\t\tvar value = _results.data[i][j];\n\n\t\t\t\t\tif (_config.header)\n\t\t\t\t\t\tfield = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\n\t\t\t\t\tvalue = parseDynamic(field, value);\n\n\t\t\t\t\tif (field === '__parsed_extra')\n\t\t\t\t\t{\n\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\trow[field] = value;\n\t\t\t\t}\n\n\t\t\t\t_results.data[i] = row;\n\n\t\t\t\tif (_config.header)\n\t\t\t\t{\n\t\t\t\t\tif (j > _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t\telse if (j < _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_config.header && _results.meta)\n\t\t\t\t_results.meta.fields = _fields;\n\t\t\treturn _results;\n\t\t}\n\n\t\tfunction guessDelimiter(input, newline, skipEmptyLines)\n\t\t{\n\t\t\tvar delimChoices = [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow;\n\n\t\t\tfor (var i = 0; i < delimChoices.length; i++)\n\t\t\t{\n\t\t\t\tvar delim = delimChoices[i];\n\t\t\t\tvar delta = 0, avgFieldCount = 0, emptyLinesCount = 0;\n\t\t\t\tfieldCountPrevRow = undefined;\n\n\t\t\t\tvar preview = new Parser({\n\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\tnewline: newline,\n\t\t\t\t\tpreview: 10\n\t\t\t\t}).parse(input);\n\n\t\t\t\tfor (var j = 0; j < preview.data.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (skipEmptyLines && preview.data[j].length === 1 && preview.data[j][0].length === 0) {\n\t\t\t\t\t\temptyLinesCount++\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\tavgFieldCount += fieldCount;\n\n\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (fieldCount > 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (preview.data.length > 0)\n\t\t\t\t\tavgFieldCount /= (preview.data.length - emptyLinesCount);\n\n\t\t\t\tif ((typeof bestDelta === 'undefined' || delta < bestDelta)\n\t\t\t\t\t&& avgFieldCount > 1.99)\n\t\t\t\t{\n\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\tbestDelim = delim;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_config.delimiter = bestDelim;\n\n\t\t\treturn {\n\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\tbestDelimiter: bestDelim\n\t\t\t}\n\t\t}\n\n\t\tfunction guessLineEndings(input)\n\t\t{\n\t\t\tinput = input.substr(0, 1024*1024);\t// max length 1 MB\n\n\t\t\tvar r = input.split('\\r');\n\n\t\t\tvar n = input.split('\\n');\n\n\t\t\tvar nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);\n\n\t\t\tif (r.length === 1 || nAppearsFirst)\n\t\t\t\treturn '\\n';\n\n\t\t\tvar numWithN = 0;\n\t\t\tfor (var i = 0; i < r.length; i++)\n\t\t\t{\n\t\t\t\tif (r[i][0] === '\\n')\n\t\t\t\t\tnumWithN++;\n\t\t\t}\n\n\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t}\n\n\t\tfunction tryParseFloat(val)\n\t\t{\n\t\t\tvar isNumber = FLOAT.test(val);\n\t\t\treturn isNumber ? parseFloat(val) : val;\n\t\t}\n\n\t\tfunction addError(type, code, msg, row)\n\t\t{\n\t\t\t_results.errors.push({\n\t\t\t\ttype: type,\n\t\t\t\tcode: code,\n\t\t\t\tmessage: msg,\n\t\t\t\trow: row\n\t\t\t});\n\t\t}\n\t}\n\n\n\n\n\n\t/** The core parser implements speedy and correct CSV parsing */\n\tfunction Parser(config)\n\t{\n\t\t// Unpack the config object\n\t\tconfig = config || {};\n\t\tvar delim = config.delimiter;\n\t\tvar newline = config.newline;\n\t\tvar comments = config.comments;\n\t\tvar step = config.step;\n\t\tvar preview = config.preview;\n\t\tvar fastMode = config.fastMode;\n\t\tvar quoteChar = config.quoteChar || '\"';\n\n\t\t// Delimiter must be valid\n\t\tif (typeof delim !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)\n\t\t\tdelim = ',';\n\n\t\t// Comment character must be valid\n\t\tif (comments === delim)\n\t\t\tthrow 'Comment character same as delimiter';\n\t\telse if (comments === true)\n\t\t\tcomments = '#';\n\t\telse if (typeof comments !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)\n\t\t\tcomments = false;\n\n\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\tif (newline != '\\n' && newline != '\\r' && newline != '\\r\\n')\n\t\t\tnewline = '\\n';\n\n\t\t// We're gonna need these at the Parser scope\n\t\tvar cursor = 0;\n\t\tvar aborted = false;\n\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\tif (typeof input !== 'string')\n\t\t\t\tthrow 'Input must be a string';\n\n\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t// but having them in a more local scope seems to perform better\n\t\t\tvar inputLen = input.length,\n\t\t\t\tdelimLen = delim.length,\n\t\t\t\tnewlineLen = newline.length,\n\t\t\t\tcommentsLen = comments.length;\n\t\t\tvar stepIsFunction = isFunction(step);\n\n\t\t\t// Establish starting state\n\t\t\tcursor = 0;\n\t\t\tvar data = [], errors = [], row = [], lastCursor = 0;\n\n\t\t\tif (!input)\n\t\t\t\treturn returnable();\n\n\t\t\tif (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))\n\t\t\t{\n\t\t\t\tvar rows = input.split(newline);\n\t\t\t\tfor (var i = 0; i < rows.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar row = rows[i];\n\t\t\t\t\tcursor += row.length;\n\t\t\t\t\tif (i !== rows.length - 1)\n\t\t\t\t\t\tcursor += newline.length;\n\t\t\t\t\telse if (ignoreLastRow)\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tif (comments && row.substr(0, commentsLen) === comments)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\tif (preview && i >= preview)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\tvar quoteCharRegex = new RegExp(quoteChar+quoteChar, 'g');\n\n\t\t\t// Parser loop\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\t// Field has opening quote\n\t\t\t\tif (input[cursor] === quoteChar)\n\t\t\t\t{\n\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\tvar quoteSearch = cursor;\n\n\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\tcursor++;\n\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\tvar quoteSearch = input.indexOf(quoteChar, quoteSearch+1);\n\n\t\t\t\t\t\t//No other quotes are found - no other delimiters\n\t\t\t\t\t\tif (quoteSearch === -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\tif (quoteSearch === inputLen-1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\tif (input[quoteSearch+1] === quoteChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote followed by delimiter\n\t\t\t\t\t\tif (input[quoteSearch+1] === delim)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tcursor = quoteSearch + 1 + delimLen;\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote followed by newline\n\t\t\t\t\t\tif (input.substr(quoteSearch+1, newlineLen) === newline)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + newlineLen);\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\t// because we may have skipped the nextDelim in the quoted field\n\n\t\t\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t// Checks for valid closing quotes are complete (escaped quotes or quote followed by EOF/delimiter/newline) -- assume these quotes are part of an invalid text string\n\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\tcode: 'InvalidQuotes',\n\t\t\t\t\t\t\tmessage: 'Trailing quote on quoted field is malformed',\n\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment found at start of new line\n\t\t\t\tif (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments)\n\t\t\t\t{\n\t\t\t\t\tif (nextNewline === -1)\t// Comment ends at EOF\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// End of row\n\t\t\t\tif (nextNewline !== -1)\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\n\t\t\treturn finish();\n\n\n\t\t\tfunction pushRow(row)\n\t\t\t{\n\t\t\t\tdata.push(row);\n\t\t\t\tlastCursor = cursor;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the remaining input from cursor to the end into\n\t\t\t * row, saves the row, calls step, and returns the results.\n\t\t\t */\n\t\t\tfunction finish(value)\n\t\t\t{\n\t\t\t\tif (ignoreLastRow)\n\t\t\t\t\treturn returnable();\n\t\t\t\tif (typeof value === 'undefined')\n\t\t\t\t\tvalue = input.substr(cursor);\n\t\t\t\trow.push(value);\n\t\t\t\tcursor = inputLen;\t// important in case parsing is paused\n\t\t\t\tpushRow(row);\n\t\t\t\tif (stepIsFunction)\n\t\t\t\t\tdoStep();\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the current row to the results. It sets the cursor\n\t\t\t * to newCursor and finds the nextNewline. The caller should\n\t\t\t * take care to execute user's step function and check for\n\t\t\t * preview and end parsing if necessary.\n\t\t\t */\n\t\t\tfunction saveRow(newCursor)\n\t\t\t{\n\t\t\t\tcursor = newCursor;\n\t\t\t\tpushRow(row);\n\t\t\t\trow = [];\n\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t}\n\n\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\tfunction returnable(stopped)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\tfunction doStep()\n\t\t\t{\n\t\t\t\tstep(returnable());\n\t\t\t\tdata = [], errors = [];\n\t\t\t}\n\t\t};\n\n\t\t/** Sets the abort flag */\n\t\tthis.abort = function()\n\t\t{\n\t\t\taborted = true;\n\t\t};\n\n\t\t/** Gets the cursor position */\n\t\tthis.getCharIndex = function()\n\t\t{\n\t\t\treturn cursor;\n\t\t};\n\t}\n\n\n\t// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code\n\t// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358\n\tfunction getScriptPath()\n\t{\n\t\tvar scripts = document.getElementsByTagName('script');\n\t\treturn scripts.length ? scripts[scripts.length - 1].src : '';\n\t}\n\n\tfunction newWorker()\n\t{\n\t\tif (!Papa.WORKERS_SUPPORTED)\n\t\t\treturn false;\n\t\tif (!LOADED_SYNC && Papa.SCRIPT_PATH === null)\n\t\t\tthrow new Error(\n\t\t\t\t'Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' +\n\t\t\t\t'You need to set Papa.SCRIPT_PATH manually.'\n\t\t\t);\n\t\tvar workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;\n\t\t// Append 'papaworker' to the search string to tell papaparse that this is our worker.\n\t\tworkerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';\n\t\tvar w = new global.Worker(workerUrl);\n\t\tw.onmessage = mainThreadReceivedMessage;\n\t\tw.id = workerIdCounter++;\n\t\tworkers[w.id] = w;\n\t\treturn w;\n\t}\n\n\t/** Callback when main thread receives a message */\n\tfunction mainThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\t\tvar worker = workers[msg.workerId];\n\t\tvar aborted = false;\n\n\t\tif (msg.error)\n\t\t\tworker.userError(msg.error, msg.file);\n\t\telse if (msg.results && msg.results.data)\n\t\t{\n\t\t\tvar abort = function() {\n\t\t\t\taborted = true;\n\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t};\n\n\t\t\tvar handle = {\n\t\t\t\tabort: abort,\n\t\t\t\tpause: notImplemented,\n\t\t\t\tresume: notImplemented\n\t\t\t};\n\n\t\t\tif (isFunction(worker.userStep))\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\tdata: [msg.results.data[i]],\n\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t}, handle);\n\t\t\t\t\tif (aborted)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelete msg.results;\t// free memory ASAP\n\t\t\t}\n\t\t\telse if (isFunction(worker.userChunk))\n\t\t\t{\n\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\tdelete msg.results;\n\t\t\t}\n\t\t}\n\n\t\tif (msg.finished && !aborted)\n\t\t\tcompleteWorker(msg.workerId, msg.results);\n\t}\n\n\tfunction completeWorker(workerId, results) {\n\t\tvar worker = workers[workerId];\n\t\tif (isFunction(worker.userComplete))\n\t\t\tworker.userComplete(results);\n\t\tworker.terminate();\n\t\tdelete workers[workerId];\n\t}\n\n\tfunction notImplemented() {\n\t\tthrow 'Not implemented.';\n\t}\n\n\t/** Callback when worker thread receives a message */\n\tfunction workerThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\n\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg)\n\t\t\tPapa.WORKER_ID = msg.workerId;\n\n\t\tif (typeof msg.input === 'string')\n\t\t{\n\t\t\tglobal.postMessage({\n\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\tfinished: true\n\t\t\t});\n\t\t}\n\t\telse if ((global.File && msg.input instanceof File) || msg.input instanceof Object)\t// thank you, Safari (see issue #106)\n\t\t{\n\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\tif (results)\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: results,\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/** Makes a deep copy of an array or object (mostly) */\n\tfunction copy(obj)\n\t{\n\t\tif (typeof obj !== 'object')\n\t\t\treturn obj;\n\t\tvar cpy = obj instanceof Array ? [] : {};\n\t\tfor (var key in obj)\n\t\t\tcpy[key] = copy(obj[key]);\n\t\treturn cpy;\n\t}\n\n\tfunction bindFunction(f, self)\n\t{\n\t\treturn function() { f.apply(self, arguments); };\n\t}\n\n\tfunction isFunction(func)\n\t{\n\t\treturn typeof func === 'function';\n\t}\n\n\treturn Papa;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/papaparse/papaparse.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./helper.service\"), exports);\ntslib_1.__exportStar(require(\"./definition.service\"), exports);\ntslib_1.__exportStar(require(\"./structure.service\"), exports);\ntslib_1.__exportStar(require(\"./dataset-manager.service\"), exports);\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/index.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get = require(\"lodash/get\");\nconst includes = require(\"lodash/includes\");\nexports.SCHEMAS = new Set(['concepts.schema', 'entities.schema', 'datapoints.schema', '*.schema']);\nexports.DATAPOINTS = 'datapoints';\nexports.ENTITIES = 'entities';\nexports.CONCEPTS = 'concepts';\nexports.CONCEPT_TYPE_MEASURE = 'measure';\nexports.CONCEPT_TYPE_STRING = 'string';\nexports.CONCEPT_TYPE_ENTITY_DOMAIN = 'entity_domain';\nexports.CONCEPT_TYPE_ENTITY_SET = 'entity_set';\nexports.CONCEPT_TYPE_TIME = 'time';\nexports.RESERVED_CONCEPT = 'concept';\nexports.RESERVED_CONCEPT_TYPE = 'concept_type';\nexports.RESERVED_DOMAIN = 'domain';\nexports.RESERVED_UNIT = 'unit';\nexports.RESERVED_DRILL_UP = 'drill_up';\nexports.RESERVED_KEY = 'key';\nexports.RESERVED_VALUE = 'value';\nexports.AVAILABLE_QUERY_OPERATORS = new Set([\n    '$eq', '$gt', '$gte', '$lt', '$lte', '$ne', '$in', '$nin',\n    '$or', '$and', '$not', '$nor', '$size', '$all', '$elemMatch'\n]);\nexports.AVAILABLE_FROM_CLAUSE_VALUES = new Set([\n    exports.CONCEPTS, exports.ENTITIES, exports.DATAPOINTS, ...exports.SCHEMAS\n]);\nexports.AVAILABLE_ORDER_BY_CLAUSE_VALUES = new Set([\n    'asc', 'desc', 1, -1\n]);\nexports.DEFAULT_DATASET_NAME = process.env.DEFAULT_DATASET_NAME || 'systema_globalis';\nexports.DEFAULT_DATASET_BRANCH = process.env.DEFAULT_DATASET_BRANCH || 'master';\nexports.DEFAULT_DATASET_COMMIT = 'HEAD';\nexports.DEFAULT_DATASET_DIR = process.env.DEFAULT_DATASET_DIR || './datasets';\nfunction isSchemaQuery(query) {\n    const fromClause = get(query, 'from');\n    return exports.SCHEMAS.has(fromClause);\n}\nexports.isSchemaQuery = isSchemaQuery;\nfunction isDatapointsQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.DATAPOINTS;\n}\nexports.isDatapointsQuery = isDatapointsQuery;\nfunction isEntitiesQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.ENTITIES;\n}\nexports.isEntitiesQuery = isEntitiesQuery;\nfunction isConceptsQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.CONCEPTS;\n}\nexports.isConceptsQuery = isConceptsQuery;\nfunction isEntityDomainOrSet(conceptType, allowedValues) {\n    return includes(allowedValues, conceptType);\n}\nexports.isEntityDomainOrSet = isEntityDomainOrSet;\nfunction isMeasure(conceptType) {\n    return includes([exports.CONCEPT_TYPE_MEASURE], conceptType);\n}\nexports.isMeasure = isMeasure;\nfunction isIndicator(conceptType) {\n    return includes([exports.CONCEPT_TYPE_MEASURE, exports.CONCEPT_TYPE_STRING], conceptType);\n}\nexports.isIndicator = isIndicator;\n//# sourceMappingURL=helper.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/helper.service.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isEmpty = require(\"lodash/isEmpty\");\nconst filter = require(\"lodash/filter\");\nconst map = require(\"lodash/map\");\nconst get = require(\"lodash/get\");\nconst compact = require(\"lodash/compact\");\nconst includes = require(\"lodash/includes\");\nconst startsWith = require(\"lodash/startsWith\");\nconst isNil = require(\"lodash/isNil\");\nconst trimStart = require(\"lodash/trimStart\");\nconst flatMap = require(\"lodash/flatMap\");\nconst helper_service_1 = require(\"./helper.service\");\nconst util_1 = require(\"util\");\nfunction validateQueryDefinitions(query, options = {}) {\n    return new Promise((resolve, reject) => {\n        const validationResult = [\n            ...validateSelectDefinitions(query, options),\n            ...validateWhereDefinitions(query, options),\n        ];\n        const isQueryValid = isEmpty(validationResult);\n        if (!isQueryValid) {\n            return reject(`Too many query definition errors [repo: ${query.dataset}]: \\n* ${validationResult.join('\\n* ')}`);\n        }\n        return resolve();\n    });\n}\nexports.validateQueryDefinitions = validateQueryDefinitions;\nfunction validateSelectDefinitions(query, options) {\n    const errorMessages = [];\n    const fromClause = get(query, 'from', null);\n    const selectClause = get(query, 'select', null);\n    const key = get(selectClause, 'key');\n    const value = get(selectClause, 'value');\n    const ALLOWED_KEYS = [];\n    const ALLOWED_VALUES = [];\n    const { conceptsLookup } = options;\n    switch (true) {\n        case helper_service_1.isDatapointsQuery(query):\n            const CONCEPT_TYPES_FOR_DATAPOINTS = [helper_service_1.CONCEPT_TYPE_ENTITY_SET, helper_service_1.CONCEPT_TYPE_ENTITY_DOMAIN, helper_service_1.CONCEPT_TYPE_TIME];\n            ALLOWED_KEYS.push(...getAllowedConceptGidsByConceptType(CONCEPT_TYPES_FOR_DATAPOINTS, conceptsLookup));\n            ALLOWED_VALUES.push(...conceptsLookup.keys());\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n            const CONCEPT_TYPES_FOR_ENTITIES = [helper_service_1.CONCEPT_TYPE_ENTITY_SET, helper_service_1.CONCEPT_TYPE_ENTITY_DOMAIN];\n            ALLOWED_KEYS.push(...getAllowedConceptGidsByConceptType(CONCEPT_TYPES_FOR_ENTITIES, conceptsLookup));\n            ALLOWED_VALUES.push(...conceptsLookup.keys());\n            break;\n        case (helper_service_1.isConceptsQuery(query)):\n            ALLOWED_KEYS.push(helper_service_1.RESERVED_CONCEPT);\n            ALLOWED_VALUES.push(...conceptsLookup.keys(), helper_service_1.RESERVED_CONCEPT, helper_service_1.RESERVED_CONCEPT_TYPE, helper_service_1.RESERVED_DOMAIN, helper_service_1.RESERVED_UNIT, helper_service_1.RESERVED_DRILL_UP);\n            break;\n        default:\n            ALLOWED_KEYS.push(helper_service_1.RESERVED_KEY, helper_service_1.RESERVED_VALUE);\n            ALLOWED_VALUES.push(helper_service_1.RESERVED_KEY, helper_service_1.RESERVED_VALUE);\n            break;\n    }\n    errorMessages.push(checkIfSelectKeyHasInvalidDefinitions(fromClause, key, ALLOWED_KEYS), checkIfSelectValueHasInvalidDefinitions(fromClause, value, ALLOWED_VALUES));\n    return compact(errorMessages);\n}\nfunction validateWhereDefinitions(query, options) {\n    const errorMessages = [];\n    const whereClause = get(query, 'where', null);\n    const fromClause = get(query, 'from', null);\n    const selectClause = get(query, 'select', null);\n    const key = get(selectClause, 'key');\n    const value = get(selectClause, 'value');\n    const operators = getWhereOperators(whereClause);\n    const { conceptsLookup } = options;\n    switch (true) {\n        case helper_service_1.isDatapointsQuery(query):\n            const CONCEPT_TYPES_FOR_DATAPOINTS = [];\n            CONCEPT_TYPES_FOR_DATAPOINTS.push(helper_service_1.CONCEPT_TYPE_ENTITY_SET, helper_service_1.CONCEPT_TYPE_ENTITY_DOMAIN, helper_service_1.CONCEPT_TYPE_TIME);\n            errorMessages.push();\n            break;\n        default:\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction getWhereOperators(whereClause) {\n    const operators = {};\n    getWhereOperatorsRecursively(whereClause, operators);\n    return operators;\n}\nfunction getWhereOperatorsRecursively(whereClause, operators, —Åandidate) {\n    for (const field in whereClause) {\n        const hasCandidate = !isNil(—Åandidate);\n        const isCandidate = !hasCandidate && !startsWith(field, '$') && isNaN(+field);\n        const [domain, ...set] = field.split('.');\n        if (isCandidate) {\n            if (isNil(operators[domain])) {\n                operators[trimStart(domain, 'is--')] = [];\n            }\n            if (!isEmpty(set)) {\n                operators[domain].push(trimStart(set.join('.'), 'is--'));\n            }\n        }\n        if (util_1.isPrimitive(whereClause[field])) {\n            continue;\n        }\n        getWhereOperatorsRecursively(whereClause[field], operators, isCandidate ? domain : —Åandidate);\n    }\n}\nfunction checkIfSelectKeyHasInvalidDefinitions(fromClause, key, ALLOWED_KEYS) {\n    const unavailableKeys = getUnavailableSelectItems(key, ALLOWED_KEYS);\n    if (!isEmpty(unavailableKeys)) {\n        return `'select.key' clause for '${fromClause}' query contains unavailable item(s): ${unavailableKeys.join(', ')}`;\n    }\n}\nfunction checkIfSelectValueHasInvalidDefinitions(fromClause, value, ALLOWED_VALUES) {\n    const unavailableValues = getUnavailableSelectItems(value, ALLOWED_VALUES);\n    if (!isEmpty(value) && !isEmpty(unavailableValues)) {\n        return `'select.value' clause for '${fromClause}' query contains unavailable item(s): ${unavailableValues.join(', ')}`;\n    }\n}\nfunction checkIfWhereHasAbsentDefinitions(fromClause, candidates, conceptsLookup) {\n    const unavailableValues = filter(candidates, (candidate) => !conceptsLookup.has(candidate));\n    if (!isEmpty(unavailableValues)) {\n        return `'where' clause for '${fromClause}' query contains unavailable item(s) that is not present in dataset: ${unavailableValues.join(', ')}`;\n    }\n}\nfunction checkIfWhereHasUnavailableDimensionDefinitions(fromClause, candidates, select) {\n    const unavailableValues = filter(candidates, (candidate) => !includes(select, candidate));\n    if (!isEmpty(unavailableValues)) {\n        return `'where' clause for '${fromClause}' query contains item(s) that is not present in 'select': ${unavailableValues.join(', ')}`;\n    }\n}\nfunction checkIfWhereHasWrongRelativesDefinitions(fromClause, operators, conceptsLookup) {\n    const unavailableValues = flatMap(operators, (children, parent) => {\n        const unavailableChildren = map(children, (child) => {\n            const childConcept = conceptsLookup.get(child);\n            return childConcept.domain === parent || childConcept.drill_up === parent ? null : `${parent}.${child}`;\n        });\n        return unavailableChildren;\n    });\n    if (!isEmpty(unavailableValues)) {\n        return `'where' clause for '${fromClause}' query contains item(s) that has wrong relatives: ${compact(unavailableValues).join(', ')}`;\n    }\n}\nfunction getUnavailableSelectItems(selectItems, ALLOWED_ITEMS) {\n    return filter(selectItems, (value) => !includes(ALLOWED_ITEMS, value));\n}\nfunction getAllowedConceptGidsByConceptType(allowedConceptTypes, conceptsLookup) {\n    const filteredAllowedConcepts = filter([...conceptsLookup.values()], ({ concept_type }) => includes(allowedConceptTypes, concept_type));\n    return map(filteredAllowedConcepts, 'concept');\n}\n//# sourceMappingURL=definition.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/definition.service.js","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/filter.js","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFilter.js","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseEach.js","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseForOwn.js","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFor.js","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_createBaseFor.js","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_createBaseEach.js","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIteratee.js","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseMatches.js","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsMatch.js","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsEqual.js","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsEqualDeep.js","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalArrays.js","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_SetCache.js","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setCacheAdd.js","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setCacheHas.js","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arraySome.js","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cacheHas.js","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalByTag.js","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalObjects.js","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getMatchData.js","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isStrictComparable.js","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_matchesStrictComparable.js","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseMatchesProperty.js","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/hasIn.js","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseHasIn.js","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hasPath.js","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/identity.js","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/property.js","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseProperty.js","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_basePropertyDeep.js","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/map.js","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseMap.js","var baseToString = require('./_baseToString'),\n    castSlice = require('./_castSlice'),\n    charsStartIndex = require('./_charsStartIndex'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/** Used to match leading and trailing whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * Removes leading whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trimStart('  abc  ');\n * // => 'abc  '\n *\n * _.trimStart('-_-abc-_-', '_-');\n * // => 'abc-_-'\n */\nfunction trimStart(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrimStart, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      start = charsStartIndex(strSymbols, stringToArray(chars));\n\n  return castSlice(strSymbols, start).join('');\n}\n\nmodule.exports = trimStart;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/trimStart.js","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_castSlice.js","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseSlice.js","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\nmodule.exports = charsStartIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_charsStartIndex.js","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stringToArray.js","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_asciiToArray.js","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hasUnicode.js","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_unicodeToArray.js","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/flatMap.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/util/util.js","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n// WEBPACK FOOTER //\n// ./~/util/support/isBufferBrowser.js","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/inherits/inherits_browser.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isEmpty = require(\"lodash/isEmpty\");\nconst isNil = require(\"lodash/isNil\");\nconst isObject = require(\"lodash/isObject\");\nconst isArray = require(\"lodash/isArray\");\nconst size = require(\"lodash/size\");\nconst values = require(\"lodash/values\");\nconst keys = require(\"lodash/keys\");\nconst map = require(\"lodash/map\");\nconst first = require(\"lodash/first\");\nconst filter = require(\"lodash/filter\");\nconst startsWith = require(\"lodash/startsWith\");\nconst get = require(\"lodash/get\");\nconst has = require(\"lodash/has\");\nconst every = require(\"lodash/every\");\nconst compact = require(\"lodash/compact\");\nconst isString = require(\"lodash/isString\");\nconst includes = require(\"lodash/includes\");\nconst uniq = require(\"lodash/uniq\");\nconst helper_service_1 = require(\"./helper.service\");\nconst util_1 = require(\"util\");\nfunction validateQueryStructure(query, options = {}) {\n    return new Promise((resolve, reject) => {\n        const validationResult = [\n            ...validateDatasetStructure(query, options),\n            ...validateFromStructure(query, options),\n            ...validateSelectStructure(query, options),\n            ...validateWhereStructure(query, options),\n            ...validateLanguageStructure(query, options),\n            ...validateJoinStructure(query, options),\n            ...validateOrderByStructure(query, options)\n        ];\n        const isQueryValid = isEmpty(validationResult);\n        if (!isQueryValid) {\n            return reject(`Too many query structure errors: \\n* ${validationResult.join('\\n* ')}`);\n        }\n        return resolve();\n    });\n}\nexports.validateQueryStructure = validateQueryStructure;\nfunction validateDatasetStructure(query, options) {\n    const errorMessages = [];\n    const datasetClause = get(query, 'dataset');\n    const branchClause = get(query, 'branch');\n    const commitClause = get(query, 'commit');\n    if (!isNil(datasetClause) && !isString(datasetClause)) {\n        errorMessages.push(`'dataset' clause must be string only`);\n    }\n    if (!isNil(branchClause) && !isString(branchClause)) {\n        errorMessages.push(`'branch' clause must be string only`);\n    }\n    if (!isNil(commitClause) && !isString(commitClause)) {\n        errorMessages.push(`'commit' clause must be string only`);\n    }\n    return errorMessages;\n}\nfunction validateFromStructure(query, options) {\n    const errorMessages = [];\n    const clause = get(query, 'from', null);\n    if (isNil(clause)) {\n        errorMessages.push(`'from' clause couldn't be empty`);\n    }\n    if (!isString(clause)) {\n        errorMessages.push(`'from' clause must be string only`);\n    }\n    if (!helper_service_1.AVAILABLE_FROM_CLAUSE_VALUES.has(clause)) {\n        const listAvaliableValues = [...helper_service_1.AVAILABLE_FROM_CLAUSE_VALUES];\n        errorMessages.push(`'from' clause must be one of the list: ${listAvaliableValues.join(', ')}`);\n    }\n    return errorMessages;\n}\nfunction validateSelectStructure(query, options) {\n    const errorMessages = [];\n    const selectClause = get(query, 'select', null);\n    const fromClause = get(query, 'from', null);\n    const key = get(selectClause, 'key');\n    const value = get(selectClause, 'value');\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfSchemasSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value), checkIfSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isConceptsQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value), checkIfSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isDatapointsQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfSelectHasInvalidStructure(selectClause, key, value), checkIfDatapointsSelectKeyHasInvalidStructure(fromClause, key), checkIfDatapointsSelectKeyHasDuplicates(fromClause, key), checkIfDatapointsSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        default:\n            errorMessages.push(checkIfSelectIsEmpty(selectClause));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateWhereStructure(query, options) {\n    const errorMessages = [];\n    const joinClause = get(query, 'join', null);\n    const whereClause = get(query, 'where', null);\n    const whereOperators = getWhereOperators(whereClause);\n    errorMessages.push(checkIfWhereHasInvalidStructure(whereClause, getJoinIDPathIfExists(options)), checkIfWhereHasUnknownOperators(joinClause, whereOperators, getJoinIDPathIfExists(options)));\n    return compact(errorMessages);\n}\nfunction validateLanguageStructure(query, options) {\n    const errorMessages = [];\n    const languageClause = get(query, 'language', null);\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(checkIfSchemaLanguageIsPresent(query));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n        case (helper_service_1.isConceptsQuery(query)):\n        case (helper_service_1.isDatapointsQuery(query)):\n        default:\n            errorMessages.push(checkIfLanguageHasInvalidStructure(languageClause));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateJoinStructure(query, options) {\n    const errorMessages = [];\n    const joinClause = get(query, 'join', null);\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n        case (helper_service_1.isConceptsQuery(query)):\n            errorMessages.push(checkIfSchemaJoinIsPresent(query));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n        case (helper_service_1.isDatapointsQuery(query)):\n        default:\n            errorMessages.push(checkIfJoinHasInvalidStructure(joinClause), ...map(joinClause, (item, joinID) => checkIfJoinKeyHasInvalidStructure(item, getJoinIDPathIfExists({ joinID }))));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateOrderByStructure(query, options) {\n    const errorMessages = [];\n    const orderByClause = get(query, 'order_by', null);\n    errorMessages.push(checkIfOrderByHasInvalidStructure(orderByClause));\n    return compact(errorMessages);\n}\nfunction checkIfSelectIsEmpty(selectClause) {\n    if (isNil(selectClause)) {\n        return `'select' clause couldn't be empty`;\n    }\n}\nfunction checkIfSelectHasInvalidStructure(selectClause, key, value) {\n    if (!isObject(selectClause) || !isArray(key) || !isArray(value)) {\n        return `'select' clause must have next structure: { key: [...], value: [...] }`;\n    }\n}\nfunction checkIfJoinHasInvalidStructure(joinClause) {\n    if (!isNil(joinClause) && !isStrictObject(joinClause)) {\n        return `'join' clause must be object only`;\n    }\n}\nfunction checkIfLanguageHasInvalidStructure(languageClause) {\n    if (!isNil(languageClause) && !isString(languageClause)) {\n        return `'language' clause must be string only`;\n    }\n}\nfunction checkIfJoinKeyHasInvalidStructure(joinClause, joinPath) {\n    if (!isNil(joinClause.key) && !isString(joinClause.key)) {\n        return `'${joinPath}key' clause must be string only`;\n    }\n}\nfunction checkIfWhereHasInvalidStructure(whereClause, joinPath) {\n    if (!isNil(whereClause) && !isStrictObject(whereClause)) {\n        return `'${joinPath}where' clause must be object only`;\n    }\n}\nfunction checkIfWhereHasUnknownOperators(joinClause, operators, joinPath) {\n    const notAllowedOperators = filter(operators, (operator) => !isAllowedOperator(joinClause, operator)).map((operator) => operator.name);\n    const allowedOperatorsByDataset = [...helper_service_1.AVAILABLE_QUERY_OPERATORS.values(), ...keys(joinClause)];\n    if (!isEmpty(notAllowedOperators)) {\n        return `'${joinPath}where' clause has unknown operator(s) '${notAllowedOperators.join(', ')}', replace it with allowed operators: ${allowedOperatorsByDataset.join(', ')}`;\n    }\n}\nfunction checkIfOrderByHasInvalidStructure(orderByClause) {\n    if (!isNil(orderByClause) && !isString(orderByClause) && !isArrayOfStrings(orderByClause) && !isArrayOfSpecialItems(orderByClause, isOrderBySubclause)) {\n        return `'order_by' clause must be string or array of strings || objects only`;\n    }\n}\nfunction isStrictObject(clause) {\n    return isObject(clause) && !isArray(clause);\n}\nfunction isArrayOfStrings(clause) {\n    return isArray(clause) && every(clause, isString);\n}\nfunction isOrderBySubclause(subclause) {\n    return isString(subclause) || (isStrictObject(subclause) && size(subclause) === 1 && helper_service_1.AVAILABLE_ORDER_BY_CLAUSE_VALUES.has(first(values(subclause))));\n}\nfunction isArrayOfSpecialItems(clause, isSpecialItem) {\n    return isArray(clause) && every(clause, isSpecialItem);\n}\nfunction isAllowedOperator(joinClause, operator) {\n    return isMongoLikeOperator(operator) || isJoinOperator(joinClause, operator);\n}\nfunction isMongoLikeOperator(operator) {\n    return !operator.isLeaf && helper_service_1.AVAILABLE_QUERY_OPERATORS.has(operator.name);\n}\nfunction isJoinOperator(joinClause, operator) {\n    return operator.isLeaf && startsWith(operator.name, '$') && has(joinClause, operator.name);\n}\nfunction getDuplicates(array) {\n    return filter(array, (value, index, iteratee) => includes(iteratee, value, index + 1));\n}\nfunction getJoinIDPathIfExists(options) {\n    return get(options, 'joinID', false) ? `join.${options.joinID}.` : '';\n}\nfunction getWhereOperators(whereClause) {\n    const operators = [];\n    for (const field in whereClause) {\n        if (startsWith(field, '$')) {\n            operators.push({ name: field, isLeaf: false });\n        }\n        if (util_1.isPrimitive(whereClause[field])) {\n            if (startsWith(whereClause[field], '$')) {\n                operators.push({ name: whereClause[field], isLeaf: true });\n            }\n        }\n        else {\n            operators.push(...getWhereOperators(whereClause[field]));\n        }\n    }\n    return operators;\n}\nfunction checkIfDatapointsSelectKeyHasInvalidStructure(fromClause, key) {\n    if (size(key) < 2) {\n        return `'select.key' clause for '${fromClause}' queries must have at least 2 items`;\n    }\n}\nfunction checkIfDatapointsSelectKeyHasDuplicates(fromClause, key) {\n    const duplicates = getDuplicates(key);\n    if (size(duplicates) > 0) {\n        return `'select.key' clause for '${fromClause}' queries contains duplicates: ${uniq(duplicates).join(',')}`;\n    }\n}\nfunction checkIfDatapointsSelectValueHasInvalidStructure(fromClause, value) {\n    if (size(value) < 1) {\n        return `'select.value' clause for '${fromClause}' queries must have at least 1 item`;\n    }\n}\nfunction checkIfSchemasSelectKeyHasInvalidStructure(fromClause, key) {\n    if (!isArray(key) || size(key) !== 2) {\n        return `'select.key' clause for '${fromClause}' queries must have exactly 2 items: 'key', 'value'`;\n    }\n}\nfunction checkIfSelectValueHasInvalidStructure(fromClause, value) {\n    if (!isArray(value) && !isNil(value)) {\n        return `'select.value' clause for '${fromClause}' queries should be array of strings or empty`;\n    }\n}\nfunction checkIfSchemaJoinIsPresent(query) {\n    if (has(query, 'join')) {\n        return `'join' clause for '${query.from}' queries shouldn't be present in query`;\n    }\n}\nfunction checkIfSchemaLanguageIsPresent(query) {\n    if (has(query, 'language')) {\n        return `'language' clause for '*.schema' queries shouldn't be present in query`;\n    }\n}\nfunction checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value) {\n    if (!isObject(selectClause) || !isArray(key)) {\n        return `'select' clause must have next structure: { key: [...], value: [...] }`;\n    }\n}\nfunction checkIfSelectKeyHasInvalidStructure(fromClause, key) {\n    if (!isArray(key) || size(key) !== 1) {\n        return `'select.key' clause for '${fromClause}' queries must have only 1 item`;\n    }\n}\n//# sourceMappingURL=structure.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/structure.service.js","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    stringSize = require('./_stringSize');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    return isString(collection) ? stringSize(collection) : collection.length;\n  }\n  var tag = getTag(collection);\n  if (tag == mapTag || tag == setTag) {\n    return collection.size;\n  }\n  return baseKeys(collection).length;\n}\n\nmodule.exports = size;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/size.js","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stringSize.js","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_asciiSize.js","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_unicodeSize.js","module.exports = require('./head');\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/first.js","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/has.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseHas.js","var arrayEvery = require('./_arrayEvery'),\n    baseEvery = require('./_baseEvery'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * **Note:** This method returns `true` for\n * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n * elements of empty collections.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = every;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/every.js","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayEvery.js","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseEvery.js","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isIterateeCall.js","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/uniq.js","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseUniq.js","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayIncludes.js","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayIncludesWith.js","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_createSet.js","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/noop.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst isNil = require(\"lodash/isNil\");\nconst includes = require(\"lodash/includes\");\nconst get = require(\"lodash/get\");\nconst helper_service_1 = require(\"./helper.service\");\nfunction getDatasetPath(basePath, queryParam) {\n    const { dataset, branch, commit } = queryParam;\n    return `${basePath}${dataset}/${branch}-${commit}`;\n}\nexports.getDatasetPath = getDatasetPath;\nfunction getDatapackagePath(datasetPath) {\n    return datasetPath + '/datapackage.json';\n}\nfunction isDatasetPathAlreadyInBasePath(fileReader, basePath) {\n    return new Promise((resolve) => {\n        fileReader.readText(getDatapackagePath(basePath), (error) => resolve(!error));\n    });\n}\nfunction extendQueryParamWithDatasetProps(queryParam, options = {}) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const datasetsConfig = get(options, 'datasetsConfig', {\n            [helper_service_1.DEFAULT_DATASET_NAME]: { [helper_service_1.DEFAULT_DATASET_BRANCH]: [helper_service_1.DEFAULT_DATASET_COMMIT] },\n            default: {\n                dataset: helper_service_1.DEFAULT_DATASET_NAME,\n                branch: helper_service_1.DEFAULT_DATASET_BRANCH,\n                commit: helper_service_1.DEFAULT_DATASET_COMMIT\n            }\n        });\n        const { 'default': { dataset: DEFAULT_DATASET, branch: DEFAULT_BRANCH, commit: DEFAULT_COMMIT } } = datasetsConfig;\n        const { dataset: originDataset, branch: originBranch, commit: originCommit } = queryParam;\n        const { dataset = DEFAULT_DATASET, branch = DEFAULT_BRANCH, commit = DEFAULT_COMMIT } = queryParam;\n        const basePath = get(options, 'basePath', helper_service_1.DEFAULT_DATASET_DIR);\n        const fileReader = get(options, 'fileReader');\n        const datasetName = dataset;\n        if (isNil(datasetsConfig[dataset])) {\n            throw new Error(`No ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        if (isNil(datasetsConfig[dataset][branch])) {\n            throw new Error(`No ${isNil(originBranch) ? 'default ' : ''}branch '${branch}' in ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        if (!includes(datasetsConfig[dataset][branch], commit)) {\n            throw new Error(`No ${isNil(originCommit) ? 'default ' : ''}commit '${commit}' in ${isNil(originBranch) ? 'default ' : ''}branch '${branch}' in ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        let datasetPath;\n        let datapackagePath;\n        try {\n            if (yield isDatasetPathAlreadyInBasePath(fileReader, basePath)) {\n                datasetPath = basePath;\n                datapackagePath = getDatapackagePath(basePath);\n            }\n            else {\n                datasetPath = getDatasetPath(basePath, { dataset, branch, commit });\n                datapackagePath = getDatapackagePath(datasetPath);\n            }\n        }\n        catch (error) {\n            throw error;\n        }\n        Object.assign(queryParam, { dataset, branch, commit });\n        Object.assign(options, { datasetPath, datapackagePath, datasetName });\n        return queryParam;\n    });\n}\nexports.extendQueryParamWithDatasetProps = extendQueryParamWithDatasetProps;\n//# sourceMappingURL=dataset-manager.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/dataset-manager.service.js"],"sourceRoot":""}