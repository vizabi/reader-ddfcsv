{"version":3,"sources":["webpack:///webpack/bootstrap 68c24965b2b5e431d2cc","webpack:///./lib/index-web.js","webpack:///./lib/file-readers/frontend-file-reader.js","webpack:///./~/fetch-polyfill/fetch.js","webpack:///./lib/ddfcsv-error.js","webpack:///./lib/ddfcsv-reader.js","webpack:///./~/tslib/tslib.js","webpack:///./~/lodash/isNil.js","webpack:///./~/lodash/isObject.js","webpack:///./lib/ddf-csv.js","webpack:///./~/lodash/includes.js","webpack:///./~/lodash/_baseIndexOf.js","webpack:///./~/lodash/_baseFindIndex.js","webpack:///./~/lodash/_baseIsNaN.js","webpack:///./~/lodash/_strictIndexOf.js","webpack:///./~/lodash/isArrayLike.js","webpack:///./~/lodash/isFunction.js","webpack:///./~/lodash/_baseGetTag.js","webpack:///./~/lodash/_Symbol.js","webpack:///./~/lodash/_root.js","webpack:///./~/lodash/_freeGlobal.js","webpack:///./~/lodash/_getRawTag.js","webpack:///./~/lodash/_objectToString.js","webpack:///./~/lodash/isLength.js","webpack:///./~/lodash/isString.js","webpack:///./~/lodash/isArray.js","webpack:///./~/lodash/isObjectLike.js","webpack:///./~/lodash/toInteger.js","webpack:///./~/lodash/toFinite.js","webpack:///./~/lodash/toNumber.js","webpack:///./~/lodash/isSymbol.js","webpack:///./~/lodash/values.js","webpack:///./~/lodash/_baseValues.js","webpack:///./~/lodash/_arrayMap.js","webpack:///./~/lodash/keys.js","webpack:///./~/lodash/_arrayLikeKeys.js","webpack:///./~/lodash/_baseTimes.js","webpack:///./~/lodash/isArguments.js","webpack:///./~/lodash/_baseIsArguments.js","webpack:///./~/lodash/isBuffer.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/lodash/stubFalse.js","webpack:///./~/lodash/_isIndex.js","webpack:///./~/lodash/isTypedArray.js","webpack:///./~/lodash/_baseIsTypedArray.js","webpack:///./~/lodash/_baseUnary.js","webpack:///./~/lodash/_nodeUtil.js","webpack:///./~/lodash/_baseKeys.js","webpack:///./~/lodash/_isPrototype.js","webpack:///./~/lodash/_nativeKeys.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/isEmpty.js","webpack:///./~/lodash/_getTag.js","webpack:///./~/lodash/_DataView.js","webpack:///./~/lodash/_getNative.js","webpack:///./~/lodash/_baseIsNative.js","webpack:///./~/lodash/_isMasked.js","webpack:///./~/lodash/_coreJsData.js","webpack:///./~/lodash/_toSource.js","webpack:///./~/lodash/_getValue.js","webpack:///./~/lodash/_Map.js","webpack:///./~/lodash/_Promise.js","webpack:///./~/lodash/_Set.js","webpack:///./~/lodash/_WeakMap.js","webpack:///./lib/query-optimization-plugins/index.js","webpack:///./lib/query-optimization-plugins/in-clause-under-conjunction-plugin.js","webpack:///./~/path-browserify/index.js","webpack:///./~/process/browser.js","webpack:///./~/lodash/head.js","webpack:///./~/lodash/get.js","webpack:///./~/lodash/_baseGet.js","webpack:///./~/lodash/_castPath.js","webpack:///./~/lodash/_isKey.js","webpack:///./~/lodash/_stringToPath.js","webpack:///./~/lodash/_memoizeCapped.js","webpack:///./~/lodash/memoize.js","webpack:///./~/lodash/_MapCache.js","webpack:///./~/lodash/_mapCacheClear.js","webpack:///./~/lodash/_Hash.js","webpack:///./~/lodash/_hashClear.js","webpack:///./~/lodash/_nativeCreate.js","webpack:///./~/lodash/_hashDelete.js","webpack:///./~/lodash/_hashGet.js","webpack:///./~/lodash/_hashHas.js","webpack:///./~/lodash/_hashSet.js","webpack:///./~/lodash/_ListCache.js","webpack:///./~/lodash/_listCacheClear.js","webpack:///./~/lodash/_listCacheDelete.js","webpack:///./~/lodash/_assocIndexOf.js","webpack:///./~/lodash/eq.js","webpack:///./~/lodash/_listCacheGet.js","webpack:///./~/lodash/_listCacheHas.js","webpack:///./~/lodash/_listCacheSet.js","webpack:///./~/lodash/_mapCacheDelete.js","webpack:///./~/lodash/_getMapData.js","webpack:///./~/lodash/_isKeyable.js","webpack:///./~/lodash/_mapCacheGet.js","webpack:///./~/lodash/_mapCacheHas.js","webpack:///./~/lodash/_mapCacheSet.js","webpack:///./~/lodash/toString.js","webpack:///./~/lodash/_baseToString.js","webpack:///./~/lodash/_toKey.js","webpack:///./~/lodash/flattenDeep.js","webpack:///./~/lodash/_baseFlatten.js","webpack:///./~/lodash/_arrayPush.js","webpack:///./~/lodash/_isFlattenable.js","webpack:///./~/lodash/startsWith.js","webpack:///./~/lodash/_baseClamp.js","webpack:///./~/lodash/compact.js","webpack:///./~/papaparse/papaparse.js","webpack:///./lib/ddf-query-validator/index.js","webpack:///./lib/ddf-query-validator/helper.service.js","webpack:///./lib/ddf-query-validator/definition.service.js","webpack:///./~/lodash/filter.js","webpack:///./~/lodash/_arrayFilter.js","webpack:///./~/lodash/_baseFilter.js","webpack:///./~/lodash/_baseEach.js","webpack:///./~/lodash/_baseForOwn.js","webpack:///./~/lodash/_baseFor.js","webpack:///./~/lodash/_createBaseFor.js","webpack:///./~/lodash/_createBaseEach.js","webpack:///./~/lodash/_baseIteratee.js","webpack:///./~/lodash/_baseMatches.js","webpack:///./~/lodash/_baseIsMatch.js","webpack:///./~/lodash/_Stack.js","webpack:///./~/lodash/_stackClear.js","webpack:///./~/lodash/_stackDelete.js","webpack:///./~/lodash/_stackGet.js","webpack:///./~/lodash/_stackHas.js","webpack:///./~/lodash/_stackSet.js","webpack:///./~/lodash/_baseIsEqual.js","webpack:///./~/lodash/_baseIsEqualDeep.js","webpack:///./~/lodash/_equalArrays.js","webpack:///./~/lodash/_SetCache.js","webpack:///./~/lodash/_setCacheAdd.js","webpack:///./~/lodash/_setCacheHas.js","webpack:///./~/lodash/_arraySome.js","webpack:///./~/lodash/_cacheHas.js","webpack:///./~/lodash/_equalByTag.js","webpack:///./~/lodash/_Uint8Array.js","webpack:///./~/lodash/_mapToArray.js","webpack:///./~/lodash/_setToArray.js","webpack:///./~/lodash/_equalObjects.js","webpack:///./~/lodash/_getAllKeys.js","webpack:///./~/lodash/_baseGetAllKeys.js","webpack:///./~/lodash/_getSymbols.js","webpack:///./~/lodash/stubArray.js","webpack:///./~/lodash/_getMatchData.js","webpack:///./~/lodash/_isStrictComparable.js","webpack:///./~/lodash/_matchesStrictComparable.js","webpack:///./~/lodash/_baseMatchesProperty.js","webpack:///./~/lodash/hasIn.js","webpack:///./~/lodash/_baseHasIn.js","webpack:///./~/lodash/_hasPath.js","webpack:///./~/lodash/identity.js","webpack:///./~/lodash/property.js","webpack:///./~/lodash/_baseProperty.js","webpack:///./~/lodash/_basePropertyDeep.js","webpack:///./lib/ddf-query-validator/structure.service.js","webpack:///./~/lodash/size.js","webpack:///./~/lodash/_stringSize.js","webpack:///./~/lodash/_asciiSize.js","webpack:///./~/lodash/_hasUnicode.js","webpack:///./~/lodash/_unicodeSize.js","webpack:///./~/lodash/first.js","webpack:///./~/lodash/has.js","webpack:///./~/lodash/_baseHas.js","webpack:///./~/lodash/every.js","webpack:///./~/lodash/_arrayEvery.js","webpack:///./~/lodash/_baseEvery.js","webpack:///./~/lodash/_isIterateeCall.js","webpack:///./~/util/util.js","webpack:///./~/util/support/isBufferBrowser.js","webpack:///./~/inherits/inherits_browser.js","webpack:///./lib/ddf-query-validator/extension.service.js"],"names":["Object","defineProperty","exports","value","frontend_file_reader_1","require","frontend_file_reader_2","FrontendFileReader","ddfcsv_error_1","DdfCsvError","ddfcsv_reader_1","getDDFCsvReaderObject","prepareDDFCsvReaderObject","recordTransformer","filePath","onFileRead","fetch","then","response","text","catch","err","self","normalizeName","name","toString","test","TypeError","toLowerCase","normalizeValue","Headers","headers","map","forEach","values","append","getOwnPropertyNames","prototype","list","push","get","getAll","has","hasOwnProperty","set","callback","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","support","Blob","e","formData","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","Error","rejected","arrayBuffer","decode","json","JSON","parse","methods","normalizeMethod","method","upcased","toUpperCase","indexOf","Request","url","options","credentials","mode","referrer","form","trim","split","bytes","shift","replace","join","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","key","noXhrPatch","window","ActiveXObject","XMLHttpRequest","dispatchEvent","getXhr","usingActiveXhr","call","Response","bodyInit","type","status","ok","statusText","input","init","request","withCredentials","responseURL","getResponseHeader","readyState","responseText","onreadystatechange","open","responseType","setRequestHeader","send","polyfill","FILE_READING_ERROR","JSON_PARSING_ERROR","CSV_PARSING_ERROR","DDF_ERROR","message","details","file","tslib_1","isNil","isObject","ddf_csv_1","ddf_query_validator_1","defaultFileReader","externalFileReader","logger","readerInfo","_basePath","path","_lastModified","fileReader","resultTransformer","datasetsConfig","isLocalReader","isServerReader","ddfCsvReader","basePath","getAsset","asset","isJsonAsset","slice","length","assetPath","getDatasetPath","readText","data","jsonErr","read","queryParam","parsers","__awaiter","query","_prettifyData","log","stringify","keys","record","__extends","__assign","__rest","__decorate","__param","__metadata","__generator","__exportStar","__values","__read","__spread","__await","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","factory","root","global","define","createExporter","module","previous","create","__esModule","id","v","exporter","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","__","constructor","assign","t","s","i","n","arguments","getOwnPropertySymbols","decorators","target","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","fulfilled","step","next","done","apply","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","op","pop","m","o","ar","concat","asyncIterator","q","a","resume","settle","fulfill","cooked","raw","mod","k","includes","isEmpty","query_optimization_plugins_1","Papa","isValidNumeric","val","readerOptions","internalConcepts","concept","concept_type","domain","operators","Map","row","predicates","every","applyFilterRow","some","predicate","rowValue","filterValue","baseOptions","conceptsLookup","datapackagePath","datasetPath","dataset","keyValueLookup","resourcesLookup","optimalFilesSet","loadDataPackage","datapackage","buildResourcesLookup","buildKeyValueLookup","parseErr","loadConcepts","setConceptsLookup","conceptQuery","select","from","branch","commit","queryData","concepts","buildConceptsLookup","reparseConcepts","entitySetMembershipConcepts","filter","parsingFunctions","str","parseFloat","resources","getResources","resourceUpdates","resource","resourceConcepts","parsingConcepts","fn","parseFn","all","clear","validateQueryStructure","extendQueryParamWithDatasetProps","validateQueryDefinitions","isSchemaQuery","querySchema","appropriatePlugin","getAppropriatePlugin","getOptimalFilesSet","files","where","order_by","language","projection","Set","filterFields","getFilterFields","field","resourcesPromise","loadResources","joinsPromise","getJoinFilters","entitySetFilterPromise","getEntitySetFilter","resourceResponses","entitySetFilter","joinFilters","whereResolved","processWhere","mergeFilters","dataTables","processResourceResponse","queryResult","joinData","fillMissingValues","projectRow","orderData","orderBy","orderNormalized","orderPart","direction","sort","order","fieldValue","subFilter","filters","reduce","$and","getSchemaFromCollection","ddfSchema","collectionPar","primaryKey","collection","throwError","operator","filterKey","getJoinFilter","joinID","results","mergeObjects","$in","fields","subFields","filterConceptsByType","conceptTypes","queryKey","conceptStrings","conceptString","getEntityConceptRenameMap","resourceKey","resourceKeySet","entityConceptTypes","queryEntityConcepts","allEntityConcepts","lookupConcept","aliasConcept","mapA","mapB","promises","createKeyString","isArray","singleValue","resultSet","oneKeyOneValueResourcesArray","resourcePK","schema","resourceProjection","renameMap","renameHeaderRow","loadResource","projectionSet","joinMode","canonicalKey","dataMap","dataPar","keyString","resultRow","joinRow","sourceRow","undefined","sourceRowStr","resultRowStr","errStr","currentLogger","console","filePromises","loadFile","languageValid","getLanguages","languageLoaded","translations","translationPath","filesData","fileResponses","resp","lang","skipEmptyLines","dynamicTyping","headerName","complete","datapackagePar","size","kvPair","resourceName","baseIndexOf","isArrayLike","isString","toInteger","nativeMax","Math","max","fromIndex","guard","baseFindIndex","baseIsNaN","strictIndexOf","array","fromRight","index","isFunction","isLength","baseGetTag","asyncTag","funcTag","genTag","proxyTag","tag","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","toStringTag","freeGlobal","freeSelf","Function","objectProto","nativeObjectToString","isOwn","unmasked","MAX_SAFE_INTEGER","isObjectLike","stringTag","toFinite","remainder","toNumber","INFINITY","MAX_INTEGER","sign","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","symbolTag","baseValues","object","arrayMap","props","iteratee","arrayLikeKeys","baseKeys","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","baseIsArguments","propertyIsEnumerable","argsTag","stubFalse","freeExports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","webpackPolyfill","deprecate","paths","children","reIsUint","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","func","freeProcess","process","binding","isPrototype","nativeKeys","Ctor","proto","overArg","transform","arg","getTag","splice","DataView","WeakMap","toSource","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","ctorString","getNative","baseIsNative","getValue","isMasked","reRegExpChar","reIsHostCtor","funcProto","funcToString","reIsNative","RegExp","pattern","coreJsData","maskSrcKey","uid","exec","IE_PROTO","in_clause_under_conjunction_plugin_1","plugins","InClauseUnderConjunctionPlugin","plugin","isMatched","flattenDeep","startsWith","compact","WHERE_KEYWORD","JOIN_KEYWORD","KEY_KEYWORD","KEY_IN","KEY_AND","getFirstConditionClause","clause","getFirstKey","obj","isOneKeyBased","flow","joinObject","mainAndClause","isMainAndClauseCorrect","joinKeys","areJoinKeysSameAsKeyInWhereClause","joinPart","firstKey","fillResourceToFileHash","collectProcessableClauses","collectEntityFilesNames","collectEntities","fillEntityValuesHash","getFilesGroupsQueryClause","getOptimalFilesGroup","resourceToFile","hash","processableClauses","joinKey","singleAndField","getProcessableClauses","el","entityFilesNames","fileNameToPrimaryKeyHash","entities","schemaResourceRecord","actions","actResolve","actReject","entitiesData","getSubdomainsFromRecord","entityValueToFileHash","entityValueToDomainHash","entityFileDescriptor","entityRecord","primaryKeyForThisFile","primaryKeyCellValue","domainsForCurrentRecord","filesGroupsByClause","filesGroupByClause","datapoints","entityValuesFromClause","entityValueFromClause","add","entitiesByQuery","entityByQuery","clauseKeys","appropriateClauseKey","appropriateClauseSize","conditionKey","normalizeArray","parts","allowAboveRoot","up","last","unshift","splitPathRe","splitPath","filename","resolvedPath","resolvedAbsolute","cwd","charAt","normalize","isAbsolute","trailingSlash","substr","relative","to","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","sep","delimiter","dirname","dir","basename","ext","extname","xs","res","len","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","args","Item","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","chdir","umask","baseGet","defaultValue","castPath","toKey","isKey","stringToPath","reIsDeepProp","reIsPlainProp","memoizeCapped","reLeadingDot","rePropName","reEscapeChar","string","match","number","quote","memoize","MAX_MEMOIZE_SIZE","cache","MapCache","FUNC_ERROR_TEXT","resolver","memoized","Cache","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","entries","entry","Hash","ListCache","__data__","hashClear","hashDelete","hashGet","hashHas","hashSet","nativeCreate","HASH_UNDEFINED","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","assocIndexOf","arrayProto","lastIndex","eq","getMapData","isKeyable","baseToString","symbolProto","symbolToString","baseFlatten","arrayPush","isFlattenable","depth","isStrict","offset","spreadableSymbol","isConcatSpreadable","baseClamp","position","lower","upper","resIndex","IS_WORKER","document","postMessage","IS_PAPA_WORKER","location","search","LOADED_SYNC","AUTO_SCRIPT_PATH","workers","workerIdCounter","CsvToJson","unparse","JsonToCsv","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","BAD_DELIMITERS","WORKERS_SUPPORTED","Worker","SCRIPT_PATH","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","$","config","each","idx","supported","prop","attr","inputElem","instanceConfig","extend","parseNextFile","before","returned","action","reason","fileComplete","userCompleteFunc","elem","onmessage","workerThreadReceivedMessage","getScriptPath","addEventListener","_input","_config","dynamicTypingFunction","worker","w","newWorker","userStep","userChunk","chunk","userComplete","userError","workerId","streamer","download","readable","File","stream","_output","_fields","_quotes","_writeHeader","_delimiter","_newline","_quoteChar","unpackConfig","quoteCharRegex","serialize","objectKeys","meta","quotes","newline","quoteChar","csv","hasHeader","dataKeyedByField","safe","maxCol","col","colIdx","needsQuotes","hasAny","substrings","ChunkStreamer","_handle","_paused","_finished","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","replaceConfig","parseChunk","beforeFirstChunk","modifiedChunk","aggregate","paused","aborted","cursor","substring","finishedIncludingPreview","preview","WORKER_ID","finished","_sendError","configCopy","copy","chunkSize","_readChunk","_chunkLoaded","bindFunction","_chunkError","downloadRequestHeaders","getFileSize","errorMessage","errorText","contentRange","lastIndexOf","usingAsyncReader","webkitSlice","mozSlice","FileReaderSync","txt","encoding","event","remaining","parseOnData","_streamData","_streamEnd","_streamError","_streamCleanUp","FLOAT","_stepCounter","_parser","_aborted","_delimiterError","_results","needsHeaderRow","processResults","abort","baseIndex","ignoreLastRow","guessLineEndings","delimGuess","guessDelimiter","successful","bestDelimiter","parserConfig","pause","getCharIndex","addError","fillHeaderFields","applyHeaderAndDynamicTyping","j","shouldApplyDynamicTyping","parseDynamic","tryParseFloat","delimChoices","bestDelim","bestDelta","fieldCountPrevRow","delim","delta","avgFieldCount","emptyLinesCount","fieldCount","abs","nAppearsFirst","numWithN","isNumber","code","msg","comments","fastMode","inputLen","delimLen","newlineLen","commentsLen","stepIsFunction","lastCursor","returnable","rows","pushRow","doStep","nextDelim","nextNewline","quoteSearch","finish","saveRow","newCursor","stopped","linebreak","truncated","scripts","getElementsByTagName","src","workerUrl","mainThreadReceivedMessage","completeWorker","handle","notImplemented","terminate","cpy","SCHEMAS","DATAPOINTS","ENTITIES","CONCEPTS","AVAILABLE_QUERY_OPERATORS","AVAILABLE_FROM_CLAUSE_VALUES","AVAILABLE_ORDER_BY_CLAUSE_VALUES","DEFAULT_DATASET_NAME","DEFAULT_DATASET_BRANCH","DEFAULT_DATASET_COMMIT","DEFAULT_DATASET_DIR","MAX_AMOUNT_OF_MEASURES_IN_SELECT","fromClause","isDatapointsQuery","isEntitiesQuery","isConceptsQuery","isEntityDomainOrSet","conceptType","isMeasure","helper_service_1","validationResult","validateSelectDefinitions","isQueryValid","errorMessages","selectClause","checkIfSelectKeyHasInvalidDefinitions","checkIfSelectValueHasInvalidDefinitions","unavailableKeys","getUnavailableSelectKeys","unavailableValues","getUnavailableSelectValues","keyItem","valueItem","arrayFilter","baseFilter","baseIteratee","baseEach","baseForOwn","createBaseEach","baseFor","createBaseFor","keysFunc","iterable","eachFunc","baseMatches","baseMatchesProperty","identity","property","baseIsMatch","getMatchData","matchesStrictComparable","source","matchData","Stack","baseIsEqual","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","customizer","noCustomizer","objValue","srcValue","stack","stackClear","stackDelete","stackGet","stackHas","stackSet","LARGE_ARRAY_SIZE","baseIsEqualDeep","bitmask","equalArrays","equalByTag","equalObjects","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","SetCache","arraySome","cacheHas","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","setCacheAdd","setCacheHas","Uint8Array","mapToArray","setToArray","symbolValueOf","byteLength","byteOffset","buffer","convert","getAllKeys","objProps","objLength","othProps","skipCtor","objCtor","othCtor","baseGetAllKeys","getSymbols","symbolsFunc","stubArray","nativeGetSymbols","symbol","isStrictComparable","hasIn","baseHasIn","hasPath","hasFunc","baseProperty","basePropertyDeep","first","util_1","validateDatasetStructure","validateFromStructure","validateSelectStructure","validateWhereStructure","validateLanguageStructure","validateJoinStructure","validateOrderByStructure","datasetClause","branchClause","commitClause","listAvaliableValues","checkIfSelectIsEmpty","checkIfSchemasSelectKeyHasInvalidStructure","checkIfSelectValueHasInvalidStructure","checkIfEntitiesOrConceptsSelectHasInvalidStructure","checkIfSelectKeyHasInvalidStructure","checkIfSelectHasInvalidStructure","checkIfDatapointsSelectKeyHasInvalidStructure","checkIfDatapointsSelectValueHasInvalidStructure","joinClause","whereClause","whereOperators","getWhereOperators","checkIfWhereHasInvalidStructure","checkIfWhereHasUnknownOperators","languageClause","checkIfSchemaLanguageIsPresent","checkIfLanguageHasInvalidStructure","checkIfSchemaJoinIsPresent","checkIfJoinHasInvalidStructure","orderByClause","checkIfOrderByHasInvalidStructure","isStrictObject","notAllowedOperators","isAllowedOperator","allowedOperatorsByDataset","isArrayOfStrings","isArrayOfSpecialItems","isOrderBySubclause","subclause","isSpecialItem","isMongoLikeOperator","isJoinOperator","isLeaf","isPrimitive","stringSize","asciiSize","hasUnicode","unicodeSize","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","reUnicode","baseHas","arrayEvery","baseEvery","isIterateeCall","formatRegExp","format","objects","inspect","x","Number","isNull","isUndefined","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","trace","debugs","debugEnviron","debuglog","NODE_DEBUG","pid","opts","ctx","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","recurseTimes","ret","primitive","formatPrimitive","visibleKeys","isError","formatError","isRegExp","isDate","Date","base","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","l","line","numLinesEst","prev","cur","isNullOrUndefined","re","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","inherits","origin","fill","readUInt8","ctor","superCtor","super_","enumerable","writable","configurable","TempCtor","getDatapackagePath","isDatasetPathAlreadyInBasePath","DEFAULT_DATASET","DEFAULT_BRANCH","DEFAULT_COMMIT","originDataset","originBranch","originCommit","datasetName"],"mappings":"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","file":"vizabi-ddfcsv-reader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 68c24965b2b5e431d2cc","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst frontend_file_reader_1 = require(\"./file-readers/frontend-file-reader\");\nvar frontend_file_reader_2 = require(\"./file-readers/frontend-file-reader\");\nexports.FrontendFileReader = frontend_file_reader_2.FrontendFileReader;\nvar ddfcsv_error_1 = require(\"./ddfcsv-error\");\nexports.DdfCsvError = ddfcsv_error_1.DdfCsvError;\nconst ddfcsv_reader_1 = require(\"./ddfcsv-reader\");\nexports.getDDFCsvReaderObject = ddfcsv_reader_1.prepareDDFCsvReaderObject(new frontend_file_reader_1.FrontendFileReader());\n//# sourceMappingURL=index-web.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/index-web.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire('fetch-polyfill');\nclass FrontendFileReader {\n    setRecordTransformer(recordTransformer) {\n        this.recordTransformer = recordTransformer;\n    }\n    readText(filePath, onFileRead) {\n        fetch(filePath)\n            .then(response => response.text())\n            .then(text => {\n            onFileRead(null, text);\n        })\n            .catch(err => {\n            onFileRead(`${filePath} read error: ${err}`);\n        });\n    }\n}\nexports.FrontendFileReader = FrontendFileReader;\n//# sourceMappingURL=frontend-file-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/file-readers/frontend-file-reader.js","(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = name.toString();\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = value.toString();\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    var self = this\n    if (headers instanceof Headers) {\n      headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          self.append(name, value)\n        })\n      })\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        self.append(name, headers[name])\n      })\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  // Instead of iterable for now.\n  Headers.prototype.forEach = function(callback) {\n    var self = this\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      callback(name, self.map[name])\n    })\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return fetch.Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new fetch.Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return fetch.Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return fetch.Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return fetch.Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : fetch.Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(function (text) {\n          return JSON.parse(text);\n      });\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(url, options) {\n    options = options || {}\n    this.url = url\n\n    this.credentials = options.credentials || 'omit'\n    this.headers = new Headers(options.headers)\n    this.method = normalizeMethod(options.method || 'GET')\n    this.mode = options.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && options.body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(options.body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  var noXhrPatch =\n    typeof window !== 'undefined' && !!window.ActiveXObject &&\n      !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);\n\n  function getXhr() {\n    // from backbone.js 1.1.2\n    // https://github.com/jashkenas/backbone/blob/1.1.2/backbone.js#L1181\n    if (noXhrPatch && !(/^(get|post|head|put|delete|options)$/i.test(this.method))) {\n      this.usingActiveXhr = true;\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    return new XMLHttpRequest();\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    // TODO: Request constructor should accept input, init\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new fetch.Promise(function(resolve, reject) {\n      var xhr = getXhr();\n      if (request.credentials === 'cors') {\n        xhr.withCredentials = true;\n      }\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      function onload() {\n        if (xhr.readyState !== 4) {\n          return\n        }\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n      xhr.onreadystatechange = onload;\n      if (!self.usingActiveXhr) {\n        xhr.onload = onload;\n        xhr.onerror = function() {\n          reject(new TypeError('Network request failed'))\n        }\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          xhr.setRequestHeader(name, value)\n        })\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  fetch.Promise = self.Promise; // you could change it to your favorite alternative\n  self.fetch.polyfill = true\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./~/fetch-polyfill/fetch.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FILE_READING_ERROR = 'File reading error';\nexports.JSON_PARSING_ERROR = 'JSON parsing error';\nexports.CSV_PARSING_ERROR = 'CSV parsing error';\nexports.DDF_ERROR = 'DDF error';\nclass DdfCsvError extends Error {\n    constructor(message, details, file) {\n        super();\n        this.name = 'DdfCsvError';\n        this.message = `${message} [filepath: ${file}]. ${details}.`;\n        this.details = details;\n        this.file = file;\n    }\n}\nexports.DdfCsvError = DdfCsvError;\n//# sourceMappingURL=ddfcsv-error.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddfcsv-error.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst isNil = require(\"lodash/isNil\");\nconst isObject = require(\"lodash/isObject\");\nconst ddf_csv_1 = require(\"./ddf-csv\");\nconst ddf_query_validator_1 = require(\"./ddf-query-validator\");\nfunction prepareDDFCsvReaderObject(defaultFileReader) {\n    return function (externalFileReader, logger) {\n        return {\n            init(readerInfo) {\n                this._basePath = readerInfo.path;\n                this._lastModified = readerInfo._lastModified;\n                this.fileReader = externalFileReader || defaultFileReader;\n                this.logger = logger;\n                this.resultTransformer = readerInfo.resultTransformer;\n                this.datasetsConfig = readerInfo.datasetsConfig;\n                this.isLocalReader = isNil(this.datasetsConfig) ? true : false;\n                this.isServerReader = !this.isLocalReader;\n                this.reader = ddf_csv_1.ddfCsvReader({\n                    basePath: this._basePath,\n                    fileReader: this.fileReader,\n                    logger: this.logger,\n                    datasetsConfig: this.datasetsConfig\n                });\n            },\n            getAsset(asset) {\n                const isJsonAsset = asset.slice(-'.json'.length) === '.json';\n                let assetPath = `${this._basePath}/${asset}`;\n                if (isObject(asset)) {\n                    assetPath = ddf_query_validator_1.getDatasetPath(this._basePath, asset);\n                }\n                return new Promise((resolve, reject) => {\n                    this.fileReader.readText(assetPath, (err, data) => {\n                        if (err) {\n                            reject(err);\n                            return;\n                        }\n                        if (isJsonAsset) {\n                            try {\n                                resolve(JSON.parse(data));\n                            }\n                            catch (jsonErr) {\n                                reject(err);\n                            }\n                        }\n                        else {\n                            resolve(data);\n                        }\n                    });\n                });\n            },\n            read(queryParam, parsers) {\n                return tslib_1.__awaiter(this, void 0, void 0, function* () {\n                    let result;\n                    try {\n                        result = yield this.reader.query(queryParam);\n                        result = parsers ? this._prettifyData(result, parsers) : result;\n                        if (this.resultTransformer) {\n                            result = this.resultTransformer(result);\n                        }\n                        if (this.logger && this.logger.log) {\n                            logger.log(JSON.stringify(queryParam), result.length);\n                            logger.log(result);\n                        }\n                    }\n                    catch (error) {\n                        throw error;\n                    }\n                    return result;\n                });\n            },\n            _prettifyData(data, parsers) {\n                return data.map(record => {\n                    const keys = Object.keys(record);\n                    keys.forEach(key => {\n                        if (parsers[key]) {\n                            record[key] = parsers[key](record[key]);\n                        }\n                    });\n                    return record;\n                });\n            }\n        };\n    };\n}\nexports.prepareDDFCsvReaderObject = prepareDDFCsvReaderObject;\n//# sourceMappingURL=ddfcsv-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddfcsv-reader.js","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n                t[p[i]] = s[p[i]];\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function (m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    };\r\n\r\n    __values = function (o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result[\"default\"] = mod;\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslib/tslib.js","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isNil.js","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isObject.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst includes = require(\"lodash/includes\");\nconst isEmpty = require(\"lodash/isEmpty\");\nconst query_optimization_plugins_1 = require(\"./query-optimization-plugins\");\nconst ddfcsv_error_1 = require(\"./ddfcsv-error\");\nconst ddf_query_validator_1 = require(\"./ddf-query-validator\");\nconst Papa = require(\"papaparse\");\nconst isValidNumeric = val => typeof val !== 'number' && !val ? false : true;\nfunction ddfCsvReader(readerOptions) {\n    const { basePath, fileReader, logger, datasetsConfig } = readerOptions;\n    const internalConcepts = [\n        { concept: 'concept', concept_type: 'string', domain: null },\n        { concept: 'concept_type', concept_type: 'string', domain: null }\n    ];\n    const operators = new Map([\n        ['$and', (row, predicates) => predicates.every(p => applyFilterRow(row, p))],\n        ['$or', (row, predicates) => predicates.some(p => applyFilterRow(row, p))],\n        ['$not', (row, predicate) => !applyFilterRow(row, predicate)],\n        ['$nor', (row, predicates) => !predicates.some(p => applyFilterRow(row, p))],\n        ['$eq', (rowValue, filterValue) => rowValue == filterValue],\n        ['$ne', (rowValue, filterValue) => rowValue != filterValue],\n        ['$gt', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue > filterValue],\n        ['$gte', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue >= filterValue],\n        ['$lt', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue < filterValue],\n        ['$lte', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue <= filterValue],\n        ['$in', (rowValue, filterValue) => filterValue.has(rowValue)],\n        ['$nin', (rowValue, filterValue) => !filterValue.has(rowValue)],\n    ]);\n    const baseOptions = {\n        basePath,\n        datasetsConfig,\n        conceptsLookup: new Map(),\n        datapackagePath: '',\n        datasetPath: '',\n        dataset: ''\n    };\n    const keyValueLookup = new Map();\n    const resourcesLookup = new Map();\n    let optimalFilesSet = [];\n    function loadDataPackage(datapackagePath) {\n        return new Promise((resolve, reject) => {\n            fileReader.readText(datapackagePath, (err, data) => {\n                if (err) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, datapackagePath));\n                }\n                let datapackage;\n                try {\n                    datapackage = JSON.parse(data);\n                    optimalFilesSet = [];\n                    buildResourcesLookup(datapackage);\n                    buildKeyValueLookup(datapackage);\n                }\n                catch (parseErr) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.JSON_PARSING_ERROR, parseErr.message, datapackagePath));\n                }\n                resolve(datapackage);\n            });\n        });\n    }\n    function loadConcepts(queryParam, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            setConceptsLookup(internalConcepts, options);\n            const conceptQuery = {\n                select: { key: ['concept'], value: ['concept_type', 'domain'] },\n                from: 'concepts',\n                dataset: queryParam.dataset,\n                branch: queryParam.branch,\n                commit: queryParam.commit\n            };\n            let result;\n            try {\n                const concepts = yield queryData(conceptQuery, options);\n                buildConceptsLookup(concepts, options);\n                result = yield reparseConcepts(options);\n            }\n            catch (error) {\n                throw error;\n            }\n            return result;\n        });\n    }\n    function buildConceptsLookup(concepts, options) {\n        const entitySetMembershipConcepts = concepts\n            .filter(concept => concept.concept_type === 'entity_set')\n            .map(concept => ({\n            concept: 'is--' + concept.concept,\n            concept_type: 'boolean',\n            domain: null\n        }));\n        concepts = concepts\n            .concat(entitySetMembershipConcepts)\n            .concat(internalConcepts);\n        setConceptsLookup(concepts, options);\n    }\n    function reparseConcepts({ conceptsLookup }) {\n        const parsingFunctions = new Map([\n            ['boolean', (str) => str === 'true' || str === 'TRUE'],\n            ['measure', (str) => parseFloat(str)]\n        ]);\n        const resources = getResources(['concept']);\n        const resourceUpdates = [...resources].map(resource => {\n            return resource.data.then(response => {\n                const resourceConcepts = Object.keys(response.data[0]);\n                const parsingConcepts = new Map();\n                resourceConcepts.forEach(concept => {\n                    const type = conceptsLookup.get(concept).concept_type;\n                    const fn = parsingFunctions.get(type);\n                    if (fn) {\n                        parsingConcepts.set(concept, fn);\n                    }\n                });\n                return response.data.forEach(row => {\n                    for (const [concept, parseFn] of parsingConcepts) {\n                        row[concept] = parseFn(row[concept]);\n                    }\n                });\n            });\n        });\n        return Promise.all(resourceUpdates);\n    }\n    function setConceptsLookup(concepts, options) {\n        options.conceptsLookup.clear();\n        concepts.forEach(row => options.conceptsLookup.set(row.concept, row));\n    }\n    function query(queryParam) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let data;\n            try {\n                baseOptions.fileReader = fileReader;\n                yield ddf_query_validator_1.validateQueryStructure(queryParam, baseOptions);\n                yield ddf_query_validator_1.extendQueryParamWithDatasetProps(queryParam, baseOptions);\n                const datapackage = yield loadDataPackage(baseOptions.datapackagePath);\n                baseOptions.datapackage = datapackage;\n                yield loadConcepts(queryParam, baseOptions);\n                yield ddf_query_validator_1.validateQueryDefinitions(queryParam, baseOptions);\n                if (ddf_query_validator_1.isSchemaQuery(queryParam)) {\n                    data = yield querySchema(queryParam, { datapackage });\n                }\n                else {\n                    const appropriatePlugin = query_optimization_plugins_1.getAppropriatePlugin(queryParam, baseOptions);\n                    if (appropriatePlugin) {\n                        optimalFilesSet = [];\n                        const files = yield appropriatePlugin.getOptimalFilesSet();\n                        optimalFilesSet = files;\n                    }\n                    data = yield queryData(queryParam, baseOptions);\n                }\n            }\n            catch (error) {\n                throw error;\n            }\n            return data;\n        });\n    }\n    function queryData(queryParam, options) {\n        const { select: { key = [], value = [] }, from = '', where = {}, join = {}, order_by = [], language } = queryParam;\n        const select = { key, value };\n        const projection = new Set(select.key.concat(select.value));\n        const filterFields = getFilterFields(where).filter(field => !projection.has(field));\n        const resourcesPromise = loadResources(select.key, [...select.value, ...filterFields], language, options);\n        const joinsPromise = getJoinFilters(join, queryParam, options);\n        const entitySetFilterPromise = getEntitySetFilter(select.key, queryParam, options);\n        return Promise.all([resourcesPromise, entitySetFilterPromise, joinsPromise])\n            .then(([resourceResponses, entitySetFilter, joinFilters]) => {\n            const whereResolved = processWhere(where, joinFilters);\n            const filter = mergeFilters(entitySetFilter, whereResolved);\n            const dataTables = resourceResponses\n                .map(response => processResourceResponse(response, select, filterFields, options));\n            const queryResult = joinData(select.key, 'overwrite', ...dataTables)\n                .filter(row => applyFilterRow(row, filter))\n                .map(row => fillMissingValues(row, projection))\n                .map(row => projectRow(row, projection));\n            orderData(queryResult, order_by);\n            return queryResult;\n        });\n    }\n    function orderData(data, orderBy = []) {\n        if (orderBy.length === 0) {\n            return;\n        }\n        const orderNormalized = orderBy.map(orderPart => {\n            if (typeof orderPart === 'string') {\n                return { concept: orderPart, direction: 1 };\n            }\n            else {\n                const concept = Object.keys(orderPart)[0];\n                const direction = (orderPart[concept] === 'asc' ? 1 : -1);\n                return { concept, direction };\n            }\n        });\n        const n = orderNormalized.length;\n        data.sort((a, b) => {\n            for (let i = 0; i < n; i++) {\n                const order = orderNormalized[i];\n                if (a[order.concept] < b[order.concept]) {\n                    return -1 * order.direction;\n                }\n                else if (a[order.concept] > b[order.concept]) {\n                    return 1 * order.direction;\n                }\n            }\n            return 0;\n        });\n    }\n    function processWhere(where, joinFilters) {\n        const result = {};\n        for (const field in where) {\n            const fieldValue = where[field];\n            if (['$and', '$or', '$nor'].includes(field)) {\n                result[field] = fieldValue.map(subFilter => processWhere(subFilter, joinFilters));\n            }\n            else if (field === '$in' || field === '$nin') {\n                result[field] = new Set(fieldValue);\n            }\n            else if (typeof joinFilters[fieldValue] !== 'undefined') {\n                Object.assign(result, joinFilters[fieldValue]);\n            }\n            else if (typeof fieldValue === 'object') {\n                result[field] = processWhere(fieldValue, joinFilters);\n            }\n            else {\n                result[field] = fieldValue;\n            }\n        }\n        return result;\n    }\n    function mergeFilters(...filters) {\n        return filters.reduce((a, b) => {\n            a.$and.push(b);\n            return a;\n        }, { $and: [] });\n    }\n    function querySchema(queryParam, { datapackage }) {\n        const getSchemaFromCollection = collectionPar => {\n            return datapackage.ddfSchema[collectionPar].map(({ primaryKey, value }) => ({ key: primaryKey, value }));\n        };\n        const collection = queryParam.from.split('.')[0];\n        if (datapackage.ddfSchema[collection]) {\n            return getSchemaFromCollection(collection);\n        }\n        else if (collection === '*') {\n            return Object.keys(datapackage.ddfSchema)\n                .map(getSchemaFromCollection)\n                .reduce((a, b) => a.concat(b));\n        }\n        else {\n            throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, `No valid collection (${collection}) for schema query`));\n        }\n    }\n    function fillMissingValues(row, projection) {\n        for (const field of projection) {\n            if (typeof row[field] === 'undefined') {\n                row[field] = null;\n            }\n        }\n        return row;\n    }\n    function applyFilterRow(row, filter) {\n        return Object.keys(filter).every(filterKey => {\n            const operator = operators.get(filterKey);\n            if (operator) {\n                return operator(row, filter[filterKey]);\n            }\n            else if (typeof filter[filterKey] !== 'object') {\n                return operators.get('$eq')(row[filterKey], filter[filterKey]);\n            }\n            else {\n                return applyFilterRow(row[filterKey], filter[filterKey]);\n            }\n        });\n    }\n    function getJoinFilters(join, queryParam, options) {\n        return Promise.all(Object.keys(join).map(joinID => getJoinFilter(joinID, join[joinID], queryParam, options)))\n            .then(results => results.reduce(mergeObjects, {}));\n    }\n    function mergeObjects(a, b) {\n        return Object.assign(a, b);\n    }\n    function getJoinFilter(joinID, join, queryParam, options) {\n        if (options.conceptsLookup.get(join.key).concept_type === 'time') {\n            return Promise.resolve({ [joinID]: join.where });\n        }\n        else {\n            return query({\n                select: { key: [join.key] },\n                where: join.where,\n                from: options.conceptsLookup.has(join.key) ? 'concepts' : 'entities',\n                dataset: queryParam.dataset,\n                branch: queryParam.branch,\n                commit: queryParam.commit\n            })\n                .then(result => ({\n                [joinID]: {\n                    [join.key]: {\n                        $in: new Set(result.map(row => row[join.key]))\n                    }\n                }\n            }));\n        }\n    }\n    function getFilterFields(filter) {\n        const fields = [];\n        for (const field in filter) {\n            if (['$and', '$or', '$not', '$nor'].includes(field)) {\n                filter[field].map(getFilterFields).forEach(subFields => fields.push(...subFields));\n            }\n            else {\n                fields.push(field);\n            }\n        }\n        return fields;\n    }\n    function filterConceptsByType(conceptTypes, queryKey, options) {\n        const conceptStrings = queryKey || Array.from(options.conceptsLookup.keys());\n        const concepts = [];\n        for (const conceptString of conceptStrings) {\n            const concept = options.conceptsLookup.get(conceptString);\n            if (conceptTypes.includes(concept.concept_type)) {\n                concepts.push(concept);\n            }\n        }\n        return concepts;\n    }\n    function getEntityConceptRenameMap(queryKey, resourceKey, options) {\n        const resourceKeySet = new Set(resourceKey);\n        const entityConceptTypes = ['entity_set', 'entity_domain'];\n        const queryEntityConcepts = filterConceptsByType(entityConceptTypes, queryKey, options);\n        if (queryEntityConcepts.length === 0) {\n            return new Map();\n        }\n        const allEntityConcepts = filterConceptsByType(entityConceptTypes, null, options);\n        return queryEntityConcepts\n            .map(concept => allEntityConcepts\n            .filter(lookupConcept => {\n            if (concept.concept_type === 'entity_set') {\n                return resourceKeySet.has(lookupConcept.concept) &&\n                    lookupConcept.concept !== concept.concept &&\n                    (lookupConcept.domain === concept.domain ||\n                        lookupConcept.concept === concept.domain);\n            }\n            else {\n                return resourceKeySet.has(lookupConcept.concept) &&\n                    lookupConcept.concept !== concept.concept &&\n                    lookupConcept.domain === concept.concept;\n            }\n        })\n            .reduce((map, aliasConcept) => map.set(aliasConcept.concept, concept.concept), new Map())).reduce((mapA, mapB) => new Map([...mapA, ...mapB]), new Map());\n    }\n    function getEntitySetFilter(conceptStrings, queryParam, options) {\n        const promises = filterConceptsByType(['entity_set'], conceptStrings, options)\n            .map(concept => query({\n            select: { key: [concept.domain], value: ['is--' + concept.concept] },\n            from: 'entities',\n            dataset: queryParam.dataset,\n            branch: queryParam.branch,\n            commit: queryParam.commit\n        })\n            .then(result => ({\n            [concept.concept]: {\n                $in: new Set(result\n                    .filter(row => row['is--' + concept.concept])\n                    .map(row => row[concept.domain]))\n            }\n        })));\n        return Promise.all(promises).then(results => {\n            return results.reduce((a, b) => Object.assign(a, b), {});\n        });\n    }\n    function getResources(key, value) {\n        if (!value || value.length === 0) {\n            return new Set([...keyValueLookup\n                    .get(createKeyString(key))\n                    .values()\n            ].reduce((a, b) => a.concat(b)));\n        }\n        if (Array.isArray(value)) {\n            return value\n                .map(singleValue => getResources(key, singleValue))\n                .reduce((resultSet, resources) => new Set([...resultSet, ...resources]), new Set());\n        }\n        let oneKeyOneValueResourcesArray = keyValueLookup\n            .get(createKeyString(key))\n            .get(value);\n        if (oneKeyOneValueResourcesArray) {\n            oneKeyOneValueResourcesArray = oneKeyOneValueResourcesArray\n                .filter(v => isEmpty(optimalFilesSet) || includes(optimalFilesSet, v.path));\n        }\n        return new Set(oneKeyOneValueResourcesArray);\n    }\n    function processResourceResponse(response, select, filterFields, options) {\n        const resourcePK = response.resource.schema.primaryKey;\n        const resourceProjection = new Set([...resourcePK, ...select.value, ...filterFields]);\n        const renameMap = getEntityConceptRenameMap(select.key, resourcePK, options);\n        return response.data\n            .map(row => projectRow(row, resourceProjection))\n            .map(row => renameHeaderRow(row, renameMap));\n    }\n    function loadResources(key, value, language, options) {\n        const resources = getResources(key, value);\n        return Promise.all([...resources].map(resource => loadResource(resource, language, options)));\n    }\n    function projectRow(row, projectionSet) {\n        const result = {};\n        for (const concept in row) {\n            if (projectionSet.has(concept)) {\n                result[concept] = row[concept];\n            }\n        }\n        return result;\n    }\n    function renameHeaderRow(row, renameMap) {\n        const result = {};\n        for (const concept in row) {\n            result[renameMap.get(concept) || concept] = row[concept];\n        }\n        return result;\n    }\n    function joinData(key, joinMode, ...data) {\n        if (data.length === 1) {\n            return data[0];\n        }\n        const canonicalKey = key.slice(0).sort();\n        const dataMap = data.reduce((result, dataPar) => {\n            dataPar.forEach(row => {\n                const keyString = canonicalKey.map(concept => row[concept]).join(',');\n                if (result.has(keyString)) {\n                    const resultRow = result.get(keyString);\n                    joinRow(resultRow, row, joinMode);\n                }\n                else {\n                    result.set(keyString, row);\n                }\n            });\n            return result;\n        }, new Map());\n        return [...dataMap.values()];\n    }\n    function joinRow(resultRow, sourceRow, mode) {\n        switch (mode) {\n            case 'overwrite':\n                Object.assign(resultRow, sourceRow);\n                break;\n            case 'translation':\n                for (const concept in sourceRow) {\n                    if (sourceRow[concept] !== '') {\n                        resultRow[concept] = sourceRow[concept];\n                    }\n                }\n                break;\n            case 'overwriteWithError':\n                for (const concept in sourceRow) {\n                    if (resultRow[concept] !== undefined && resultRow[concept] !== sourceRow[concept]) {\n                        const sourceRowStr = JSON.stringify(sourceRow);\n                        const resultRowStr = JSON.stringify(resultRow);\n                        const errStr = `JOIN Error: two resources have different data for \"${concept}\": ${sourceRowStr},${resultRowStr}`;\n                        throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, errStr));\n                    }\n                    else {\n                        resultRow[concept] = sourceRow[concept];\n                    }\n                }\n                break;\n        }\n    }\n    function throwError(error) {\n        const currentLogger = logger || console;\n        currentLogger.error(error.message);\n        throw error;\n    }\n    function createKeyString(key, row = false) {\n        const canonicalKey = key.slice(0).sort();\n        if (!row) {\n            return canonicalKey.join(',');\n        }\n        else {\n            return canonicalKey.map(concept => row[concept]).join(',');\n        }\n    }\n    function loadResource(resource, language, options) {\n        const filePromises = [];\n        if (typeof resource.data === 'undefined') {\n            resource.data = loadFile(options.datasetPath + '/' + resource.path, options);\n        }\n        filePromises.push(resource.data);\n        const languageValid = typeof language !== 'undefined' && getLanguages(options).includes(language);\n        const languageLoaded = typeof resource.translations[language] !== 'undefined';\n        if (languageValid) {\n            if (!languageLoaded) {\n                const translationPath = `${options.datasetPath}/lang/${language}/${resource.path}`;\n                resource.translations[language] = loadFile(translationPath, options).catch(err => Promise.resolve({}));\n            }\n            filePromises.push(resource.translations[language]);\n        }\n        return Promise.all(filePromises).then(fileResponses => {\n            const filesData = fileResponses.map(resp => resp.data || []);\n            const primaryKey = resource.schema.primaryKey;\n            const data = joinData(primaryKey, 'translation', ...filesData);\n            return { data, resource };\n        });\n    }\n    function getLanguages({ datapackage }) {\n        if (!datapackage.translations) {\n            return [];\n        }\n        return datapackage.translations.map(lang => lang.id);\n    }\n    function loadFile(filePath, options) {\n        return new Promise((resolve, reject) => {\n            fileReader.readText(filePath, (err, data) => {\n                if (err) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, filePath));\n                }\n                Papa.parse(data, {\n                    header: true,\n                    skipEmptyLines: true,\n                    dynamicTyping: (headerName) => {\n                        if (!options.conceptsLookup) {\n                            return true;\n                        }\n                        const concept = options.conceptsLookup.get(headerName) || {};\n                        return ['boolean', 'measure'].includes(concept.concept_type);\n                    },\n                    complete: result => resolve(result),\n                    error: error => reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.CSV_PARSING_ERROR, error, filePath))\n                });\n            });\n        });\n    }\n    function buildResourcesLookup(datapackagePar) {\n        if (resourcesLookup.size > 0) {\n            return resourcesLookup;\n        }\n        datapackagePar.resources.forEach(resource => {\n            if (!Array.isArray(resource.schema.primaryKey)) {\n                resource.schema.primaryKey = [resource.schema.primaryKey];\n            }\n            resource.translations = {};\n            resourcesLookup.set(resource.name, resource);\n        });\n        return resourcesLookup;\n    }\n    function buildKeyValueLookup(datapackagePar) {\n        if (keyValueLookup.size > 0) {\n            return keyValueLookup;\n        }\n        for (const collection in datapackagePar.ddfSchema) {\n            datapackagePar.ddfSchema[collection].map(kvPair => {\n                const key = createKeyString(kvPair.primaryKey);\n                const resources = kvPair.resources.map(resourceName => resourcesLookup.get(resourceName));\n                if (keyValueLookup.has(key)) {\n                    keyValueLookup.get(key).set(kvPair.value, resources);\n                }\n                else {\n                    keyValueLookup.set(key, new Map([[kvPair.value, resources]]));\n                }\n            });\n        }\n        return keyValueLookup;\n    }\n    return {\n        query\n    };\n}\nexports.ddfCsvReader = ddfCsvReader;\n//# sourceMappingURL=ddf-csv.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-csv.js","var baseIndexOf = require('./_baseIndexOf'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    toInteger = require('./toInteger'),\n    values = require('./values');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nmodule.exports = includes;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/includes.js","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIndexOf.js","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFindIndex.js","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsNaN.js","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_strictIndexOf.js","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArrayLike.js","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isFunction.js","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGetTag.js","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Symbol.js","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_root.js","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_freeGlobal.js","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getRawTag.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_objectToString.js","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isLength.js","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isString.js","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArray.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isObjectLike.js","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toInteger.js","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toFinite.js","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toNumber.js","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isSymbol.js","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/values.js","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseValues.js","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayMap.js","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/keys.js","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayLikeKeys.js","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseTimes.js","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArguments.js","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsArguments.js","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isBuffer.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/stubFalse.js","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isIndex.js","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isTypedArray.js","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsTypedArray.js","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseUnary.js","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nodeUtil.js","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseKeys.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isPrototype.js","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nativeKeys.js","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_overArg.js","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isEmpty.js","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getTag.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_DataView.js","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getNative.js","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsNative.js","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isMasked.js","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_coreJsData.js","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_toSource.js","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getValue.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Map.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Promise.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Set.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_WeakMap.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst in_clause_under_conjunction_plugin_1 = require(\"./in-clause-under-conjunction-plugin\");\nconst head = require(\"lodash/head\");\nfunction getAppropriatePlugin(queryParam, options) {\n    const plugins = [\n        new in_clause_under_conjunction_plugin_1.InClauseUnderConjunctionPlugin(queryParam, options)\n    ];\n    return head(plugins.filter(plugin => plugin.isMatched()));\n}\nexports.getAppropriatePlugin = getAppropriatePlugin;\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/query-optimization-plugins/index.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst path = require(\"path\");\nconst head = require(\"lodash/head\");\nconst values = require(\"lodash/values\");\nconst keys = require(\"lodash/keys\");\nconst get = require(\"lodash/get\");\nconst flattenDeep = require(\"lodash/flattenDeep\");\nconst isEmpty = require(\"lodash/isEmpty\");\nconst startsWith = require(\"lodash/startsWith\");\nconst includes = require(\"lodash/includes\");\nconst compact = require(\"lodash/compact\");\nconst ddfcsv_error_1 = require(\"../ddfcsv-error\");\nconst Papa = require('papaparse');\nconst WHERE_KEYWORD = 'where';\nconst JOIN_KEYWORD = 'join';\nconst KEY_KEYWORD = 'key';\nconst KEY_IN = '$in';\nconst KEY_AND = '$and';\nconst getFirstConditionClause = clause => head(values(clause));\nconst getFirstKey = obj => head(keys(obj));\nconst isOneKeyBased = obj => keys(obj).length === 1;\nclass InClauseUnderConjunctionPlugin {\n    constructor(queryParam, options) {\n        this.flow = {};\n        this.fileReader = options.fileReader;\n        this.datasetPath = options.datasetPath;\n        this.query = queryParam;\n        this.datapackage = options.datapackage;\n    }\n    isMatched() {\n        this.flow.joinObject = get(this.query, JOIN_KEYWORD);\n        const mainAndClause = get(this.query, WHERE_KEYWORD);\n        const isMainAndClauseCorrect = isOneKeyBased(mainAndClause);\n        const joinKeys = keys(this.flow.joinObject);\n        let areJoinKeysSameAsKeyInWhereClause = true;\n        for (const key of joinKeys) {\n            const joinPart = get(this.flow.joinObject, key, {});\n            const firstKey = getFirstKey(joinPart[WHERE_KEYWORD]);\n            if (joinPart[KEY_KEYWORD] !== firstKey && firstKey !== KEY_AND) {\n                areJoinKeysSameAsKeyInWhereClause = false;\n                break;\n            }\n        }\n        return isMainAndClauseCorrect && !!this.flow.joinObject && areJoinKeysSameAsKeyInWhereClause;\n    }\n    getOptimalFilesSet() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (this.isMatched()) {\n                let result;\n                try {\n                    this.fillResourceToFileHash();\n                    this.collectProcessableClauses();\n                    this.collectEntityFilesNames();\n                    const data = yield this.collectEntities();\n                    this.fillEntityValuesHash(data);\n                    this.getFilesGroupsQueryClause();\n                    result = this.getOptimalFilesGroup();\n                }\n                catch (err) {\n                    return [];\n                }\n                return result;\n            }\n            else {\n                throw new ddfcsv_error_1.DdfCsvError(`Plugin \"InClauseUnderConjunction\" is not matched!`, 'InClauseUnderConjunction plugin');\n            }\n        });\n    }\n    fillResourceToFileHash() {\n        this.flow.resourceToFile = get(this.datapackage, 'resources', []).reduce((hash, resource) => {\n            hash.set(resource.name, resource.path);\n            return hash;\n        }, new Map());\n        return this;\n    }\n    collectProcessableClauses() {\n        const joinKeys = keys(this.flow.joinObject);\n        this.flow.processableClauses = [];\n        for (const joinKey of joinKeys) {\n            const where = get(this.flow.joinObject, `${joinKey}.${WHERE_KEYWORD}`, {});\n            if (this.singleAndField(where)) {\n                this.flow.processableClauses.push(...flattenDeep(where[KEY_AND].map(el => this.getProcessableClauses(el))));\n            }\n            else {\n                this.flow.processableClauses.push(...this.getProcessableClauses(where));\n            }\n        }\n        return this;\n    }\n    collectEntityFilesNames() {\n        this.flow.entityFilesNames = [];\n        this.flow.fileNameToPrimaryKeyHash = new Map();\n        for (const schemaResourceRecord of this.datapackage.ddfSchema.entities) {\n            for (const clause of this.flow.processableClauses) {\n                const primaryKey = getFirstKey(clause);\n                if (head(schemaResourceRecord.primaryKey) === primaryKey) {\n                    for (const resourceName of schemaResourceRecord.resources) {\n                        const file = this.flow.resourceToFile.get(resourceName);\n                        this.flow.entityFilesNames.push(file);\n                        this.flow.fileNameToPrimaryKeyHash.set(file, primaryKey);\n                    }\n                }\n            }\n        }\n        return this;\n    }\n    collectEntities() {\n        const self = this;\n        const actions = self.flow.entityFilesNames.map(file => new Promise((actResolve, actReject) => {\n            self.fileReader.readText(path.resolve(self.datasetPath, file), (err, text) => {\n                if (err) {\n                    return actReject(err);\n                }\n                Papa.parse(text, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: result => actResolve({ file, result }),\n                    error: error => actReject(error)\n                });\n            });\n        }));\n        return Promise.all(actions);\n    }\n    fillEntityValuesHash(entitiesData) {\n        const getSubdomainsFromRecord = record => compact(keys(record)\n            .filter(key => startsWith(key, 'is--') && (record[key] === 'TRUE' || record[key] === 'true'))\n            .map(key => key.replace(/^is--/, '')));\n        this.flow.entityValueToFileHash = new Map();\n        this.flow.entityValueToDomainHash = new Map();\n        for (const entityFileDescriptor of entitiesData) {\n            for (const entityRecord of entityFileDescriptor.result.data) {\n                const primaryKeyForThisFile = this.flow.fileNameToPrimaryKeyHash.get(entityFileDescriptor.file);\n                const primaryKeyCellValue = entityRecord[primaryKeyForThisFile];\n                const domainsForCurrentRecord = [...getSubdomainsFromRecord(entityRecord)];\n                if (isEmpty(domainsForCurrentRecord)) {\n                    domainsForCurrentRecord.push(primaryKeyForThisFile);\n                }\n                this.flow.entityValueToDomainHash.set(primaryKeyCellValue, domainsForCurrentRecord);\n                this.flow.entityValueToFileHash.set(primaryKeyCellValue, entityFileDescriptor.file);\n            }\n        }\n        return this;\n    }\n    getFilesGroupsQueryClause() {\n        const filesGroupsByClause = new Map();\n        for (const clause of this.flow.processableClauses) {\n            const filesGroupByClause = {\n                entities: new Set(),\n                datapoints: new Set(),\n                concepts: new Set()\n            };\n            const entityValuesFromClause = getFirstConditionClause(clause).$in;\n            for (const entityValueFromClause of entityValuesFromClause) {\n                filesGroupByClause.entities.add(this.flow.entityValueToFileHash.get(entityValueFromClause));\n                const entitiesByQuery = this.flow.entityValueToDomainHash.get(entityValueFromClause);\n                for (const entityByQuery of entitiesByQuery) {\n                    for (const schemaResourceRecord of this.datapackage.ddfSchema.datapoints) {\n                        for (const resourceName of schemaResourceRecord.resources) {\n                            if (includes(schemaResourceRecord.primaryKey, entityByQuery)) {\n                                filesGroupByClause.datapoints.add(this.flow.resourceToFile.get(resourceName));\n                            }\n                        }\n                    }\n                }\n            }\n            for (const schemaResourceRecord of this.datapackage.ddfSchema.concepts) {\n                for (const resourceName of schemaResourceRecord.resources) {\n                    filesGroupByClause.concepts.add(this.flow.resourceToFile.get(resourceName));\n                }\n            }\n            filesGroupsByClause.set(clause, filesGroupByClause);\n        }\n        this.flow.filesGroupsByClause = filesGroupsByClause;\n        return this;\n    }\n    getOptimalFilesGroup() {\n        const clauseKeys = this.flow.filesGroupsByClause.keys();\n        let appropriateClauseKey;\n        let appropriateClauseSize;\n        for (const key of clauseKeys) {\n            const size = this.flow.filesGroupsByClause.get(key).datapoints.size +\n                this.flow.filesGroupsByClause.get(key).entities.size +\n                this.flow.filesGroupsByClause.get(key).concepts.size;\n            if (!appropriateClauseKey || size < appropriateClauseSize) {\n                appropriateClauseKey = key;\n                appropriateClauseSize = size;\n            }\n        }\n        return [\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).concepts),\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).entities),\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).datapoints)\n        ];\n    }\n    getProcessableClauses(clause) {\n        const result = [];\n        const clauseKeys = keys(clause);\n        for (const key of clauseKeys) {\n            if (!startsWith(key, '$') && isOneKeyBased(clause[key])) {\n                const conditionKey = head(keys(clause[key]));\n                if (conditionKey === KEY_IN) {\n                    result.push(clause);\n                }\n            }\n        }\n        return result;\n    }\n    singleAndField(clause) {\n        return isOneKeyBased(clause) && !!get(clause, KEY_AND);\n    }\n}\nexports.InClauseUnderConjunctionPlugin = InClauseUnderConjunctionPlugin;\n//# sourceMappingURL=in-clause-under-conjunction-plugin.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/query-optimization-plugins/in-clause-under-conjunction-plugin.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n\n\n// WEBPACK FOOTER //\n// ./~/path-browserify/index.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/process/browser.js","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/head.js","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/get.js","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGet.js","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_castPath.js","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isKey.js","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stringToPath.js","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_memoizeCapped.js","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/memoize.js","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_MapCache.js","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheClear.js","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Hash.js","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashClear.js","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nativeCreate.js","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashDelete.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashGet.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashHas.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashSet.js","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_ListCache.js","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheClear.js","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheDelete.js","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_assocIndexOf.js","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/eq.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheGet.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheHas.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheSet.js","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheDelete.js","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getMapData.js","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isKeyable.js","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheGet.js","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheHas.js","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheSet.js","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toString.js","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseToString.js","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_toKey.js","var baseFlatten = require('./_baseFlatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/flattenDeep.js","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFlatten.js","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayPush.js","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isFlattenable.js","var baseClamp = require('./_baseClamp'),\n    baseToString = require('./_baseToString'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/**\n * Checks if `string` starts with the given target string.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {string} [target] The string to search for.\n * @param {number} [position=0] The position to search from.\n * @returns {boolean} Returns `true` if `string` starts with `target`,\n *  else `false`.\n * @example\n *\n * _.startsWith('abc', 'a');\n * // => true\n *\n * _.startsWith('abc', 'b');\n * // => false\n *\n * _.startsWith('abc', 'b', 1);\n * // => true\n */\nfunction startsWith(string, target, position) {\n  string = toString(string);\n  position = position == null\n    ? 0\n    : baseClamp(toInteger(position), 0, string.length);\n\n  target = baseToString(target);\n  return string.slice(position, position + target.length) == target;\n}\n\nmodule.exports = startsWith;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/startsWith.js","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseClamp.js","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/compact.js","/*!\n\tPapa Parse\n\tv4.3.6\n\thttps://github.com/mholt/PapaParse\n\tLicense: MIT\n*/\n(function(root, factory)\n{\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t}\n\telse if (typeof module === 'object' && typeof exports !== 'undefined')\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n\telse\n\t{\n\t\t// Browser globals (root is window)\n\t\troot.Papa = factory();\n\t}\n}(this, function()\n{\n\t'use strict';\n\n\tvar global = (function () {\n\t\t// alternative method, similar to `Function('return this')()`\n\t\t// but without using `eval` (which is disabled when\n\t\t// using Content Security Policy).\n\n\t\tif (typeof self !== 'undefined') { return self; }\n\t\tif (typeof window !== 'undefined') { return window; }\n\t\tif (typeof global !== 'undefined') { return global; }\n\n\t\t// When running tests none of the above have been defined\n\t\treturn {};\n\t})();\n\n\n\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\tIS_PAPA_WORKER = IS_WORKER && /(\\?|&)papaworker(=|&|$)/.test(global.location.search),\n\t\tLOADED_SYNC = false, AUTO_SCRIPT_PATH;\n\tvar workers = {}, workerIdCounter = 0;\n\n\tvar Papa = {};\n\n\tPapa.parse = CsvToJson;\n\tPapa.unparse = JsonToCsv;\n\n\tPapa.RECORD_SEP = String.fromCharCode(30);\n\tPapa.UNIT_SEP = String.fromCharCode(31);\n\tPapa.BYTE_ORDER_MARK = '\\ufeff';\n\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\tPapa.SCRIPT_PATH = null;\t// Must be set by your code if you use workers and this lib is loaded asynchronously\n\n\t// Configurable chunk sizes for local and remote files, respectively\n\tPapa.LocalChunkSize = 1024 * 1024 * 10;\t// 10 MB\n\tPapa.RemoteChunkSize = 1024 * 1024 * 5;\t// 5 MB\n\tPapa.DefaultDelimiter = ',';\t\t\t// Used if not specified and detection fails\n\n\t// Exposed for testing and development only\n\tPapa.Parser = Parser;\n\tPapa.ParserHandle = ParserHandle;\n\tPapa.NetworkStreamer = NetworkStreamer;\n\tPapa.FileStreamer = FileStreamer;\n\tPapa.StringStreamer = StringStreamer;\n\tPapa.ReadableStreamStreamer = ReadableStreamStreamer;\n\n\tif (global.jQuery)\n\t{\n\t\tvar $ = global.jQuery;\n\t\t$.fn.parse = function(options)\n\t\t{\n\t\t\tvar config = options.config || {};\n\t\t\tvar queue = [];\n\n\t\t\tthis.each(function(idx)\n\t\t\t{\n\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT'\n\t\t\t\t\t\t\t\t&& $(this).attr('type').toLowerCase() === 'file'\n\t\t\t\t\t\t\t\t&& global.FileReader;\n\n\t\t\t\tif (!supported || !this.files || this.files.length === 0)\n\t\t\t\t\treturn true;\t// continue to next input element\n\n\t\t\t\tfor (var i = 0; i < this.files.length; i++)\n\t\t\t\t{\n\t\t\t\t\tqueue.push({\n\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparseNextFile();\t// begin parsing\n\t\t\treturn this;\t\t// maintains chainability\n\n\n\t\t\tfunction parseNextFile()\n\t\t\t{\n\t\t\t\tif (queue.length === 0)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(options.complete))\n\t\t\t\t\t\toptions.complete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar f = queue[0];\n\n\t\t\t\tif (isFunction(options.before))\n\t\t\t\t{\n\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\n\t\t\t\t\tif (typeof returned === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (returned.action === 'abort')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\treturn;\t// Aborts all queued files immediately\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (returned.action === 'skip')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof returned.config === 'object')\n\t\t\t\t\t\t\tf.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t}\n\t\t\t\t\telse if (returned === 'skip')\n\t\t\t\t\t{\n\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\tf.instanceConfig.complete = function(results)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(userCompleteFunc))\n\t\t\t\t\t\tuserCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\tfileComplete();\n\t\t\t\t};\n\n\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t}\n\n\t\t\tfunction error(name, file, elem, reason)\n\t\t\t{\n\t\t\t\tif (isFunction(options.error))\n\t\t\t\t\toptions.error({name: name}, file, elem, reason);\n\t\t\t}\n\n\t\t\tfunction fileComplete()\n\t\t\t{\n\t\t\t\tqueue.splice(0, 1);\n\t\t\t\tparseNextFile();\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (IS_PAPA_WORKER)\n\t{\n\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t}\n\telse if (Papa.WORKERS_SUPPORTED)\n\t{\n\t\tAUTO_SCRIPT_PATH = getScriptPath();\n\n\t\t// Check if the script was loaded synchronously\n\t\tif (!document.body)\n\t\t{\n\t\t\t// Body doesn't exist yet, must be synchronous\n\t\t\tLOADED_SYNC = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\tLOADED_SYNC = true;\n\t\t\t}, true);\n\t\t}\n\t}\n\n\n\n\n\tfunction CsvToJson(_input, _config)\n\t{\n\t\t_config = _config || {};\n\t\tvar dynamicTyping = _config.dynamicTyping || false;\n\t\tif (isFunction(dynamicTyping)) {\n\t\t\t_config.dynamicTypingFunction = dynamicTyping;\n\t\t\t// Will be filled on first row call\n\t\t\tdynamicTyping = {};\n\t\t}\n\t\t_config.dynamicTyping = dynamicTyping;\n\n\t\tif (_config.worker && Papa.WORKERS_SUPPORTED)\n\t\t{\n\t\t\tvar w = newWorker();\n\n\t\t\tw.userStep = _config.step;\n\t\t\tw.userChunk = _config.chunk;\n\t\t\tw.userComplete = _config.complete;\n\t\t\tw.userError = _config.error;\n\n\t\t\t_config.step = isFunction(_config.step);\n\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t_config.error = isFunction(_config.error);\n\t\t\tdelete _config.worker;\t// prevent infinite loop\n\n\t\t\tw.postMessage({\n\t\t\t\tinput: _input,\n\t\t\t\tconfig: _config,\n\t\t\t\tworkerId: w.id\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar streamer = null;\n\t\tif (typeof _input === 'string')\n\t\t{\n\t\t\tif (_config.download)\n\t\t\t\tstreamer = new NetworkStreamer(_config);\n\t\t\telse\n\t\t\t\tstreamer = new StringStreamer(_config);\n\t\t}\n\t\telse if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))\n\t\t{\n\t\t\tstreamer = new ReadableStreamStreamer(_config);\n\t\t}\n\t\telse if ((global.File && _input instanceof File) || _input instanceof Object)\t// ...Safari. (see issue #106)\n\t\t\tstreamer = new FileStreamer(_config);\n\n\t\treturn streamer.stream(_input);\n\t}\n\n\n\n\n\n\n\tfunction JsonToCsv(_input, _config)\n\t{\n\t\tvar _output = '';\n\t\tvar _fields = [];\n\n\t\t// Default configuration\n\n\t\t/** whether to surround every datum with quotes */\n\t\tvar _quotes = false;\n\n\t\t/** whether to write headers */\n\t\tvar _writeHeader = true;\n\n\t\t/** delimiting character */\n\t\tvar _delimiter = ',';\n\n\t\t/** newline character(s) */\n\t\tvar _newline = '\\r\\n';\n\n\t\t/** quote character */\n\t\tvar _quoteChar = '\"';\n\n\t\tunpackConfig();\n\n\t\tvar quoteCharRegex = new RegExp(_quoteChar, 'g');\n\n\t\tif (typeof _input === 'string')\n\t\t\t_input = JSON.parse(_input);\n\n\t\tif (_input instanceof Array)\n\t\t{\n\t\t\tif (!_input.length || _input[0] instanceof Array)\n\t\t\t\treturn serialize(null, _input);\n\t\t\telse if (typeof _input[0] === 'object')\n\t\t\t\treturn serialize(objectKeys(_input[0]), _input);\n\t\t}\n\t\telse if (typeof _input === 'object')\n\t\t{\n\t\t\tif (typeof _input.data === 'string')\n\t\t\t\t_input.data = JSON.parse(_input.data);\n\n\t\t\tif (_input.data instanceof Array)\n\t\t\t{\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.meta && _input.meta.fields;\n\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.data[0] instanceof Array\n\t\t\t\t\t\t\t\t\t? _input.fields\n\t\t\t\t\t\t\t\t\t: objectKeys(_input.data[0]);\n\n\t\t\t\tif (!(_input.data[0] instanceof Array) && typeof _input.data[0] !== 'object')\n\t\t\t\t\t_input.data = [_input.data];\t// handles input like [1,2,3] or ['asdf']\n\t\t\t}\n\n\t\t\treturn serialize(_input.fields || [], _input.data || []);\n\t\t}\n\n\t\t// Default (any valid paths should return before this)\n\t\tthrow 'exception: Unable to serialize unrecognized input';\n\n\n\t\tfunction unpackConfig()\n\t\t{\n\t\t\tif (typeof _config !== 'object')\n\t\t\t\treturn;\n\n\t\t\tif (typeof _config.delimiter === 'string'\n\t\t\t\t&& _config.delimiter.length === 1\n\t\t\t\t&& Papa.BAD_DELIMITERS.indexOf(_config.delimiter) === -1)\n\t\t\t{\n\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tif (typeof _config.quotes === 'boolean'\n\t\t\t\t|| _config.quotes instanceof Array)\n\t\t\t\t_quotes = _config.quotes;\n\n\t\t\tif (typeof _config.newline === 'string')\n\t\t\t\t_newline = _config.newline;\n\n\t\t\tif (typeof _config.quoteChar === 'string')\n\t\t\t\t_quoteChar = _config.quoteChar;\n\n\t\t\tif (typeof _config.header === 'boolean')\n\t\t\t\t_writeHeader = _config.header;\n\t\t}\n\n\n\t\t/** Turns an object's keys into an array */\n\t\tfunction objectKeys(obj)\n\t\t{\n\t\t\tif (typeof obj !== 'object')\n\t\t\t\treturn [];\n\t\t\tvar keys = [];\n\t\t\tfor (var key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn keys;\n\t\t}\n\n\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\tfunction serialize(fields, data)\n\t\t{\n\t\t\tvar csv = '';\n\n\t\t\tif (typeof fields === 'string')\n\t\t\t\tfields = JSON.parse(fields);\n\t\t\tif (typeof data === 'string')\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\tvar hasHeader = fields instanceof Array && fields.length > 0;\n\t\t\tvar dataKeyedByField = !(data[0] instanceof Array);\n\n\t\t\t// If there a header row, write it first\n\t\t\tif (hasHeader && _writeHeader)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < fields.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t}\n\t\t\t\tif (data.length > 0)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\t// Then write out the data\n\t\t\tfor (var row = 0; row < data.length; row++)\n\t\t\t{\n\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\n\t\t\t\tfor (var col = 0; col < maxCol; col++)\n\t\t\t\t{\n\t\t\t\t\tif (col > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t}\n\n\t\t\t\tif (row < data.length - 1)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\treturn csv;\n\t\t}\n\n\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\tfunction safe(str, col)\n\t\t{\n\t\t\tif (typeof str === 'undefined' || str === null)\n\t\t\t\treturn '';\n\n\t\t\tstr = str.toString().replace(quoteCharRegex, _quoteChar+_quoteChar);\n\n\t\t\tvar needsQuotes = (typeof _quotes === 'boolean' && _quotes)\n\t\t\t\t\t\t\t|| (_quotes instanceof Array && _quotes[col])\n\t\t\t\t\t\t\t|| hasAny(str, Papa.BAD_DELIMITERS)\n\t\t\t\t\t\t\t|| str.indexOf(_delimiter) > -1\n\t\t\t\t\t\t\t|| str.charAt(0) === ' '\n\t\t\t\t\t\t\t|| str.charAt(str.length - 1) === ' ';\n\n\t\t\treturn needsQuotes ? _quoteChar + str + _quoteChar : str;\n\t\t}\n\n\t\tfunction hasAny(str, substrings)\n\t\t{\n\t\t\tfor (var i = 0; i < substrings.length; i++)\n\t\t\t\tif (str.indexOf(substrings[i]) > -1)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\tfunction ChunkStreamer(config)\n\t{\n\t\tthis._handle = null;\n\t\tthis._paused = false;\n\t\tthis._finished = false;\n\t\tthis._input = null;\n\t\tthis._baseIndex = 0;\n\t\tthis._partialLine = '';\n\t\tthis._rowCount = 0;\n\t\tthis._start = 0;\n\t\tthis._nextChunk = null;\n\t\tthis.isFirstChunk = true;\n\t\tthis._completeResults = {\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\t\treplaceConfig.call(this, config);\n\n\t\tthis.parseChunk = function(chunk)\n\t\t{\n\t\t\t// First chunk pre-processing\n\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))\n\t\t\t{\n\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\tif (modifiedChunk !== undefined)\n\t\t\t\t\tchunk = modifiedChunk;\n\t\t\t}\n\t\t\tthis.isFirstChunk = false;\n\n\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\tthis._partialLine = '';\n\n\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\n\t\t\tif (this._handle.paused() || this._handle.aborted())\n\t\t\t\treturn;\n\n\t\t\tvar lastIndex = results.meta.cursor;\n\n\t\t\tif (!this._finished)\n\t\t\t{\n\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t}\n\n\t\t\tif (results && results.data)\n\t\t\t\tthis._rowCount += results.data.length;\n\n\t\t\tvar finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);\n\n\t\t\tif (IS_PAPA_WORKER)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tresults: results,\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (isFunction(this._config.chunk))\n\t\t\t{\n\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\tif (this._paused)\n\t\t\t\t\treturn;\n\t\t\t\tresults = undefined;\n\t\t\t\tthis._completeResults = undefined;\n\t\t\t}\n\n\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t}\n\n\t\t\tif (finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted))\n\t\t\t\tthis._config.complete(this._completeResults, this._input);\n\n\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused))\n\t\t\t\tthis._nextChunk();\n\n\t\t\treturn results;\n\t\t};\n\n\t\tthis._sendError = function(error)\n\t\t{\n\t\t\tif (isFunction(this._config.error))\n\t\t\t\tthis._config.error(error);\n\t\t\telse if (IS_PAPA_WORKER && this._config.error)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\terror: error,\n\t\t\t\t\tfinished: false\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction replaceConfig(config)\n\t\t{\n\t\t\t// Deep-copy the config so we can edit it\n\t\t\tvar configCopy = copy(config);\n\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize);\t// parseInt VERY important so we don't concatenate strings!\n\t\t\tif (!config.step && !config.chunk)\n\t\t\t\tconfigCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\tthis._handle.streamer = this;\n\t\t\tthis._config = configCopy;\t// persist the copy to the caller\n\t\t}\n\t}\n\n\n\tfunction NetworkStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.RemoteChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar xhr;\n\n\t\tif (IS_WORKER)\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t\tthis._chunkLoaded();\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t};\n\t\t}\n\n\t\tthis.stream = function(url)\n\t\t{\n\t\t\tthis._input = url;\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tif (this._finished)\n\t\t\t{\n\t\t\t\tthis._chunkLoaded();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\tif (this._config.withCredentials)\n\t\t\t{\n\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t}\n\n\t\t\tif (!IS_WORKER)\n\t\t\t{\n\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\n\t\t\txhr.open('GET', this._input, !IS_WORKER);\n\t\t\t// Headers can only be set when once the request state is OPENED\n\t\t\tif (this._config.downloadRequestHeaders)\n\t\t\t{\n\t\t\t\tvar headers = this._config.downloadRequestHeaders;\n\n\t\t\t\tfor (var headerName in headers)\n\t\t\t\t{\n\t\t\t\t\txhr.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = this._start + this._config.chunkSize - 1;\t// minus one because byte range is inclusive\n\t\t\t\txhr.setRequestHeader('Range', 'bytes='+this._start+'-'+end);\n\t\t\t\txhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis._chunkError(err.message);\n\t\t\t}\n\n\t\t\tif (IS_WORKER && xhr.status === 0)\n\t\t\t\tthis._chunkError();\n\t\t\telse\n\t\t\t\tthis._start += this._config.chunkSize;\n\t\t}\n\n\t\tthis._chunkLoaded = function()\n\t\t{\n\t\t\tif (xhr.readyState != 4)\n\t\t\t\treturn;\n\n\t\t\tif (xhr.status < 200 || xhr.status >= 400)\n\t\t\t{\n\t\t\t\tthis._chunkError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._finished = !this._config.chunkSize || this._start > getFileSize(xhr);\n\t\t\tthis.parseChunk(xhr.responseText);\n\t\t}\n\n\t\tthis._chunkError = function(errorMessage)\n\t\t{\n\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\tthis._sendError(errorText);\n\t\t}\n\n\t\tfunction getFileSize(xhr)\n\t\t{\n\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\tif (contentRange === null) { // no content range, then finish!\n\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\treturn parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));\n\t\t}\n\t}\n\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\n\n\tfunction FileStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.LocalChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar reader, slice;\n\n\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\tvar usingAsyncReader = typeof FileReader !== 'undefined';\t// Safari doesn't consider it a function - see issue #105\n\n\t\tthis.stream = function(file)\n\t\t{\n\t\t\tthis._input = file;\n\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\n\t\t\tif (usingAsyncReader)\n\t\t\t{\n\t\t\t\treader = new FileReader();\t\t// Preferred method of reading files, even in workers\n\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\t\t\telse\n\t\t\t\treader = new FileReaderSync();\t// Hack for running in a web worker in Firefox\n\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))\n\t\t\t\tthis._readChunk();\n\t\t}\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tvar input = this._input;\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t}\n\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\tif (!usingAsyncReader)\n\t\t\t\tthis._chunkLoaded({ target: { result: txt } });\t// mimic the async signature\n\t\t}\n\n\t\tthis._chunkLoaded = function(event)\n\t\t{\n\t\t\t// Very important to increment start each time before handling results\n\t\t\tthis._start += this._config.chunkSize;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\tthis.parseChunk(event.target.result);\n\t\t}\n\n\t\tthis._chunkError = function()\n\t\t{\n\t\t\tthis._sendError(reader.error);\n\t\t}\n\n\t}\n\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tFileStreamer.prototype.constructor = FileStreamer;\n\n\n\tfunction StringStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar string;\n\t\tvar remaining;\n\t\tthis.stream = function(s)\n\t\t{\n\t\t\tstring = s;\n\t\t\tremaining = s;\n\t\t\treturn this._nextChunk();\n\t\t}\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (this._finished) return;\n\t\t\tvar size = this._config.chunkSize;\n\t\t\tvar chunk = size ? remaining.substr(0, size) : remaining;\n\t\t\tremaining = size ? remaining.substr(size) : '';\n\t\t\tthis._finished = !remaining;\n\t\t\treturn this.parseChunk(chunk);\n\t\t}\n\t}\n\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\tStringStreamer.prototype.constructor = StringStreamer;\n\n\n\tfunction ReadableStreamStreamer(config)\n\t{\n\t\tconfig = config || {};\n\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar queue = [];\n\t\tvar parseOnData = true;\n\n\t\tthis.stream = function(stream)\n\t\t{\n\t\t\tthis._input = stream;\n\n\t\t\tthis._input.on('data', this._streamData);\n\t\t\tthis._input.on('end', this._streamEnd);\n\t\t\tthis._input.on('error', this._streamError);\n\t\t}\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (queue.length)\n\t\t\t{\n\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparseOnData = true;\n\t\t\t}\n\t\t}\n\n\t\tthis._streamData = bindFunction(function(chunk)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tqueue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));\n\n\t\t\t\tif (parseOnData)\n\t\t\t\t{\n\t\t\t\t\tparseOnData = false;\n\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tthis._streamError(error);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis._streamError = bindFunction(function(error)\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._sendError(error.message);\n\t\t}, this);\n\n\t\tthis._streamEnd = bindFunction(function()\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._finished = true;\n\t\t\tthis._streamData('');\n\t\t}, this);\n\n\t\tthis._streamCleanUp = bindFunction(function()\n\t\t{\n\t\t\tthis._input.removeListener('data', this._streamData);\n\t\t\tthis._input.removeListener('end', this._streamEnd);\n\t\t\tthis._input.removeListener('error', this._streamError);\n\t\t}, this);\n\t}\n\tReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;\n\n\n\t// Use one ParserHandle per entire CSV file or string\n\tfunction ParserHandle(_config)\n\t{\n\t\t// One goal is to minimize the use of regular expressions...\n\t\tvar FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\n\t\tvar self = this;\n\t\tvar _stepCounter = 0;\t// Number of times step was called (number of rows parsed)\n\t\tvar _input;\t\t\t\t// The input being parsed\n\t\tvar _parser;\t\t\t// The core parser being used\n\t\tvar _paused = false;\t// Whether we are paused or not\n\t\tvar _aborted = false;\t// Whether the parser has aborted or not\n\t\tvar _delimiterError;\t// Temporary state between delimiter detection and processing results\n\t\tvar _fields = [];\t\t// Fields are from the header row of the input, if there is one\n\t\tvar _results = {\t\t// The last results returned from the parser\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\n\t\tif (isFunction(_config.step))\n\t\t{\n\t\t\tvar userStep = _config.step;\n\t\t\t_config.step = function(results)\n\t\t\t{\n\t\t\t\t_results = results;\n\n\t\t\t\tif (needsHeaderRow())\n\t\t\t\t\tprocessResults();\n\t\t\t\telse\t// only call user's step function after header row\n\t\t\t\t{\n\t\t\t\t\tprocessResults();\n\n\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\tif (_results.data.length === 0)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview)\n\t\t\t\t\t\t_parser.abort();\n\t\t\t\t\telse\n\t\t\t\t\t\tuserStep(_results, self);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t\t * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t\t * when an input comes in multiple chunks, like from a file.\n\t\t */\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\tif (!_config.newline)\n\t\t\t\t_config.newline = guessLineEndings(input);\n\n\t\t\t_delimiterError = false;\n\t\t\tif (!_config.delimiter)\n\t\t\t{\n\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines);\n\t\t\t\tif (delimGuess.successful)\n\t\t\t\t\t_config.delimiter = delimGuess.bestDelimiter;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_delimiterError = true;\t// add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t}\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\t\t\telse if(isFunction(_config.delimiter))\n\t\t\t{\n\t\t\t\t_config.delimiter = _config.delimiter(input);\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tvar parserConfig = copy(_config);\n\t\t\tif (_config.preview && _config.header)\n\t\t\t\tparserConfig.preview++;\t// to compensate for header row\n\n\t\t\t_input = input;\n\t\t\t_parser = new Parser(parserConfig);\n\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\tprocessResults();\n\t\t\treturn _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });\n\t\t};\n\n\t\tthis.paused = function()\n\t\t{\n\t\t\treturn _paused;\n\t\t};\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\t_paused = true;\n\t\t\t_parser.abort();\n\t\t\t_input = _input.substr(_parser.getCharIndex());\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\t_paused = false;\n\t\t\tself.streamer.parseChunk(_input);\n\t\t};\n\n\t\tthis.aborted = function ()\n\t\t{\n\t\t\treturn _aborted;\n\t\t};\n\n\t\tthis.abort = function()\n\t\t{\n\t\t\t_aborted = true;\n\t\t\t_parser.abort();\n\t\t\t_results.meta.aborted = true;\n\t\t\tif (isFunction(_config.complete))\n\t\t\t\t_config.complete(_results);\n\t\t\t_input = '';\n\t\t};\n\n\t\tfunction processResults()\n\t\t{\n\t\t\tif (_results && _delimiterError)\n\t\t\t{\n\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\''+Papa.DefaultDelimiter+'\\'');\n\t\t\t\t_delimiterError = false;\n\t\t\t}\n\n\t\t\tif (_config.skipEmptyLines)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t\t\tif (_results.data[i].length === 1 && _results.data[i][0] === '')\n\t\t\t\t\t\t_results.data.splice(i--, 1);\n\t\t\t}\n\n\t\t\tif (needsHeaderRow())\n\t\t\t\tfillHeaderFields();\n\n\t\t\treturn applyHeaderAndDynamicTyping();\n\t\t}\n\n\t\tfunction needsHeaderRow()\n\t\t{\n\t\t\treturn _config.header && _fields.length === 0;\n\t\t}\n\n\t\tfunction fillHeaderFields()\n\t\t{\n\t\t\tif (!_results)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++)\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t\t_fields.push(_results.data[i][j]);\n\t\t\t_results.data.splice(0, 1);\n\t\t}\n\n\t\tfunction shouldApplyDynamicTyping(field) {\n\t\t\t// Cache function values to avoid calling it for each row\n\t\t\tif (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {\n\t\t\t\t_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);\n\t\t\t}\n\t\t\treturn (_config.dynamicTyping[field] || _config.dynamicTyping) === true\n\t\t}\n\n\t\tfunction parseDynamic(field, value)\n\t\t{\n\t\t\tif (shouldApplyDynamicTyping(field))\n\t\t\t{\n\t\t\t\tif (value === 'true' || value === 'TRUE')\n\t\t\t\t\treturn true;\n\t\t\t\telse if (value === 'false' || value === 'FALSE')\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\treturn tryParseFloat(value);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction applyHeaderAndDynamicTyping()\n\t\t{\n\t\t\tif (!_results || (!_config.header && !_config.dynamicTyping))\n\t\t\t\treturn _results;\n\n\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t{\n\t\t\t\tvar row = _config.header ? {} : [];\n\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar field = j;\n\t\t\t\t\tvar value = _results.data[i][j];\n\n\t\t\t\t\tif (_config.header)\n\t\t\t\t\t\tfield = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\n\t\t\t\t\tvalue = parseDynamic(field, value);\n\n\t\t\t\t\tif (field === '__parsed_extra')\n\t\t\t\t\t{\n\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\trow[field] = value;\n\t\t\t\t}\n\n\t\t\t\t_results.data[i] = row;\n\n\t\t\t\tif (_config.header)\n\t\t\t\t{\n\t\t\t\t\tif (j > _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t\telse if (j < _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_config.header && _results.meta)\n\t\t\t\t_results.meta.fields = _fields;\n\t\t\treturn _results;\n\t\t}\n\n\t\tfunction guessDelimiter(input, newline, skipEmptyLines)\n\t\t{\n\t\t\tvar delimChoices = [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow;\n\n\t\t\tfor (var i = 0; i < delimChoices.length; i++)\n\t\t\t{\n\t\t\t\tvar delim = delimChoices[i];\n\t\t\t\tvar delta = 0, avgFieldCount = 0, emptyLinesCount = 0;\n\t\t\t\tfieldCountPrevRow = undefined;\n\n\t\t\t\tvar preview = new Parser({\n\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\tnewline: newline,\n\t\t\t\t\tpreview: 10\n\t\t\t\t}).parse(input);\n\n\t\t\t\tfor (var j = 0; j < preview.data.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (skipEmptyLines && preview.data[j].length === 1 && preview.data[j][0].length === 0) {\n\t\t\t\t\t\temptyLinesCount++\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\tavgFieldCount += fieldCount;\n\n\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (fieldCount > 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (preview.data.length > 0)\n\t\t\t\t\tavgFieldCount /= (preview.data.length - emptyLinesCount);\n\n\t\t\t\tif ((typeof bestDelta === 'undefined' || delta < bestDelta)\n\t\t\t\t\t&& avgFieldCount > 1.99)\n\t\t\t\t{\n\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\tbestDelim = delim;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_config.delimiter = bestDelim;\n\n\t\t\treturn {\n\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\tbestDelimiter: bestDelim\n\t\t\t}\n\t\t}\n\n\t\tfunction guessLineEndings(input)\n\t\t{\n\t\t\tinput = input.substr(0, 1024*1024);\t// max length 1 MB\n\n\t\t\tvar r = input.split('\\r');\n\n\t\t\tvar n = input.split('\\n');\n\n\t\t\tvar nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);\n\n\t\t\tif (r.length === 1 || nAppearsFirst)\n\t\t\t\treturn '\\n';\n\n\t\t\tvar numWithN = 0;\n\t\t\tfor (var i = 0; i < r.length; i++)\n\t\t\t{\n\t\t\t\tif (r[i][0] === '\\n')\n\t\t\t\t\tnumWithN++;\n\t\t\t}\n\n\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t}\n\n\t\tfunction tryParseFloat(val)\n\t\t{\n\t\t\tvar isNumber = FLOAT.test(val);\n\t\t\treturn isNumber ? parseFloat(val) : val;\n\t\t}\n\n\t\tfunction addError(type, code, msg, row)\n\t\t{\n\t\t\t_results.errors.push({\n\t\t\t\ttype: type,\n\t\t\t\tcode: code,\n\t\t\t\tmessage: msg,\n\t\t\t\trow: row\n\t\t\t});\n\t\t}\n\t}\n\n\n\n\n\n\t/** The core parser implements speedy and correct CSV parsing */\n\tfunction Parser(config)\n\t{\n\t\t// Unpack the config object\n\t\tconfig = config || {};\n\t\tvar delim = config.delimiter;\n\t\tvar newline = config.newline;\n\t\tvar comments = config.comments;\n\t\tvar step = config.step;\n\t\tvar preview = config.preview;\n\t\tvar fastMode = config.fastMode;\n\t\tvar quoteChar = config.quoteChar || '\"';\n\n\t\t// Delimiter must be valid\n\t\tif (typeof delim !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)\n\t\t\tdelim = ',';\n\n\t\t// Comment character must be valid\n\t\tif (comments === delim)\n\t\t\tthrow 'Comment character same as delimiter';\n\t\telse if (comments === true)\n\t\t\tcomments = '#';\n\t\telse if (typeof comments !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)\n\t\t\tcomments = false;\n\n\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\tif (newline != '\\n' && newline != '\\r' && newline != '\\r\\n')\n\t\t\tnewline = '\\n';\n\n\t\t// We're gonna need these at the Parser scope\n\t\tvar cursor = 0;\n\t\tvar aborted = false;\n\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\tif (typeof input !== 'string')\n\t\t\t\tthrow 'Input must be a string';\n\n\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t// but having them in a more local scope seems to perform better\n\t\t\tvar inputLen = input.length,\n\t\t\t\tdelimLen = delim.length,\n\t\t\t\tnewlineLen = newline.length,\n\t\t\t\tcommentsLen = comments.length;\n\t\t\tvar stepIsFunction = isFunction(step);\n\n\t\t\t// Establish starting state\n\t\t\tcursor = 0;\n\t\t\tvar data = [], errors = [], row = [], lastCursor = 0;\n\n\t\t\tif (!input)\n\t\t\t\treturn returnable();\n\n\t\t\tif (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))\n\t\t\t{\n\t\t\t\tvar rows = input.split(newline);\n\t\t\t\tfor (var i = 0; i < rows.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar row = rows[i];\n\t\t\t\t\tcursor += row.length;\n\t\t\t\t\tif (i !== rows.length - 1)\n\t\t\t\t\t\tcursor += newline.length;\n\t\t\t\t\telse if (ignoreLastRow)\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tif (comments && row.substr(0, commentsLen) === comments)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\tif (preview && i >= preview)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\tvar quoteCharRegex = new RegExp(quoteChar+quoteChar, 'g');\n\n\t\t\t// Parser loop\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\t// Field has opening quote\n\t\t\t\tif (input[cursor] === quoteChar)\n\t\t\t\t{\n\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\tvar quoteSearch = cursor;\n\n\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\tcursor++;\n\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\tvar quoteSearch = input.indexOf(quoteChar, quoteSearch+1);\n\n\t\t\t\t\t\t//No other quotes are found - no other delimiters\n\t\t\t\t\t\tif (quoteSearch === -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\tif (quoteSearch === inputLen-1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\tif (input[quoteSearch+1] === quoteChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote followed by delimiter\n\t\t\t\t\t\tif (input[quoteSearch+1] === delim)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tcursor = quoteSearch + 1 + delimLen;\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote followed by newline\n\t\t\t\t\t\tif (input.substr(quoteSearch+1, newlineLen) === newline)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + newlineLen);\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\t// because we may have skipped the nextDelim in the quoted field\n\n\t\t\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t// Checks for valid closing quotes are complete (escaped quotes or quote followed by EOF/delimiter/newline) -- assume these quotes are part of an invalid text string\n\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\tcode: 'InvalidQuotes',\n\t\t\t\t\t\t\tmessage: 'Trailing quote on quoted field is malformed',\n\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment found at start of new line\n\t\t\t\tif (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments)\n\t\t\t\t{\n\t\t\t\t\tif (nextNewline === -1)\t// Comment ends at EOF\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// End of row\n\t\t\t\tif (nextNewline !== -1)\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\n\t\t\treturn finish();\n\n\n\t\t\tfunction pushRow(row)\n\t\t\t{\n\t\t\t\tdata.push(row);\n\t\t\t\tlastCursor = cursor;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the remaining input from cursor to the end into\n\t\t\t * row, saves the row, calls step, and returns the results.\n\t\t\t */\n\t\t\tfunction finish(value)\n\t\t\t{\n\t\t\t\tif (ignoreLastRow)\n\t\t\t\t\treturn returnable();\n\t\t\t\tif (typeof value === 'undefined')\n\t\t\t\t\tvalue = input.substr(cursor);\n\t\t\t\trow.push(value);\n\t\t\t\tcursor = inputLen;\t// important in case parsing is paused\n\t\t\t\tpushRow(row);\n\t\t\t\tif (stepIsFunction)\n\t\t\t\t\tdoStep();\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the current row to the results. It sets the cursor\n\t\t\t * to newCursor and finds the nextNewline. The caller should\n\t\t\t * take care to execute user's step function and check for\n\t\t\t * preview and end parsing if necessary.\n\t\t\t */\n\t\t\tfunction saveRow(newCursor)\n\t\t\t{\n\t\t\t\tcursor = newCursor;\n\t\t\t\tpushRow(row);\n\t\t\t\trow = [];\n\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t}\n\n\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\tfunction returnable(stopped)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\tfunction doStep()\n\t\t\t{\n\t\t\t\tstep(returnable());\n\t\t\t\tdata = [], errors = [];\n\t\t\t}\n\t\t};\n\n\t\t/** Sets the abort flag */\n\t\tthis.abort = function()\n\t\t{\n\t\t\taborted = true;\n\t\t};\n\n\t\t/** Gets the cursor position */\n\t\tthis.getCharIndex = function()\n\t\t{\n\t\t\treturn cursor;\n\t\t};\n\t}\n\n\n\t// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code\n\t// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358\n\tfunction getScriptPath()\n\t{\n\t\tvar scripts = document.getElementsByTagName('script');\n\t\treturn scripts.length ? scripts[scripts.length - 1].src : '';\n\t}\n\n\tfunction newWorker()\n\t{\n\t\tif (!Papa.WORKERS_SUPPORTED)\n\t\t\treturn false;\n\t\tif (!LOADED_SYNC && Papa.SCRIPT_PATH === null)\n\t\t\tthrow new Error(\n\t\t\t\t'Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' +\n\t\t\t\t'You need to set Papa.SCRIPT_PATH manually.'\n\t\t\t);\n\t\tvar workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;\n\t\t// Append 'papaworker' to the search string to tell papaparse that this is our worker.\n\t\tworkerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';\n\t\tvar w = new global.Worker(workerUrl);\n\t\tw.onmessage = mainThreadReceivedMessage;\n\t\tw.id = workerIdCounter++;\n\t\tworkers[w.id] = w;\n\t\treturn w;\n\t}\n\n\t/** Callback when main thread receives a message */\n\tfunction mainThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\t\tvar worker = workers[msg.workerId];\n\t\tvar aborted = false;\n\n\t\tif (msg.error)\n\t\t\tworker.userError(msg.error, msg.file);\n\t\telse if (msg.results && msg.results.data)\n\t\t{\n\t\t\tvar abort = function() {\n\t\t\t\taborted = true;\n\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t};\n\n\t\t\tvar handle = {\n\t\t\t\tabort: abort,\n\t\t\t\tpause: notImplemented,\n\t\t\t\tresume: notImplemented\n\t\t\t};\n\n\t\t\tif (isFunction(worker.userStep))\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\tdata: [msg.results.data[i]],\n\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t}, handle);\n\t\t\t\t\tif (aborted)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelete msg.results;\t// free memory ASAP\n\t\t\t}\n\t\t\telse if (isFunction(worker.userChunk))\n\t\t\t{\n\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\tdelete msg.results;\n\t\t\t}\n\t\t}\n\n\t\tif (msg.finished && !aborted)\n\t\t\tcompleteWorker(msg.workerId, msg.results);\n\t}\n\n\tfunction completeWorker(workerId, results) {\n\t\tvar worker = workers[workerId];\n\t\tif (isFunction(worker.userComplete))\n\t\t\tworker.userComplete(results);\n\t\tworker.terminate();\n\t\tdelete workers[workerId];\n\t}\n\n\tfunction notImplemented() {\n\t\tthrow 'Not implemented.';\n\t}\n\n\t/** Callback when worker thread receives a message */\n\tfunction workerThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\n\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg)\n\t\t\tPapa.WORKER_ID = msg.workerId;\n\n\t\tif (typeof msg.input === 'string')\n\t\t{\n\t\t\tglobal.postMessage({\n\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\tfinished: true\n\t\t\t});\n\t\t}\n\t\telse if ((global.File && msg.input instanceof File) || msg.input instanceof Object)\t// thank you, Safari (see issue #106)\n\t\t{\n\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\tif (results)\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: results,\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/** Makes a deep copy of an array or object (mostly) */\n\tfunction copy(obj)\n\t{\n\t\tif (typeof obj !== 'object')\n\t\t\treturn obj;\n\t\tvar cpy = obj instanceof Array ? [] : {};\n\t\tfor (var key in obj)\n\t\t\tcpy[key] = copy(obj[key]);\n\t\treturn cpy;\n\t}\n\n\tfunction bindFunction(f, self)\n\t{\n\t\treturn function() { f.apply(self, arguments); };\n\t}\n\n\tfunction isFunction(func)\n\t{\n\t\treturn typeof func === 'function';\n\t}\n\n\treturn Papa;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/papaparse/papaparse.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./helper.service\"), exports);\ntslib_1.__exportStar(require(\"./definition.service\"), exports);\ntslib_1.__exportStar(require(\"./structure.service\"), exports);\ntslib_1.__exportStar(require(\"./extension.service\"), exports);\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/index.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get = require(\"lodash/get\");\nconst includes = require(\"lodash/includes\");\nexports.SCHEMAS = new Set(['concepts.schema', 'entities.schema', 'datapoints.schema', '*.schema']);\nexports.DATAPOINTS = 'datapoints';\nexports.ENTITIES = 'entities';\nexports.CONCEPTS = 'concepts';\nexports.AVAILABLE_QUERY_OPERATORS = new Set([\n    '$eq', '$gt', '$gte', '$lt', '$lte', '$ne', '$in', '$nin',\n    '$or', '$and', '$not', '$nor', '$size', '$all', '$elemMatch'\n]);\nexports.AVAILABLE_FROM_CLAUSE_VALUES = new Set([\n    exports.CONCEPTS, exports.ENTITIES, exports.DATAPOINTS, ...exports.SCHEMAS\n]);\nexports.AVAILABLE_ORDER_BY_CLAUSE_VALUES = new Set([\n    'asc', 'desc', 1, -1\n]);\nexports.DEFAULT_DATASET_NAME = process.env.DEFAULT_DATASET_NAME || 'systema_globalis';\nexports.DEFAULT_DATASET_BRANCH = process.env.DEFAULT_DATASET_BRANCH || 'master';\nexports.DEFAULT_DATASET_COMMIT = 'HEAD';\nexports.DEFAULT_DATASET_DIR = process.env.DEFAULT_DATASET_DIR || './datasets';\nexports.MAX_AMOUNT_OF_MEASURES_IN_SELECT = 5;\nfunction isSchemaQuery(query) {\n    const fromClause = get(query, 'from');\n    return exports.SCHEMAS.has(fromClause);\n}\nexports.isSchemaQuery = isSchemaQuery;\nfunction isDatapointsQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.DATAPOINTS;\n}\nexports.isDatapointsQuery = isDatapointsQuery;\nfunction isEntitiesQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.ENTITIES;\n}\nexports.isEntitiesQuery = isEntitiesQuery;\nfunction isConceptsQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.CONCEPTS;\n}\nexports.isConceptsQuery = isConceptsQuery;\nfunction isEntityDomainOrSet(conceptType) {\n    return includes(['entity_domain', 'entity_set', 'time'], conceptType);\n}\nexports.isEntityDomainOrSet = isEntityDomainOrSet;\nfunction isMeasure(conceptType) {\n    return includes(['measure', 'string'], conceptType);\n}\nexports.isMeasure = isMeasure;\n//# sourceMappingURL=helper.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/helper.service.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isEmpty = require(\"lodash/isEmpty\");\nconst isNil = require(\"lodash/isNil\");\nconst filter = require(\"lodash/filter\");\nconst get = require(\"lodash/get\");\nconst compact = require(\"lodash/compact\");\nconst helper_service_1 = require(\"./helper.service\");\nfunction validateQueryDefinitions(query, options = {}) {\n    return new Promise((resolve, reject) => {\n        const validationResult = [\n            ...validateSelectDefinitions(query, options),\n        ];\n        const isQueryValid = isEmpty(validationResult);\n        if (!isQueryValid) {\n            return reject(`Too many query definition errors: \\n* ${validationResult.join('\\n* ')}`);\n        }\n        return resolve();\n    });\n}\nexports.validateQueryDefinitions = validateQueryDefinitions;\nfunction validateSelectDefinitions(query, options) {\n    const errorMessages = [];\n    const selectClause = get(query, 'select', null);\n    const fromClause = get(query, 'from', null);\n    const key = get(selectClause, 'key');\n    const value = get(selectClause, 'value');\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(...[]);\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n            errorMessages.push(...[]);\n            break;\n        case (helper_service_1.isConceptsQuery(query)):\n            errorMessages.push(...[]);\n            break;\n        case (helper_service_1.isDatapointsQuery(query)):\n            errorMessages.push(checkIfSelectKeyHasInvalidDefinitions(query, key, options), checkIfSelectValueHasInvalidDefinitions(query, value, options));\n            break;\n        default:\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction checkIfSelectKeyHasInvalidDefinitions(query, key, options) {\n    const fromClause = get(query, 'from', null);\n    const unavailableKeys = getUnavailableSelectKeys(key, options);\n    if (!isEmpty(unavailableKeys)) {\n        return `'select.key' clause for '${fromClause}' queries contains unavailable item(s): ${unavailableKeys.join(', ')} [repo: ${query.dataset}]`;\n    }\n}\nfunction checkIfSelectValueHasInvalidDefinitions(query, value, options) {\n    const fromClause = get(query, 'from', null);\n    const unavailableValues = getUnavailableSelectValues(value, options);\n    if (!isEmpty(unavailableValues)) {\n        return `'select.value' clause for '${fromClause}' queries contains unavailable item(s): ${unavailableValues.join(', ')} [repo: ${query.dataset}]`;\n    }\n}\nfunction getUnavailableSelectKeys(key, options) {\n    return filter(key, (keyItem) => {\n        const concept = options.conceptsLookup.get(keyItem);\n        if (isNil(concept) || !helper_service_1.isEntityDomainOrSet(concept.concept_type)) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction getUnavailableSelectValues(value, options) {\n    return filter(value, (valueItem) => {\n        const concept = options.conceptsLookup.get(valueItem);\n        if (isNil(concept) || !helper_service_1.isMeasure(concept.concept_type)) {\n            return true;\n        }\n        return false;\n    });\n}\n//# sourceMappingURL=definition.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/definition.service.js","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/filter.js","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayFilter.js","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFilter.js","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseEach.js","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseForOwn.js","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFor.js","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_createBaseFor.js","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_createBaseEach.js","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIteratee.js","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseMatches.js","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsMatch.js","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Stack.js","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackClear.js","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackDelete.js","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackGet.js","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackHas.js","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackSet.js","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsEqual.js","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsEqualDeep.js","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalArrays.js","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_SetCache.js","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setCacheAdd.js","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setCacheHas.js","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arraySome.js","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cacheHas.js","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalByTag.js","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Uint8Array.js","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapToArray.js","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setToArray.js","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalObjects.js","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getAllKeys.js","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGetAllKeys.js","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getSymbols.js","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/stubArray.js","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getMatchData.js","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isStrictComparable.js","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_matchesStrictComparable.js","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseMatchesProperty.js","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/hasIn.js","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseHasIn.js","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hasPath.js","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/identity.js","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/property.js","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseProperty.js","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_basePropertyDeep.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isEmpty = require(\"lodash/isEmpty\");\nconst isNil = require(\"lodash/isNil\");\nconst isObject = require(\"lodash/isObject\");\nconst isArray = require(\"lodash/isArray\");\nconst size = require(\"lodash/size\");\nconst values = require(\"lodash/values\");\nconst keys = require(\"lodash/keys\");\nconst first = require(\"lodash/first\");\nconst filter = require(\"lodash/filter\");\nconst startsWith = require(\"lodash/startsWith\");\nconst get = require(\"lodash/get\");\nconst has = require(\"lodash/has\");\nconst every = require(\"lodash/every\");\nconst compact = require(\"lodash/compact\");\nconst isString = require(\"lodash/isString\");\nconst helper_service_1 = require(\"./helper.service\");\nconst util_1 = require(\"util\");\nfunction validateQueryStructure(query, options = {}) {\n    return new Promise((resolve, reject) => {\n        const validationResult = [\n            ...validateDatasetStructure(query, options),\n            ...validateFromStructure(query, options),\n            ...validateSelectStructure(query, options),\n            ...validateWhereStructure(query, options),\n            ...validateLanguageStructure(query, options),\n            ...validateJoinStructure(query, options),\n            ...validateOrderByStructure(query, options)\n        ];\n        const isQueryValid = isEmpty(validationResult);\n        if (!isQueryValid) {\n            return reject(`Too many query structure errors: \\n* ${validationResult.join('\\n* ')}`);\n        }\n        return resolve();\n    });\n}\nexports.validateQueryStructure = validateQueryStructure;\nfunction validateDatasetStructure(query, options) {\n    const errorMessages = [];\n    const datasetClause = get(query, 'dataset');\n    const branchClause = get(query, 'branch');\n    const commitClause = get(query, 'commit');\n    if (!isNil(datasetClause) && !isString(datasetClause)) {\n        errorMessages.push(`'dataset' clause must be string only`);\n    }\n    if (!isNil(branchClause) && !isString(branchClause)) {\n        errorMessages.push(`'branch' clause must be string only`);\n    }\n    if (!isNil(commitClause) && !isString(commitClause)) {\n        errorMessages.push(`'commit' clause must be string only`);\n    }\n    return errorMessages;\n}\nfunction validateFromStructure(query, options) {\n    const errorMessages = [];\n    const clause = get(query, 'from', null);\n    if (isNil(clause)) {\n        errorMessages.push(`'from' clause couldn't be empty`);\n    }\n    if (!isString(clause)) {\n        errorMessages.push(`'from' clause must be string only`);\n    }\n    if (!helper_service_1.AVAILABLE_FROM_CLAUSE_VALUES.has(clause)) {\n        const listAvaliableValues = [...helper_service_1.AVAILABLE_FROM_CLAUSE_VALUES];\n        errorMessages.push(`'from' clause must be one of the list: ${listAvaliableValues.join(', ')}`);\n    }\n    return errorMessages;\n}\nfunction validateSelectStructure(query, options) {\n    const errorMessages = [];\n    const selectClause = get(query, 'select', null);\n    const fromClause = get(query, 'from', null);\n    const key = get(selectClause, 'key');\n    const value = get(selectClause, 'value');\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfSchemasSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value), checkIfSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isConceptsQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value), checkIfSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isDatapointsQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfSelectHasInvalidStructure(selectClause, key, value), checkIfDatapointsSelectKeyHasInvalidStructure(fromClause, key), checkIfDatapointsSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        default:\n            errorMessages.push(checkIfSelectIsEmpty(selectClause));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateWhereStructure(query, options) {\n    const errorMessages = [];\n    const joinClause = get(query, 'join', null);\n    const whereClause = get(query, 'where', null);\n    const whereOperators = getWhereOperators(whereClause);\n    errorMessages.push(checkIfWhereHasInvalidStructure(whereClause), checkIfWhereHasUnknownOperators(joinClause, whereOperators));\n    return compact(errorMessages);\n}\nfunction validateLanguageStructure(query, options) {\n    const errorMessages = [];\n    const languageClause = get(query, 'language', null);\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(checkIfSchemaLanguageIsPresent(query));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n        case (helper_service_1.isConceptsQuery(query)):\n        case (helper_service_1.isDatapointsQuery(query)):\n        default:\n            errorMessages.push(checkIfLanguageHasInvalidStructure(languageClause));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateJoinStructure(query, options) {\n    const errorMessages = [];\n    const joinClause = get(query, 'join', null);\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(checkIfSchemaJoinIsPresent(query));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n        case (helper_service_1.isConceptsQuery(query)):\n        case (helper_service_1.isDatapointsQuery(query)):\n        default:\n            errorMessages.push(checkIfJoinHasInvalidStructure(joinClause));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateOrderByStructure(query, options) {\n    const errorMessages = [];\n    const orderByClause = get(query, 'order_by', null);\n    errorMessages.push(checkIfOrderByHasInvalidStructure(orderByClause));\n    return compact(errorMessages);\n}\nfunction checkIfSelectIsEmpty(selectClause) {\n    if (isNil(selectClause)) {\n        return `'select' clause couldn't be empty`;\n    }\n}\nfunction checkIfSelectHasInvalidStructure(selectClause, key, value) {\n    if (!isObject(selectClause) || !isArray(key) || !isArray(value)) {\n        return `'select' clause must have next structure: { key: [...], value: [...] }`;\n    }\n}\nfunction checkIfJoinHasInvalidStructure(joinClause) {\n    if (!isNil(joinClause) && !isStrictObject(joinClause)) {\n        return `'join' clause must be object only`;\n    }\n}\nfunction checkIfLanguageHasInvalidStructure(languageClause) {\n    if (!isNil(languageClause) && !isString(languageClause)) {\n        return `'language' clause must be string only`;\n    }\n}\nfunction checkIfWhereHasInvalidStructure(whereClause) {\n    if (!isNil(whereClause) && !isStrictObject(whereClause)) {\n        return `'where' clause must be object only`;\n    }\n}\nfunction checkIfWhereHasUnknownOperators(joinClause, operators) {\n    const notAllowedOperators = filter(operators, (operator) => !isAllowedOperator(joinClause, operator)).map((operator) => operator.name);\n    const allowedOperatorsByDataset = [...helper_service_1.AVAILABLE_QUERY_OPERATORS.values(), ...keys(joinClause)];\n    if (!isEmpty(notAllowedOperators)) {\n        return `'where' clause has unknown operator(s) '${notAllowedOperators.join(', ')}', replace it with allowed operators: ${allowedOperatorsByDataset.join(', ')}`;\n    }\n}\nfunction checkIfOrderByHasInvalidStructure(orderByClause) {\n    if (!isNil(orderByClause) && !isString(orderByClause) && !isArrayOfStrings(orderByClause) && !isArrayOfSpecialItems(orderByClause, isOrderBySubclause)) {\n        return `'order_by' clause must be string or array of strings || objects only`;\n    }\n}\nfunction isStrictObject(clause) {\n    return isObject(clause) && !isArray(clause);\n}\nfunction isArrayOfStrings(clause) {\n    return isArray(clause) && every(clause, isString);\n}\nfunction isOrderBySubclause(subclause) {\n    return isString(subclause) || (isStrictObject(subclause) && size(subclause) === 1 && helper_service_1.AVAILABLE_ORDER_BY_CLAUSE_VALUES.has(first(values(subclause))));\n}\nfunction isArrayOfSpecialItems(clause, isSpecialItem) {\n    return isArray(clause) && every(clause, isSpecialItem);\n}\nfunction isAllowedOperator(joinClause, operator) {\n    return isMongoLikeOperator(operator) || isJoinOperator(joinClause, operator);\n}\nfunction isMongoLikeOperator(operator) {\n    return !operator.isLeaf && helper_service_1.AVAILABLE_QUERY_OPERATORS.has(operator.name);\n}\nfunction isJoinOperator(joinClause, operator) {\n    return operator.isLeaf && startsWith(operator.name, '$') && has(joinClause, operator.name);\n}\nfunction getWhereOperators(whereClause) {\n    const operators = [];\n    for (const field in whereClause) {\n        if (startsWith(field, '$')) {\n            operators.push({ name: field, isLeaf: false });\n        }\n        if (util_1.isPrimitive(whereClause[field])) {\n            if (startsWith(whereClause[field], '$')) {\n                operators.push({ name: whereClause[field], isLeaf: true });\n            }\n        }\n        else {\n            operators.push(...getWhereOperators(whereClause[field]));\n        }\n    }\n    return operators;\n}\nfunction checkIfDatapointsSelectKeyHasInvalidStructure(fromClause, key) {\n    if (size(key) < 2) {\n        return `'select.key' clause for '${fromClause}' queries must have at least 2 items`;\n    }\n}\nfunction checkIfDatapointsSelectValueHasInvalidStructure(fromClause, value) {\n    if (size(value) < 1) {\n        return `'select.value' clause for '${fromClause}' queries must have at least 1 item`;\n    }\n}\nfunction checkIfSchemasSelectKeyHasInvalidStructure(fromClause, key) {\n    if (!isArray(key) || size(key) !== 2) {\n        return `'select.key' clause for '${fromClause}' queries must have exactly 2 items: 'key', 'value'`;\n    }\n}\nfunction checkIfSelectValueHasInvalidStructure(fromClause, value) {\n    if (!isArray(value) && !isNil(value)) {\n        return `'select.value' clause for '${fromClause}' queries should be array of strings or empty`;\n    }\n}\nfunction checkIfSchemaJoinIsPresent(query) {\n    if (has(query, 'join')) {\n        return `'join' clause for '*.schema' queries shouldn't be present in query`;\n    }\n}\nfunction checkIfSchemaLanguageIsPresent(query) {\n    if (has(query, 'language')) {\n        return `'language' clause for '*.schema' queries shouldn't be present in query`;\n    }\n}\nfunction checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value) {\n    if (!isObject(selectClause) || !isArray(key)) {\n        return `'select' clause must have next structure: { key: [...], value: [...] }`;\n    }\n}\nfunction checkIfSelectKeyHasInvalidStructure(fromClause, key) {\n    if (!isArray(key) || size(key) !== 1) {\n        return `'select.key' clause for '${fromClause}' queries must have only 1 item`;\n    }\n}\n//# sourceMappingURL=structure.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/structure.service.js","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    stringSize = require('./_stringSize');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    return isString(collection) ? stringSize(collection) : collection.length;\n  }\n  var tag = getTag(collection);\n  if (tag == mapTag || tag == setTag) {\n    return collection.size;\n  }\n  return baseKeys(collection).length;\n}\n\nmodule.exports = size;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/size.js","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stringSize.js","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_asciiSize.js","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hasUnicode.js","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_unicodeSize.js","module.exports = require('./head');\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/first.js","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/has.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseHas.js","var arrayEvery = require('./_arrayEvery'),\n    baseEvery = require('./_baseEvery'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * **Note:** This method returns `true` for\n * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n * elements of empty collections.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = every;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/every.js","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayEvery.js","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseEvery.js","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isIterateeCall.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/util/util.js","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n// WEBPACK FOOTER //\n// ./~/util/support/isBufferBrowser.js","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/inherits/inherits_browser.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst isNil = require(\"lodash/isNil\");\nconst includes = require(\"lodash/includes\");\nconst get = require(\"lodash/get\");\nconst helper_service_1 = require(\"./helper.service\");\nfunction getDatasetPath(basePath, queryParam) {\n    const { dataset, branch, commit } = queryParam;\n    return `${basePath}${dataset}/${branch}-${commit}`;\n}\nexports.getDatasetPath = getDatasetPath;\nfunction getDatapackagePath(datasetPath) {\n    return datasetPath + '/datapackage.json';\n}\nfunction isDatasetPathAlreadyInBasePath(fileReader, basePath) {\n    return new Promise((resolve) => {\n        fileReader.readText(getDatapackagePath(basePath), (error) => resolve(!error));\n    });\n}\nfunction extendQueryParamWithDatasetProps(queryParam, options = {}) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const datasetsConfig = get(options, 'datasetsConfig', {\n            [helper_service_1.DEFAULT_DATASET_NAME]: { [helper_service_1.DEFAULT_DATASET_BRANCH]: [helper_service_1.DEFAULT_DATASET_COMMIT] },\n            default: {\n                dataset: helper_service_1.DEFAULT_DATASET_NAME,\n                branch: helper_service_1.DEFAULT_DATASET_BRANCH,\n                commit: helper_service_1.DEFAULT_DATASET_COMMIT\n            }\n        });\n        const { 'default': { dataset: DEFAULT_DATASET, branch: DEFAULT_BRANCH, commit: DEFAULT_COMMIT } } = datasetsConfig;\n        const { dataset: originDataset, branch: originBranch, commit: originCommit } = queryParam;\n        const { dataset = DEFAULT_DATASET, branch = DEFAULT_BRANCH, commit = DEFAULT_COMMIT } = queryParam;\n        const basePath = get(options, 'basePath', helper_service_1.DEFAULT_DATASET_DIR);\n        const fileReader = get(options, 'fileReader');\n        const datasetName = dataset;\n        if (isNil(datasetsConfig[dataset])) {\n            throw new Error(`No ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        if (isNil(datasetsConfig[dataset][branch])) {\n            throw new Error(`No ${isNil(originBranch) ? 'default ' : ''}branch '${branch}' in ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        if (!includes(datasetsConfig[dataset][branch], commit)) {\n            throw new Error(`No ${isNil(originCommit) ? 'default ' : ''}commit '${commit}' in ${isNil(originBranch) ? 'default ' : ''}branch '${branch}' in ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        let datasetPath;\n        let datapackagePath;\n        try {\n            if (yield isDatasetPathAlreadyInBasePath(fileReader, basePath)) {\n                datasetPath = basePath;\n                datapackagePath = getDatapackagePath(basePath);\n            }\n            else {\n                datasetPath = getDatasetPath(basePath, { dataset, branch, commit });\n                datapackagePath = getDatapackagePath(datasetPath);\n            }\n        }\n        catch (error) {\n            throw error;\n        }\n        Object.assign(queryParam, { dataset, branch, commit });\n        Object.assign(options, { datasetPath, datapackagePath, datasetName });\n        return queryParam;\n    });\n}\nexports.extendQueryParamWithDatasetProps = extendQueryParamWithDatasetProps;\n//# sourceMappingURL=extension.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/extension.service.js"],"sourceRoot":""}