{"version":3,"sources":["webpack:///webpack/bootstrap df5c67758239587ed03a","webpack:///./lib/index-web.js","webpack:///./lib/file-readers/frontend-file-reader.js","webpack:///./~/fetch-polyfill/fetch.js","webpack:///./lib/ddfcsv-error.js","webpack:///./lib/ddfcsv-reader.js","webpack:///./~/bluebird/js/release/bluebird.js","webpack:///./~/bluebird/js/release/promise.js","webpack:///./~/process/browser.js","webpack:///./~/bluebird/js/release/util.js","webpack:///./~/bluebird/js/release/es5.js","webpack:///./~/bluebird/js/release/async.js","webpack:///./~/bluebird/js/release/schedule.js","webpack:///./~/timers-browserify/main.js","webpack:///./~/setimmediate/setImmediate.js","webpack:///./~/bluebird/js/release/queue.js","webpack:///./~/bluebird/js/release/errors.js","webpack:///./~/bluebird/js/release/thenables.js","webpack:///./~/bluebird/js/release/promise_array.js","webpack:///./~/bluebird/js/release/context.js","webpack:///./~/bluebird/js/release/debuggability.js","webpack:///./~/bluebird/js/release/finally.js","webpack:///./~/bluebird/js/release/catch_filter.js","webpack:///./~/bluebird/js/release/nodeback.js","webpack:///./~/bluebird/js/release/method.js","webpack:///./~/bluebird/js/release/bind.js","webpack:///./~/bluebird/js/release/cancel.js","webpack:///./~/bluebird/js/release/direct_resolve.js","webpack:///./~/bluebird/js/release/synchronous_inspection.js","webpack:///./~/bluebird/js/release/join.js","webpack:///./~/bluebird/js/release/map.js","webpack:///./~/bluebird/js/release/call_get.js","webpack:///./~/bluebird/js/release/using.js","webpack:///./~/bluebird/js/release/timers.js","webpack:///./~/bluebird/js/release/generators.js","webpack:///./~/bluebird/js/release/nodeify.js","webpack:///./~/bluebird/js/release/promisify.js","webpack:///./~/bluebird/js/release/props.js","webpack:///./~/bluebird/js/release/race.js","webpack:///./~/bluebird/js/release/reduce.js","webpack:///./~/bluebird/js/release/settle.js","webpack:///./~/bluebird/js/release/some.js","webpack:///./~/bluebird/js/release/filter.js","webpack:///./~/bluebird/js/release/each.js","webpack:///./~/bluebird/js/release/any.js","webpack:///./lib/ddf-csv.js","webpack:///./~/papaparse/papaparse.js"],"names":["Object","defineProperty","exports","value","frontend_file_reader_1","require","frontend_file_reader_2","FrontendFileReader","ddfcsv_error_1","DdfCsvError","ddfcsv_reader_1","getDDFCsvReaderObject","prepareDDFCsvReaderObject","recordTransformer","filePath","onFileRead","fetch","then","response","text","catch","err","self","normalizeName","name","toString","test","TypeError","toLowerCase","normalizeValue","Headers","headers","map","forEach","values","append","getOwnPropertyNames","prototype","list","push","get","getAll","has","hasOwnProperty","set","callback","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","support","Blob","e","formData","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","Error","rejected","arrayBuffer","decode","json","JSON","parse","methods","normalizeMethod","method","upcased","toUpperCase","indexOf","Request","url","options","credentials","mode","referrer","form","trim","split","bytes","shift","replace","join","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","key","noXhrPatch","window","ActiveXObject","XMLHttpRequest","dispatchEvent","getXhr","usingActiveXhr","call","Response","bodyInit","type","status","ok","statusText","input","init","request","withCredentials","responseURL","getResponseHeader","readyState","responseText","onreadystatechange","open","responseType","setRequestHeader","send","polyfill","FILE_READING_ERROR","JSON_PARSING_ERROR","CSV_PARSING_ERROR","DDF_ERROR","message","details","file","ddf_csv_1","defaultFileReader","externalFileReader","logger","readerInfo","_basepath","path","_lastModified","fileReader","resultTransformer","ddfCsvReader","getAsset","asset","isJsonAsset","slice","length","readText","data","jsonErr","read","queryPar","parsers","prettifyData","keys","record","query","log","stringify","old","noConflict","bluebird","module","makeSelfResolutionError","reflectHandler","PromiseInspection","_target","apiRejection","msg","Proxyable","UNDEFINED_BINDING","util","getDomain","isNode","ret","process","domain","undefined","notEnumerableProp","es5","Async","async","errors","RangeError","CancellationError","TimeoutError","OperationalError","RejectionError","AggregateError","INTERNAL","APPLY","NEXT_FILTER","tryConvertToPromise","PromiseArray","Context","createContext","create","debug","CapturedTrace","PassThroughHandlerContext","catchFilter","nodebackForPromise","errorObj","tryCatch","check","executor","constructor","classString","_bitField","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","_promiseCreated","_fireEvent","caught","fn","len","arguments","catchInstances","Array","j","i","item","isObject","reflect","_then","didFulfill","didReject","warnings","_warn","done","promise","_setIsFinal","spread","all","toJSON","isFulfilled","isRejected","fulfillmentValue","rejectionReason","reason","originatesFromRejection","getNewLibraryCopy","is","val","fromNode","fromCallback","_captureStackTrace","multiArgs","_rejectCallback","_isFateSealed","_setAsyncGuaranteed","promises","cast","obj","_setFulfilled","fulfilled","setScheduler","_","receiver","internalData","haveInternalData","target","bitField","_propagateFrom","_boundValue","_boundTo","handler","settler","_settlePromiseCtx","_unsetRejectionIsUnhandled","_settlePromiseLateCancellationObserver","_attachExtraTrace","invoke","domainBind","_addCallbacks","_length","_isFollowing","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_setCancelled","_setWillBeCancelled","hasCustomScheduler","_receiverAt","index","_isBound","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","_proxy","proxyable","arg","_resolveCallback","shouldBind","maybePromise","_fulfill","_reject","_setFollowee","_value","_reason","synchronous","ignoreNonErrorWarnings","trace","ensureErrorObject","hasStack","_pushContext","r","_execute","_popContext","_settlePromiseFromHandler","x","apply","promiseCreated","checkForgottenReturns","_followee","_settlePromise","isPromise","asyncGuaranteed","_invokeInternalOnCancel","isFinallyHandler","cancelPromise","_promiseCancelled","_cancel","cancel","_isResolved","_promiseFulfilled","_promiseRejected","ctx","_settlePromise0","_clearCallbackDataAtIndex","_settlePromises","settlePromises","fatalError","_ensurePossibleRejectionHandled","_fulfillPromises","_rejectPromises","_clearCancellationData","_settledValue","deferResolve","v","deferReject","defer","pending","deprecated","version","toFastProperties","fillTypes","p","a","b","c","setBounds","firstLineError","lastLineError","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","args","Item","array","title","browser","env","argv","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","canEvaluate","navigator","tryCatchTarget","globalObject","global","tryCatcher","inherits","Child","Parent","hasProp","T","constructor$","propertyName","charAt","isPrimitive","maybeWrapAsError","maybeError","safeToString","withAppended","appendee","getDataPropertyOrDefault","defaultValue","isES5","desc","getOwnPropertyDescriptor","descriptor","configurable","enumerable","writable","thrower","inheritedDataKeys","excludedPrototypes","Function","isExcludedProto","getKeys","visitedKeys","getPrototypeOf","enumeration","thisAssignmentPattern","isClass","names","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","FakeConstructor","l","eval","rident","isIdentifier","str","filledRange","count","prefix","suffix","isError","markAsOriginatingFromRejection","ignore","canAttachTrace","propertyIsWritable","copyDescriptors","from","to","filter","getDescriptor","asArray","isArray","Symbol","iterator","ArrayFrom","it","itResult","next","hasEnvVariables","getNativePromise","cb","bind","hasDevTools","chrome","loadTimes","isRecentNode","node","Number","freeze","prop","proto","ObjectKeys","o","ObjectGetDescriptor","ObjectDefineProperty","ObjectFreeze","ObjectGetPrototypeOf","ArrayIsArray","schedule","Queue","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","prev","enableTrampoline","disableTrampolineIfNecessary","haveItemsQueued","stderr","write","stack","exit","throwLater","AsyncInvokeLater","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","invokeLater","_drainQueue","_reset","noAsyncScheduler","NativePromise","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","nativePromise","standalone","cordova","div","document","createElement","opts","attributes","toggleScheduled","div2","o2","classList","toggle","observe","scheduleToggle","disconnect","Timeout","setInterval","clearInterval","close","id","clearFn","_id","_clearFn","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","onTimeout","_onTimeout","clearImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","registerImmediate","task","handle","runIfPresent","installNextTickImplementation","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","Math","random","onGlobalMessage","event","source","addEventListener","attachEvent","installMessageChannelImplementation","channel","MessageChannel","port1","port2","installReadyStateChangeImplementation","html","documentElement","script","removeChild","appendChild","installSetTimeoutImplementation","attachTo","arrayMove","src","srcIndex","dst","dstIndex","capacity","_capacity","_front","_willBeOverCapacity","size","_checkCapacity","wrapMask","front","_resizeTo","oldCapacity","moveItemsCount","Objectfreeze","subError","nameProperty","defaultMessage","SubError","captureStackTrace","_TypeError","_RangeError","Warning","level","indent","lines","cause","errorTypes","context","getThen","isAnyBluebirdPromise","doThenable","doGetThen","toResolutionValue","Map","_promise","_setOnCancel","_values","_totalResolved","_init","resolveValueIfEmpty","_resolveEmptyArray","_resolve","_iterate","getActualLength","shouldCopyValues","isResolved","suppressUnhandledRejections","_isCancellable","totalResolved","_resultCancelled","longStackTraces","contextStack","_peekContext","_trace","peekContext","pop","lastIndex","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","_getDomain","_async","unhandledRejectionHandled","possiblyUnhandledRejection","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","printWarning","debugging","wForgottenReturn","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","shouldUseOwnTrace","warn","onPossiblyUnhandledRejection","onUnhandledRejectionHandled","disableLongStackTraces","config","longStackTracesIsSupported","Promise_captureStackTrace","Promise_attachExtraTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","hasLongStackTraces","fireDomEvent","CustomEvent","domEvent","detail","cancelable","Event","createEvent","initCustomEvent","fireGlobalEvent","methodName","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","child","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","warningsOption","cancellation","cancellationClearCancellationData","cancellationPropagateFrom","_onCancel","cancellationOnCancel","cancellationSetOnCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","cancellationExecute","propagateFromFunction","monitoring","defaultFireEvent","onCancel","parent","flags","previousOnCancel","_onCancelField","_cancellationParent","branchesRemainingToCancel","_branchesRemainingToCancel","_setBoundTo","bindingPropagateFrom","boundValueFunction","ignoreSelf","_parent","attachExtraTrace","__stackCleaned__","parsed","parseStackAndMessage","returnValue","handlerLine","creatorLine","traceLines","cleanStack","line","lineMatches","match","firstUserLine","replacement","formatAndLogError","reconstructStack","stacks","removeDuplicateOrEmptyJumps","splice","removeCommonRoots","current","currentLastIndex","currentLastLine","commonRootMeetPoint","isTraceLine","isInternalFrame","shouldIgnore","stackFramesAsArray","isSoft","console","String","localHandler","localEventFired","formatNonError","ruselessToString","newStr","snip","maxChars","substr","parseLineInfoRegex","parseLineInfo","matches","fileName","parseInt","firstStackLines","lastStackLines","firstIndex","firstFileName","lastFileName","info","_promisesCreated","uncycle","nodes","stackToIndex","currentStack","cycleEdgeNode","currentChildLength","stackDetection","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","isTTY","color","called","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","_isCancelled","isPending","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","instances","boundTo","predicateLoop","matchesPredicate","isUntypedError","rErrorKey","wrapAsOperationalError","wrapped","$_len","max","$_i","_resolveFromSyncValue","attempt","calledBind","rejectThis","targetRejected","promiseRejectionQueued","bindingPromise","bindingResolved","thisArg","bindingRejected","_cancelBy","_cancelBranched","_branchHasCancelled","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancelPromises","_unsetOnCancel","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","returner","thenReturn","thenThrow","catchThrow","catchReturn","_settledValueField","__isCancelled","thenCallback","promiseSetter","generateHolderClass","total","props","assignment","cancellationCode","passedArguments","code","holderClasses","thenCallbacks","promiseSetters","last","HolderClass","holder","callbacks","asyncNeeded","MappingPromiseArray","limit","_filter","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","_init$","preservedValues","booleans","concurrency","isFinite","cr","callerCache","getterCache","getMethodCaller","getGetter","makeMethodCaller","ensureMethod","makeGetter","getCompiled","compiler","cache","caller","maybeCaller","namedGetter","indexedGetter","isIndex","getter","maybeGetter","NULL","castPreservingDisposable","thenable","_isDisposable","_getDisposer","_setDisposable","dispose","resources","inspection","tryDispose","Disposer","_data","_context","resource","doDispose","_unsetDisposable","isDisposer","d","FunctionDisposer","maybeUnwrapDisposer","ResourceList","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","HandleWrapper","afterValue","delay","ms","afterTimeout","successClear","failureClear","handleWrapper","timeoutTimeout","yieldHandlers","promiseFromYieldHandler","traceParent","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_cleanup","implementsReturn","coroutine","returnSentinel","_continue","_run","PromiseSpawn$","generator","spawn","addYieldHandler","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","THIS","defaultSuffix","defaultPromisified","__isPromisified__","noCopyProps","noCopyPropsPattern","RegExp","defaultFilter","propsFilter","isPromisified","hasPromisified","checkValid","suffixRegexp","keyWithoutAsyncSuffix","promisifiableMethods","passesDefaultFilter","escapeIdentRegex","makeNodePromisifiedEval","switchCaseArgumentOrder","likelyArgumentCount","min","argumentSequence","argumentCount","parameterDeclaration","parameterCount","originalName","newParameterCount","argumentOrder","shouldProxyThis","generateCallForArgumentCount","comma","generateArgumentSwitchCase","getFunctionCode","makeNodePromisifiedClosure","__","defaultThis","promisified","makeNodePromisified","promisifyAll","promisifier","promisifiedKey","promisify","Es6Map","mapToEntries","extractEntry","entriesToMap","entries","PropertiesPromiseArray","isMap","_isMap","keyOffset","castValue","raceLater","race","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","_gotAccum","accum","_eachComplete","sender","_resultCancelled$","gotAccum","completed","reduce","valueOrReason","gotValue","SettledPromiseArray","_promiseResolved","settle","CANCELLATION","SomePromiseArray","_howMany","_unwrap","_initialized","isArrayResolved","_canPossiblyFulfill","_getRangeError","setUnwrap","howMany","setHowMany","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","some","_SomePromiseArray","PromiseMap","PromiseReduce","PromiseAll","promiseAllThis","PromiseMapSeries","each","mapSeries","any","Papa","isValidNumeric","internalConcepts","concept","concept_type","operators","row","predicates","every","applyFilterRow","predicate","rowValue","filterValue","datapackagePath","getDatapackagePath","basePath","getBasePath","datapackagePromise","loadDataPackage","conceptsPromise","loadConcepts","keyValueLookup","resourcesLookup","conceptsLookup","datapackage","pathParam","endsWith","datapackagePathParam","dpPathSplit","parseErr","buildResourcesLookup","buildKeyValueLookup","setConceptsLookup","conceptQuery","select","queryData","buildConceptsLookup","reparseConcepts","concepts","entitySetMembershipConcepts","parsingFunctions","parseFloat","getResources","resourceUpdates","resourceConcepts","parsingConcepts","parseFn","clear","queryParam","isSchemaQuery","querySchema","fromClause","where","order_by","language","projection","Set","filterFields","getFilterFields","field","resourcesPromise","loadResources","joinsPromise","getJoinFilters","entitySetFilterPromise","getEntitySetFilter","resourceResponses","entitySetFilter","joinFilters","whereResolved","processWhere","mergeFilters","dataTables","processResourceResponse","queryResult","joinData","fillMissingValues","projectRow","orderData","orderBy","orderNormalized","orderPart","direction","n","sort","order","fieldValue","includes","subFilter","assign","filters","$and","getSchemaFromCollection","ddfSchema","collectionPar","primaryKey","collection","throwError","operator","filterKey","getJoinFilter","joinID","results","mergeObjects","$in","fields","subFields","filterConceptsByType","conceptTypes","conceptStrings","conceptString","getEntityConceptRenameMap","queryKey","resourceKey","resourceKeySet","entityConceptTypes","queryEntityConcepts","allEntityConcepts","lookupConcept","aliasConcept","mapA","mapB","createKeyString","singleValue","resultSet","resourcePK","schema","resourceProjection","renameMap","renameHeaderRow","loadResource","projectionSet","joinMode","canonicalKey","dataMap","dataPar","keyString","resultRow","joinRow","sourceRow","sourceRowStr","resultRowStr","errStr","currentLogger","filePromises","loadFile","languageValid","getLanguages","languageLoaded","translations","translationPath","filesData","fileResponses","resp","lang","skipEmptyLines","dynamicTyping","headerName","complete","datapackagePar","kvPair","resourceName","root","factory","define","IS_WORKER","IS_PAPA_WORKER","location","search","LOADED_SYNC","AUTO_SCRIPT_PATH","workers","workerIdCounter","CsvToJson","unparse","JsonToCsv","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","BAD_DELIMITERS","WORKERS_SUPPORTED","Worker","SCRIPT_PATH","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","$","idx","supported","attr","files","inputElem","instanceConfig","extend","parseNextFile","isFunction","f","before","returned","action","fileComplete","userCompleteFunc","elem","workerThreadReceivedMessage","getScriptPath","_input","_config","dynamicTypingFunction","worker","w","newWorker","userStep","step","userChunk","chunk","userComplete","userError","workerId","streamer","download","readable","File","stream","_output","_fields","_quotes","_writeHeader","_delimiter","_newline","_quoteChar","unpackConfig","quoteCharRegex","serialize","objectKeys","meta","delimiter","quotes","newline","quoteChar","csv","hasHeader","dataKeyedByField","safe","maxCol","col","colIdx","needsQuotes","hasAny","substrings","ChunkStreamer","_handle","_paused","_finished","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","replaceConfig","parseChunk","beforeFirstChunk","modifiedChunk","aggregate","paused","aborted","cursor","substring","finishedIncludingPreview","preview","WORKER_ID","finished","_sendError","configCopy","copy","chunkSize","_readChunk","_chunkLoaded","bindFunction","_chunkError","downloadRequestHeaders","end","getFileSize","errorMessage","errorText","contentRange","lastIndexOf","usingAsyncReader","webkitSlice","mozSlice","FileReaderSync","txt","encoding","string","remaining","s","parseOnData","_streamData","_streamEnd","_streamError","_streamCleanUp","FLOAT","_stepCounter","_parser","_aborted","_delimiterError","_results","needsHeaderRow","processResults","abort","baseIndex","ignoreLastRow","guessLineEndings","delimGuess","guessDelimiter","successful","bestDelimiter","parserConfig","pause","getCharIndex","resume","addError","fillHeaderFields","applyHeaderAndDynamicTyping","shouldApplyDynamicTyping","parseDynamic","tryParseFloat","delimChoices","bestDelim","bestDelta","fieldCountPrevRow","delim","delta","avgFieldCount","emptyLinesCount","fieldCount","abs","nAppearsFirst","numWithN","isNumber","comments","fastMode","inputLen","delimLen","newlineLen","commentsLen","stepIsFunction","lastCursor","returnable","rows","pushRow","doStep","nextDelim","nextNewline","quoteSearch","finish","saveRow","newCursor","stopped","linebreak","truncated","scripts","getElementsByTagName","workerUrl","mainThreadReceivedMessage","completeWorker","notImplemented","terminate","cpy","func"],"mappings":"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","file":"vizabi-ddfcsv-reader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap df5c67758239587ed03a","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst frontend_file_reader_1 = require(\"./file-readers/frontend-file-reader\");\nvar frontend_file_reader_2 = require(\"./file-readers/frontend-file-reader\");\nexports.FrontendFileReader = frontend_file_reader_2.FrontendFileReader;\nvar ddfcsv_error_1 = require(\"./ddfcsv-error\");\nexports.DdfCsvError = ddfcsv_error_1.DdfCsvError;\nconst ddfcsv_reader_1 = require(\"./ddfcsv-reader\");\nexports.getDDFCsvReaderObject = ddfcsv_reader_1.prepareDDFCsvReaderObject(new frontend_file_reader_1.FrontendFileReader());\n//# sourceMappingURL=index-web.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/index-web.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire('fetch-polyfill');\nclass FrontendFileReader {\n    setRecordTransformer(recordTransformer) {\n        this.recordTransformer = recordTransformer;\n    }\n    readText(filePath, onFileRead) {\n        fetch(filePath)\n            .then(response => response.text())\n            .then(text => {\n            onFileRead(null, text);\n        })\n            .catch(err => {\n            onFileRead(err || `${filePath} read error`);\n        });\n    }\n}\nexports.FrontendFileReader = FrontendFileReader;\n//# sourceMappingURL=frontend-file-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/file-readers/frontend-file-reader.js","(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = name.toString();\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = value.toString();\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    var self = this\n    if (headers instanceof Headers) {\n      headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          self.append(name, value)\n        })\n      })\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        self.append(name, headers[name])\n      })\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  // Instead of iterable for now.\n  Headers.prototype.forEach = function(callback) {\n    var self = this\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      callback(name, self.map[name])\n    })\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return fetch.Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new fetch.Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return fetch.Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return fetch.Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return fetch.Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : fetch.Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(function (text) {\n          return JSON.parse(text);\n      });\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(url, options) {\n    options = options || {}\n    this.url = url\n\n    this.credentials = options.credentials || 'omit'\n    this.headers = new Headers(options.headers)\n    this.method = normalizeMethod(options.method || 'GET')\n    this.mode = options.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && options.body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(options.body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  var noXhrPatch =\n    typeof window !== 'undefined' && !!window.ActiveXObject &&\n      !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);\n\n  function getXhr() {\n    // from backbone.js 1.1.2\n    // https://github.com/jashkenas/backbone/blob/1.1.2/backbone.js#L1181\n    if (noXhrPatch && !(/^(get|post|head|put|delete|options)$/i.test(this.method))) {\n      this.usingActiveXhr = true;\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    return new XMLHttpRequest();\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    // TODO: Request constructor should accept input, init\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new fetch.Promise(function(resolve, reject) {\n      var xhr = getXhr();\n      if (request.credentials === 'cors') {\n        xhr.withCredentials = true;\n      }\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      function onload() {\n        if (xhr.readyState !== 4) {\n          return\n        }\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n      xhr.onreadystatechange = onload;\n      if (!self.usingActiveXhr) {\n        xhr.onload = onload;\n        xhr.onerror = function() {\n          reject(new TypeError('Network request failed'))\n        }\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          xhr.setRequestHeader(name, value)\n        })\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  fetch.Promise = self.Promise; // you could change it to your favorite alternative\n  self.fetch.polyfill = true\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./~/fetch-polyfill/fetch.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FILE_READING_ERROR = 'File reading error';\nexports.JSON_PARSING_ERROR = 'JSON parsing error';\nexports.CSV_PARSING_ERROR = 'CSV parsing error';\nexports.DDF_ERROR = 'DDF error';\nclass DdfCsvError extends Error {\n    constructor(message, details, file) {\n        super();\n        this.details = details;\n        this.file = file;\n        this.name = 'DdfCsvError';\n        this.message = message;\n        this.details = details;\n        this.file = file;\n    }\n}\nexports.DdfCsvError = DdfCsvError;\n//# sourceMappingURL=ddfcsv-error.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddfcsv-error.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Promise = require(\"bluebird\");\nconst ddf_csv_1 = require(\"./ddf-csv\");\nfunction prepareDDFCsvReaderObject(defaultFileReader) {\n    return function (externalFileReader, logger) {\n        return {\n            init(readerInfo) {\n                this._basepath = readerInfo.path;\n                this._lastModified = readerInfo._lastModified;\n                this.fileReader = externalFileReader || defaultFileReader;\n                this.logger = logger;\n                this.resultTransformer = readerInfo.resultTransformer;\n                this.reader = ddf_csv_1.ddfCsvReader(`${this._basepath}/datapackage.json`, this.fileReader, this.logger);\n            },\n            getAsset(asset) {\n                const isJsonAsset = asset.slice(-'.json'.length) === '.json';\n                return new Promise((resolve, reject) => {\n                    this.fileReader.readText(`${this._basepath}/${asset}`, (err, data) => {\n                        if (err) {\n                            reject(err);\n                            return;\n                        }\n                        if (isJsonAsset) {\n                            try {\n                                resolve(JSON.parse(data));\n                            }\n                            catch (jsonErr) {\n                                reject(err);\n                            }\n                        }\n                        else {\n                            resolve(data);\n                        }\n                    });\n                });\n            },\n            read(queryPar, parsers) {\n                function prettifyData(data) {\n                    return data.map(record => {\n                        const keys = Object.keys(record);\n                        keys.forEach(key => {\n                            if (parsers[key]) {\n                                record[key] = parsers[key](record[key]);\n                            }\n                        });\n                        return record;\n                    });\n                }\n                return new Promise((resolve, reject) => {\n                    this.reader.query(queryPar).then(result => {\n                        result = parsers ? prettifyData(result) : result;\n                        if (this.resultTransformer) {\n                            result = this.resultTransformer(result);\n                        }\n                        if (this.logger && this.logger.log) {\n                            logger.log(JSON.stringify(queryPar), result.length);\n                            logger.log(result);\n                        }\n                        resolve(result);\n                    }).catch(err => {\n                        reject(err);\n                    });\n                });\n            }\n        };\n    };\n}\nexports.prepareDDFCsvReaderObject = prepareDDFCsvReaderObject;\n//# sourceMappingURL=ddfcsv-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddfcsv-reader.js","\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = require(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/bluebird.js","\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = require(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = require(\"./es5\");\nvar Async = require(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = require(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = require(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    require(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = require(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = require(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    require(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = require(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = require(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\nrequire(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\nrequire(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\nrequire(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\nrequire(\"./direct_resolve\")(Promise);\nrequire(\"./synchronous_inspection\")(Promise);\nrequire(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.0\";\nrequire('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\nrequire('./call_get.js')(Promise);\nrequire('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\nrequire('./timers.js')(Promise, INTERNAL, debug);\nrequire('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\nrequire('./nodeify.js')(Promise);\nrequire('./promisify.js')(Promise, INTERNAL);\nrequire('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\nrequire('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\nrequire('./settle.js')(Promise, PromiseArray, debug);\nrequire('./some.js')(Promise, PromiseArray, apiRejection);\nrequire('./filter.js')(Promise, INTERNAL);\nrequire('./each.js')(Promise, INTERNAL);\nrequire('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/promise.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/process/browser.js","\"use strict\";\nvar es5 = require(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\";\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/util.js","var isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/es5.js","\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = require(\"./schedule\");\nvar Queue = require(\"./queue\");\nvar util = require(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/async.js","\"use strict\";\nvar util = require(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/schedule.js","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n// WEBPACK FOOTER //\n// ./~/timers-browserify/main.js","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n// WEBPACK FOOTER //\n// ./~/setimmediate/setImmediate.js","\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/queue.js","\"use strict\";\nvar es5 = require(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = require(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/errors.js","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = require(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/thenables.js","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = require(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/promise_array.js","\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/context.js","\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = require(\"./errors\").Warning;\nvar util = require(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (false ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/debuggability.js","\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = require(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = require(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/finally.js","\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = require(\"./util\");\nvar getKeys = require(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/catch_filter.js","\"use strict\";\nvar util = require(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = require(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = require(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var $_len = arguments.length;var args = new Array(Math.max($_len - 1, 0)); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];};\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/nodeback.js","\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/method.js","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/bind.js","\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/cancel.js","\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/direct_resolve.js","\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/synchronous_inspection.js","\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = require(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!false) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!false) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var $_len = arguments.length;var args = new Array($_len); for(var $_i = 0; $_i < $_len; ++$_i) {args[$_i] = arguments[$_i];};\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/join.js","\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/map.js","\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = require(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!false) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var $_len = arguments.length;var args = new Array(Math.max($_len - 1, 0)); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];};\n    if (!false) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/call_get.js","\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = require(\"./util\");\n    var TypeError = require(\"./errors\").TypeError;\n    var inherits = require(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/using.js","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = require(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/timers.js","\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = require(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = require(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/generators.js","\"use strict\";\nmodule.exports = function(Promise) {\nvar util = require(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/nodeify.js","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = require(\"./util\");\nvar nodebackForPromise = require(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = require(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!false) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/promisify.js","\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util\");\nvar isObject = util.isObject;\nvar es5 = require(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/props.js","\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/race.js","\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/reduce.js","\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = require(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/settle.js","\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = require(\"./util\");\nvar RangeError = require(\"./errors\").RangeError;\nvar AggregateError = require(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/some.js","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/filter.js","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/each.js","\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/bluebird/js/release/any.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ddfcsv_error_1 = require(\"./ddfcsv-error\");\nconst Promise = require('bluebird');\nconst Papa = require('papaparse');\nconst isValidNumeric = val => typeof val !== 'number' && !val ? false : true;\nfunction ddfCsvReader(path, fileReader, logger) {\n    const internalConcepts = [\n        { concept: 'concept', concept_type: 'string', domain: null },\n        { concept: 'concept_type', concept_type: 'string', domain: null }\n    ];\n    const operators = new Map([\n        ['$and', (row, predicates) => predicates.every(p => applyFilterRow(row, p))],\n        ['$or', (row, predicates) => predicates.some(p => applyFilterRow(row, p))],\n        ['$not', (row, predicate) => !applyFilterRow(row, predicate)],\n        ['$nor', (row, predicates) => !predicates.some(p => applyFilterRow(row, p))],\n        ['$eq', (rowValue, filterValue) => rowValue == filterValue],\n        ['$ne', (rowValue, filterValue) => rowValue != filterValue],\n        ['$gt', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue > filterValue],\n        ['$gte', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue >= filterValue],\n        ['$lt', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue < filterValue],\n        ['$lte', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue <= filterValue],\n        ['$in', (rowValue, filterValue) => filterValue.has(rowValue)],\n        ['$nin', (rowValue, filterValue) => !filterValue.has(rowValue)],\n    ]);\n    const datapackagePath = getDatapackagePath(path);\n    const basePath = getBasePath(datapackagePath);\n    const datapackagePromise = loadDataPackage(datapackagePath);\n    const conceptsPromise = datapackagePromise.then(loadConcepts);\n    const keyValueLookup = new Map();\n    const resourcesLookup = new Map();\n    const conceptsLookup = new Map();\n    let datapackage;\n    function getDatapackagePath(pathParam) {\n        if (!pathParam.endsWith('datapackage.json')) {\n            if (!pathParam.endsWith('/')) {\n                pathParam = pathParam + '/';\n            }\n            pathParam = pathParam + 'datapackage.json';\n        }\n        return pathParam;\n    }\n    function getBasePath(datapackagePathParam) {\n        const dpPathSplit = datapackagePathParam.split('/');\n        dpPathSplit.pop();\n        return dpPathSplit.join('/') + '/';\n    }\n    function loadDataPackage(pathParam) {\n        return new Promise((resolve, reject) => {\n            fileReader.readText(pathParam, (err, data) => {\n                if (err) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, pathParam));\n                }\n                try {\n                    datapackage = JSON.parse(data);\n                }\n                catch (parseErr) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.JSON_PARSING_ERROR, parseErr, pathParam));\n                }\n                buildResourcesLookup(datapackage);\n                buildKeyValueLookup(datapackage);\n                resolve(datapackage);\n            });\n        });\n    }\n    function loadConcepts() {\n        setConceptsLookup(internalConcepts);\n        const conceptQuery = {\n            select: { key: ['concept'], value: ['concept_type', 'domain'] },\n            from: 'concepts'\n        };\n        return queryData(conceptQuery)\n            .then(buildConceptsLookup)\n            .then(reparseConcepts);\n    }\n    function buildConceptsLookup(concepts) {\n        const entitySetMembershipConcepts = concepts\n            .filter(concept => concept.concept_type === 'entity_set')\n            .map(concept => ({\n            concept: 'is--' + concept.concept,\n            concept_type: 'boolean',\n            domain: null\n        }));\n        concepts = concepts\n            .concat(entitySetMembershipConcepts)\n            .concat(internalConcepts);\n        setConceptsLookup(concepts);\n        return conceptsLookup;\n    }\n    function reparseConcepts() {\n        const parsingFunctions = new Map([\n            ['boolean', (str) => str === 'true' || str === 'TRUE'],\n            ['measure', (str) => parseFloat(str)]\n        ]);\n        const resources = getResources(['concept']);\n        const resourceUpdates = [...resources].map(resource => {\n            return resource.data.then(response => {\n                const resourceConcepts = Object.keys(response.data[0]);\n                const parsingConcepts = new Map();\n                resourceConcepts.forEach(concept => {\n                    const type = conceptsLookup.get(concept).concept_type;\n                    const fn = parsingFunctions.get(type);\n                    if (fn) {\n                        parsingConcepts.set(concept, fn);\n                    }\n                });\n                return response.data.forEach(row => {\n                    for (const [concept, parseFn] of parsingConcepts) {\n                        row[concept] = parseFn(row[concept]);\n                    }\n                });\n            });\n        });\n        return Promise.all(resourceUpdates);\n    }\n    function setConceptsLookup(concepts) {\n        conceptsLookup.clear();\n        concepts.forEach(row => conceptsLookup.set(row.concept, row));\n    }\n    function query(queryParam) {\n        if (isSchemaQuery(queryParam)) {\n            return datapackagePromise.then(() => querySchema(queryParam));\n        }\n        else {\n            return conceptsPromise.then(() => queryData(queryParam));\n        }\n    }\n    function isSchemaQuery(queryParam) {\n        const fromClause = queryParam.from || '';\n        return fromClause.split('.')[1] === 'schema';\n    }\n    function queryData(queryParam) {\n        const { select: { key = [], value = [] }, from = '', where = {}, join = {}, order_by = [], language } = queryParam;\n        const select = { key, value };\n        const projection = new Set(select.key.concat(select.value));\n        const filterFields = getFilterFields(where).filter(field => !projection.has(field));\n        const resourcesPromise = loadResources(select.key, [...select.value, ...filterFields], language);\n        const joinsPromise = getJoinFilters(join);\n        const entitySetFilterPromise = getEntitySetFilter(select.key);\n        return Promise.all([resourcesPromise, entitySetFilterPromise, joinsPromise])\n            .then(([resourceResponses, entitySetFilter, joinFilters]) => {\n            const whereResolved = processWhere(where, joinFilters);\n            const filter = mergeFilters(entitySetFilter, whereResolved);\n            const dataTables = resourceResponses\n                .map(response => processResourceResponse(response, select, filterFields));\n            const queryResult = joinData(select.key, 'overwrite', ...dataTables)\n                .filter(row => applyFilterRow(row, filter))\n                .map(row => fillMissingValues(row, projection))\n                .map(row => projectRow(row, projection));\n            orderData(queryResult, order_by);\n            return queryResult;\n        });\n    }\n    function orderData(data, orderBy = []) {\n        if (orderBy.length === 0) {\n            return;\n        }\n        const orderNormalized = orderBy.map(orderPart => {\n            if (typeof orderPart === 'string') {\n                return { concept: orderPart, direction: 1 };\n            }\n            else {\n                const concept = Object.keys(orderPart)[0];\n                const direction = (orderPart[concept] === 'asc' ? 1 : -1);\n                return { concept, direction };\n            }\n        });\n        const n = orderNormalized.length;\n        data.sort((a, b) => {\n            for (let i = 0; i < n; i++) {\n                const order = orderNormalized[i];\n                if (a[order.concept] < b[order.concept]) {\n                    return -1 * order.direction;\n                }\n                else if (a[order.concept] > b[order.concept]) {\n                    return 1 * order.direction;\n                }\n            }\n            return 0;\n        });\n    }\n    function processWhere(where, joinFilters) {\n        const result = {};\n        for (const field in where) {\n            const fieldValue = where[field];\n            if (['$and', '$or', '$nor'].includes(field)) {\n                result[field] = fieldValue.map(subFilter => processWhere(subFilter, joinFilters));\n            }\n            else if (field === '$in' || field === '$nin') {\n                result[field] = new Set(fieldValue);\n            }\n            else if (typeof joinFilters[fieldValue] !== 'undefined') {\n                Object.assign(result, joinFilters[fieldValue]);\n            }\n            else if (typeof fieldValue === 'object') {\n                result[field] = processWhere(fieldValue, joinFilters);\n            }\n            else {\n                result[field] = fieldValue;\n            }\n        }\n        return result;\n    }\n    function mergeFilters(...filters) {\n        return filters.reduce((a, b) => {\n            a.$and.push(b);\n            return a;\n        }, { $and: [] });\n    }\n    function querySchema(queryPar) {\n        const getSchemaFromCollection = collectionPar => {\n            return datapackage.ddfSchema[collectionPar].map(({ primaryKey, value }) => ({ key: primaryKey, value }));\n        };\n        const collection = queryPar.from.split('.')[0];\n        if (datapackage.ddfSchema[collection]) {\n            return getSchemaFromCollection(collection);\n        }\n        else if (collection === '*') {\n            return Object.keys(datapackage.ddfSchema)\n                .map(getSchemaFromCollection)\n                .reduce((a, b) => a.concat(b));\n        }\n        else {\n            throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, `No valid collection (${collection}) for schema query`));\n        }\n    }\n    function fillMissingValues(row, projection) {\n        for (const field of projection) {\n            if (typeof row[field] === 'undefined') {\n                row[field] = null;\n            }\n        }\n        return row;\n    }\n    function applyFilterRow(row, filter) {\n        return Object.keys(filter).every(filterKey => {\n            const operator = operators.get(filterKey);\n            if (operator) {\n                return operator(row, filter[filterKey]);\n            }\n            else if (typeof filter[filterKey] !== 'object') {\n                return operators.get('$eq')(row[filterKey], filter[filterKey]);\n            }\n            else {\n                return applyFilterRow(row[filterKey], filter[filterKey]);\n            }\n        });\n    }\n    function getJoinFilters(join) {\n        return Promise.all(Object.keys(join).map(joinID => getJoinFilter(joinID, join[joinID])))\n            .then(results => results.reduce(mergeObjects, {}));\n    }\n    function mergeObjects(a, b) {\n        return Object.assign(a, b);\n    }\n    function getJoinFilter(joinID, join) {\n        if (conceptsLookup.get(join.key).concept_type === 'time') {\n            return Promise.resolve({ [joinID]: join.where });\n        }\n        else {\n            return query({ select: { key: [join.key] }, where: join.where })\n                .then(result => ({\n                [joinID]: {\n                    [join.key]: {\n                        $in: new Set(result.map(row => row[join.key]))\n                    }\n                }\n            }));\n        }\n    }\n    function getFilterFields(filter) {\n        const fields = [];\n        for (const field in filter) {\n            if (['$and', '$or', '$not', '$nor'].includes(field)) {\n                filter[field].map(getFilterFields).forEach(subFields => fields.push(...subFields));\n            }\n            else {\n                fields.push(field);\n            }\n        }\n        return fields;\n    }\n    function filterConceptsByType(conceptTypes, conceptStrings = Array.from(conceptsLookup.keys())) {\n        const concepts = [];\n        for (const conceptString of conceptStrings) {\n            const concept = conceptsLookup.get(conceptString);\n            if (conceptTypes.includes(concept.concept_type)) {\n                concepts.push(concept);\n            }\n        }\n        return concepts;\n    }\n    function getEntityConceptRenameMap(queryKey, resourceKey) {\n        const resourceKeySet = new Set(resourceKey);\n        const entityConceptTypes = ['entity_set', 'entity_domain'];\n        const queryEntityConcepts = filterConceptsByType(entityConceptTypes, queryKey);\n        if (queryEntityConcepts.length === 0) {\n            return new Map();\n        }\n        const allEntityConcepts = filterConceptsByType(entityConceptTypes);\n        return queryEntityConcepts\n            .map(concept => allEntityConcepts\n            .filter(lookupConcept => {\n            if (concept.concept_type === 'entity_set') {\n                return resourceKeySet.has(lookupConcept.concept) &&\n                    lookupConcept.concept !== concept.concept &&\n                    (lookupConcept.domain === concept.domain ||\n                        lookupConcept.concept === concept.domain);\n            }\n            else {\n                return resourceKeySet.has(lookupConcept.concept) &&\n                    lookupConcept.concept !== concept.concept &&\n                    lookupConcept.domain === concept.concept;\n            }\n        })\n            .reduce((map, aliasConcept) => map.set(aliasConcept.concept, concept.concept), new Map())).reduce((mapA, mapB) => new Map([...mapA, ...mapB]), new Map());\n    }\n    function getEntitySetFilter(conceptStrings) {\n        const promises = filterConceptsByType(['entity_set'], conceptStrings)\n            .map(concept => query({ select: { key: [concept.domain], value: ['is--' + concept.concept] } })\n            .then(result => ({\n            [concept.concept]: {\n                $in: new Set(result\n                    .filter(row => row['is--' + concept.concept])\n                    .map(row => row[concept.domain]))\n            }\n        })));\n        return Promise.all(promises).then(results => {\n            return results.reduce((a, b) => Object.assign(a, b), {});\n        });\n    }\n    function getResources(key, value) {\n        if (!value || value.length === 0) {\n            return new Set([...keyValueLookup\n                    .get(createKeyString(key))\n                    .values()\n            ].reduce((a, b) => a.concat(b)));\n        }\n        if (Array.isArray(value)) {\n            return value\n                .map(singleValue => getResources(key, singleValue))\n                .reduce((resultSet, resources) => new Set([...resultSet, ...resources]), new Set());\n        }\n        return new Set(keyValueLookup\n            .get(createKeyString(key))\n            .get(value));\n    }\n    function processResourceResponse(response, select, filterFields) {\n        const resourcePK = response.resource.schema.primaryKey;\n        const resourceProjection = new Set([...resourcePK, ...select.value, ...filterFields]);\n        const renameMap = getEntityConceptRenameMap(select.key, resourcePK);\n        return response.data\n            .map(row => projectRow(row, resourceProjection))\n            .map(row => renameHeaderRow(row, renameMap));\n    }\n    function loadResources(key, value, language) {\n        const resources = getResources(key, value);\n        return Promise.all([...resources].map(resource => loadResource(resource, language)));\n    }\n    function projectRow(row, projectionSet) {\n        const result = {};\n        for (const concept in row) {\n            if (projectionSet.has(concept)) {\n                result[concept] = row[concept];\n            }\n        }\n        return result;\n    }\n    function renameHeaderRow(row, renameMap) {\n        const result = {};\n        for (const concept in row) {\n            result[renameMap.get(concept) || concept] = row[concept];\n        }\n        return result;\n    }\n    function joinData(key, joinMode, ...data) {\n        if (data.length === 1) {\n            return data[0];\n        }\n        const canonicalKey = key.slice(0).sort();\n        const dataMap = data.reduce((result, dataPar) => {\n            dataPar.forEach(row => {\n                const keyString = canonicalKey.map(concept => row[concept]).join(',');\n                if (result.has(keyString)) {\n                    const resultRow = result.get(keyString);\n                    joinRow(resultRow, row, joinMode);\n                }\n                else {\n                    result.set(keyString, row);\n                }\n            });\n            return result;\n        }, new Map());\n        return [...dataMap.values()];\n    }\n    function joinRow(resultRow, sourceRow, mode) {\n        switch (mode) {\n            case 'overwrite':\n                Object.assign(resultRow, sourceRow);\n                break;\n            case 'translation':\n                for (const concept in sourceRow) {\n                    if (sourceRow[concept] !== '') {\n                        resultRow[concept] = sourceRow[concept];\n                    }\n                }\n                break;\n            case 'overwriteWithError':\n                for (const concept in sourceRow) {\n                    if (resultRow[concept] !== undefined && resultRow[concept] !== sourceRow[concept]) {\n                        const sourceRowStr = JSON.stringify(sourceRow);\n                        const resultRowStr = JSON.stringify(resultRow);\n                        const errStr = `JOIN Error: two resources have different data for \"${concept}\": ${sourceRowStr},${resultRowStr}`;\n                        throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, errStr));\n                    }\n                    else {\n                        resultRow[concept] = sourceRow[concept];\n                    }\n                }\n                break;\n        }\n    }\n    function throwError(error) {\n        const currentLogger = logger || console;\n        currentLogger.error(error.message);\n        throw error;\n    }\n    function createKeyString(key, row = false) {\n        const canonicalKey = key.slice(0).sort();\n        if (!row) {\n            return canonicalKey.join(',');\n        }\n        else {\n            return canonicalKey.map(concept => row[concept]).join(',');\n        }\n    }\n    function loadResource(resource, language) {\n        const filePromises = [];\n        if (typeof resource.data === 'undefined') {\n            resource.data = loadFile(basePath + resource.path);\n        }\n        filePromises.push(resource.data);\n        const languageValid = typeof language !== 'undefined' && getLanguages().includes(language);\n        const languageLoaded = typeof resource.translations[language] !== 'undefined';\n        if (languageValid) {\n            if (!languageLoaded) {\n                const translationPath = `${basePath}lang/${language}/${resource.path}`;\n                resource.translations[language] = loadFile(translationPath);\n            }\n            filePromises.push(resource.translations[language]);\n        }\n        return Promise.all(filePromises).then(fileResponses => {\n            const filesData = fileResponses.map(resp => resp.data);\n            const primaryKey = resource.schema.primaryKey;\n            const data = joinData(primaryKey, 'translation', ...filesData);\n            return { data, resource };\n        });\n    }\n    function getLanguages() {\n        if (!datapackage.translations) {\n            return [];\n        }\n        return datapackage.translations.map(lang => lang.id);\n    }\n    function loadFile(filePath) {\n        return new Promise((resolve, reject) => {\n            fileReader.readText(filePath, (err, data) => {\n                if (err) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, filePath));\n                }\n                Papa.parse(data, {\n                    header: true,\n                    skipEmptyLines: true,\n                    dynamicTyping: (headerName) => {\n                        if (!conceptsLookup) {\n                            return true;\n                        }\n                        const concept = conceptsLookup.get(headerName) || {};\n                        return ['boolean', 'measure'].includes(concept.concept_type);\n                    },\n                    complete: result => resolve(result),\n                    error: error => reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.CSV_PARSING_ERROR, error, filePath))\n                });\n            });\n        });\n    }\n    function buildResourcesLookup(datapackagePar) {\n        if (resourcesLookup.size > 0) {\n            return resourcesLookup;\n        }\n        datapackagePar.resources.forEach(resource => {\n            if (!Array.isArray(resource.schema.primaryKey)) {\n                resource.schema.primaryKey = [resource.schema.primaryKey];\n            }\n            resource.translations = {};\n            resourcesLookup.set(resource.name, resource);\n        });\n        return resourcesLookup;\n    }\n    function buildKeyValueLookup(datapackagePar) {\n        if (keyValueLookup.size > 0) {\n            return keyValueLookup;\n        }\n        for (const collection in datapackagePar.ddfSchema) {\n            datapackagePar.ddfSchema[collection].map(kvPair => {\n                const key = createKeyString(kvPair.primaryKey);\n                const resources = kvPair.resources.map(resourceName => resourcesLookup.get(resourceName));\n                if (keyValueLookup.has(key)) {\n                    keyValueLookup.get(key).set(kvPair.value, resources);\n                }\n                else {\n                    keyValueLookup.set(key, new Map([[kvPair.value, resources]]));\n                }\n            });\n        }\n        return keyValueLookup;\n    }\n    return {\n        query\n    };\n}\nexports.ddfCsvReader = ddfCsvReader;\n//# sourceMappingURL=ddf-csv.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-csv.js","/*!\n\tPapa Parse\n\tv4.3.6\n\thttps://github.com/mholt/PapaParse\n\tLicense: MIT\n*/\n(function(root, factory)\n{\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t}\n\telse if (typeof module === 'object' && typeof exports !== 'undefined')\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n\telse\n\t{\n\t\t// Browser globals (root is window)\n\t\troot.Papa = factory();\n\t}\n}(this, function()\n{\n\t'use strict';\n\n\tvar global = (function () {\n\t\t// alternative method, similar to `Function('return this')()`\n\t\t// but without using `eval` (which is disabled when\n\t\t// using Content Security Policy).\n\n\t\tif (typeof self !== 'undefined') { return self; }\n\t\tif (typeof window !== 'undefined') { return window; }\n\t\tif (typeof global !== 'undefined') { return global; }\n\n\t\t// When running tests none of the above have been defined\n\t\treturn {};\n\t})();\n\n\n\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\tIS_PAPA_WORKER = IS_WORKER && /(\\?|&)papaworker(=|&|$)/.test(global.location.search),\n\t\tLOADED_SYNC = false, AUTO_SCRIPT_PATH;\n\tvar workers = {}, workerIdCounter = 0;\n\n\tvar Papa = {};\n\n\tPapa.parse = CsvToJson;\n\tPapa.unparse = JsonToCsv;\n\n\tPapa.RECORD_SEP = String.fromCharCode(30);\n\tPapa.UNIT_SEP = String.fromCharCode(31);\n\tPapa.BYTE_ORDER_MARK = '\\ufeff';\n\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\tPapa.SCRIPT_PATH = null;\t// Must be set by your code if you use workers and this lib is loaded asynchronously\n\n\t// Configurable chunk sizes for local and remote files, respectively\n\tPapa.LocalChunkSize = 1024 * 1024 * 10;\t// 10 MB\n\tPapa.RemoteChunkSize = 1024 * 1024 * 5;\t// 5 MB\n\tPapa.DefaultDelimiter = ',';\t\t\t// Used if not specified and detection fails\n\n\t// Exposed for testing and development only\n\tPapa.Parser = Parser;\n\tPapa.ParserHandle = ParserHandle;\n\tPapa.NetworkStreamer = NetworkStreamer;\n\tPapa.FileStreamer = FileStreamer;\n\tPapa.StringStreamer = StringStreamer;\n\tPapa.ReadableStreamStreamer = ReadableStreamStreamer;\n\n\tif (global.jQuery)\n\t{\n\t\tvar $ = global.jQuery;\n\t\t$.fn.parse = function(options)\n\t\t{\n\t\t\tvar config = options.config || {};\n\t\t\tvar queue = [];\n\n\t\t\tthis.each(function(idx)\n\t\t\t{\n\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT'\n\t\t\t\t\t\t\t\t&& $(this).attr('type').toLowerCase() === 'file'\n\t\t\t\t\t\t\t\t&& global.FileReader;\n\n\t\t\t\tif (!supported || !this.files || this.files.length === 0)\n\t\t\t\t\treturn true;\t// continue to next input element\n\n\t\t\t\tfor (var i = 0; i < this.files.length; i++)\n\t\t\t\t{\n\t\t\t\t\tqueue.push({\n\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparseNextFile();\t// begin parsing\n\t\t\treturn this;\t\t// maintains chainability\n\n\n\t\t\tfunction parseNextFile()\n\t\t\t{\n\t\t\t\tif (queue.length === 0)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(options.complete))\n\t\t\t\t\t\toptions.complete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar f = queue[0];\n\n\t\t\t\tif (isFunction(options.before))\n\t\t\t\t{\n\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\n\t\t\t\t\tif (typeof returned === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (returned.action === 'abort')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\treturn;\t// Aborts all queued files immediately\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (returned.action === 'skip')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof returned.config === 'object')\n\t\t\t\t\t\t\tf.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t}\n\t\t\t\t\telse if (returned === 'skip')\n\t\t\t\t\t{\n\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\tf.instanceConfig.complete = function(results)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(userCompleteFunc))\n\t\t\t\t\t\tuserCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\tfileComplete();\n\t\t\t\t};\n\n\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t}\n\n\t\t\tfunction error(name, file, elem, reason)\n\t\t\t{\n\t\t\t\tif (isFunction(options.error))\n\t\t\t\t\toptions.error({name: name}, file, elem, reason);\n\t\t\t}\n\n\t\t\tfunction fileComplete()\n\t\t\t{\n\t\t\t\tqueue.splice(0, 1);\n\t\t\t\tparseNextFile();\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (IS_PAPA_WORKER)\n\t{\n\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t}\n\telse if (Papa.WORKERS_SUPPORTED)\n\t{\n\t\tAUTO_SCRIPT_PATH = getScriptPath();\n\n\t\t// Check if the script was loaded synchronously\n\t\tif (!document.body)\n\t\t{\n\t\t\t// Body doesn't exist yet, must be synchronous\n\t\t\tLOADED_SYNC = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\tLOADED_SYNC = true;\n\t\t\t}, true);\n\t\t}\n\t}\n\n\n\n\n\tfunction CsvToJson(_input, _config)\n\t{\n\t\t_config = _config || {};\n\t\tvar dynamicTyping = _config.dynamicTyping || false;\n\t\tif (isFunction(dynamicTyping)) {\n\t\t\t_config.dynamicTypingFunction = dynamicTyping;\n\t\t\t// Will be filled on first row call\n\t\t\tdynamicTyping = {};\n\t\t}\n\t\t_config.dynamicTyping = dynamicTyping;\n\n\t\tif (_config.worker && Papa.WORKERS_SUPPORTED)\n\t\t{\n\t\t\tvar w = newWorker();\n\n\t\t\tw.userStep = _config.step;\n\t\t\tw.userChunk = _config.chunk;\n\t\t\tw.userComplete = _config.complete;\n\t\t\tw.userError = _config.error;\n\n\t\t\t_config.step = isFunction(_config.step);\n\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t_config.error = isFunction(_config.error);\n\t\t\tdelete _config.worker;\t// prevent infinite loop\n\n\t\t\tw.postMessage({\n\t\t\t\tinput: _input,\n\t\t\t\tconfig: _config,\n\t\t\t\tworkerId: w.id\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar streamer = null;\n\t\tif (typeof _input === 'string')\n\t\t{\n\t\t\tif (_config.download)\n\t\t\t\tstreamer = new NetworkStreamer(_config);\n\t\t\telse\n\t\t\t\tstreamer = new StringStreamer(_config);\n\t\t}\n\t\telse if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))\n\t\t{\n\t\t\tstreamer = new ReadableStreamStreamer(_config);\n\t\t}\n\t\telse if ((global.File && _input instanceof File) || _input instanceof Object)\t// ...Safari. (see issue #106)\n\t\t\tstreamer = new FileStreamer(_config);\n\n\t\treturn streamer.stream(_input);\n\t}\n\n\n\n\n\n\n\tfunction JsonToCsv(_input, _config)\n\t{\n\t\tvar _output = '';\n\t\tvar _fields = [];\n\n\t\t// Default configuration\n\n\t\t/** whether to surround every datum with quotes */\n\t\tvar _quotes = false;\n\n\t\t/** whether to write headers */\n\t\tvar _writeHeader = true;\n\n\t\t/** delimiting character */\n\t\tvar _delimiter = ',';\n\n\t\t/** newline character(s) */\n\t\tvar _newline = '\\r\\n';\n\n\t\t/** quote character */\n\t\tvar _quoteChar = '\"';\n\n\t\tunpackConfig();\n\n\t\tvar quoteCharRegex = new RegExp(_quoteChar, 'g');\n\n\t\tif (typeof _input === 'string')\n\t\t\t_input = JSON.parse(_input);\n\n\t\tif (_input instanceof Array)\n\t\t{\n\t\t\tif (!_input.length || _input[0] instanceof Array)\n\t\t\t\treturn serialize(null, _input);\n\t\t\telse if (typeof _input[0] === 'object')\n\t\t\t\treturn serialize(objectKeys(_input[0]), _input);\n\t\t}\n\t\telse if (typeof _input === 'object')\n\t\t{\n\t\t\tif (typeof _input.data === 'string')\n\t\t\t\t_input.data = JSON.parse(_input.data);\n\n\t\t\tif (_input.data instanceof Array)\n\t\t\t{\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.meta && _input.meta.fields;\n\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.data[0] instanceof Array\n\t\t\t\t\t\t\t\t\t? _input.fields\n\t\t\t\t\t\t\t\t\t: objectKeys(_input.data[0]);\n\n\t\t\t\tif (!(_input.data[0] instanceof Array) && typeof _input.data[0] !== 'object')\n\t\t\t\t\t_input.data = [_input.data];\t// handles input like [1,2,3] or ['asdf']\n\t\t\t}\n\n\t\t\treturn serialize(_input.fields || [], _input.data || []);\n\t\t}\n\n\t\t// Default (any valid paths should return before this)\n\t\tthrow 'exception: Unable to serialize unrecognized input';\n\n\n\t\tfunction unpackConfig()\n\t\t{\n\t\t\tif (typeof _config !== 'object')\n\t\t\t\treturn;\n\n\t\t\tif (typeof _config.delimiter === 'string'\n\t\t\t\t&& _config.delimiter.length === 1\n\t\t\t\t&& Papa.BAD_DELIMITERS.indexOf(_config.delimiter) === -1)\n\t\t\t{\n\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tif (typeof _config.quotes === 'boolean'\n\t\t\t\t|| _config.quotes instanceof Array)\n\t\t\t\t_quotes = _config.quotes;\n\n\t\t\tif (typeof _config.newline === 'string')\n\t\t\t\t_newline = _config.newline;\n\n\t\t\tif (typeof _config.quoteChar === 'string')\n\t\t\t\t_quoteChar = _config.quoteChar;\n\n\t\t\tif (typeof _config.header === 'boolean')\n\t\t\t\t_writeHeader = _config.header;\n\t\t}\n\n\n\t\t/** Turns an object's keys into an array */\n\t\tfunction objectKeys(obj)\n\t\t{\n\t\t\tif (typeof obj !== 'object')\n\t\t\t\treturn [];\n\t\t\tvar keys = [];\n\t\t\tfor (var key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn keys;\n\t\t}\n\n\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\tfunction serialize(fields, data)\n\t\t{\n\t\t\tvar csv = '';\n\n\t\t\tif (typeof fields === 'string')\n\t\t\t\tfields = JSON.parse(fields);\n\t\t\tif (typeof data === 'string')\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\tvar hasHeader = fields instanceof Array && fields.length > 0;\n\t\t\tvar dataKeyedByField = !(data[0] instanceof Array);\n\n\t\t\t// If there a header row, write it first\n\t\t\tif (hasHeader && _writeHeader)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < fields.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t}\n\t\t\t\tif (data.length > 0)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\t// Then write out the data\n\t\t\tfor (var row = 0; row < data.length; row++)\n\t\t\t{\n\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\n\t\t\t\tfor (var col = 0; col < maxCol; col++)\n\t\t\t\t{\n\t\t\t\t\tif (col > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t}\n\n\t\t\t\tif (row < data.length - 1)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\treturn csv;\n\t\t}\n\n\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\tfunction safe(str, col)\n\t\t{\n\t\t\tif (typeof str === 'undefined' || str === null)\n\t\t\t\treturn '';\n\n\t\t\tstr = str.toString().replace(quoteCharRegex, _quoteChar+_quoteChar);\n\n\t\t\tvar needsQuotes = (typeof _quotes === 'boolean' && _quotes)\n\t\t\t\t\t\t\t|| (_quotes instanceof Array && _quotes[col])\n\t\t\t\t\t\t\t|| hasAny(str, Papa.BAD_DELIMITERS)\n\t\t\t\t\t\t\t|| str.indexOf(_delimiter) > -1\n\t\t\t\t\t\t\t|| str.charAt(0) === ' '\n\t\t\t\t\t\t\t|| str.charAt(str.length - 1) === ' ';\n\n\t\t\treturn needsQuotes ? _quoteChar + str + _quoteChar : str;\n\t\t}\n\n\t\tfunction hasAny(str, substrings)\n\t\t{\n\t\t\tfor (var i = 0; i < substrings.length; i++)\n\t\t\t\tif (str.indexOf(substrings[i]) > -1)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\tfunction ChunkStreamer(config)\n\t{\n\t\tthis._handle = null;\n\t\tthis._paused = false;\n\t\tthis._finished = false;\n\t\tthis._input = null;\n\t\tthis._baseIndex = 0;\n\t\tthis._partialLine = '';\n\t\tthis._rowCount = 0;\n\t\tthis._start = 0;\n\t\tthis._nextChunk = null;\n\t\tthis.isFirstChunk = true;\n\t\tthis._completeResults = {\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\t\treplaceConfig.call(this, config);\n\n\t\tthis.parseChunk = function(chunk)\n\t\t{\n\t\t\t// First chunk pre-processing\n\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))\n\t\t\t{\n\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\tif (modifiedChunk !== undefined)\n\t\t\t\t\tchunk = modifiedChunk;\n\t\t\t}\n\t\t\tthis.isFirstChunk = false;\n\n\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\tthis._partialLine = '';\n\n\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\n\t\t\tif (this._handle.paused() || this._handle.aborted())\n\t\t\t\treturn;\n\n\t\t\tvar lastIndex = results.meta.cursor;\n\n\t\t\tif (!this._finished)\n\t\t\t{\n\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t}\n\n\t\t\tif (results && results.data)\n\t\t\t\tthis._rowCount += results.data.length;\n\n\t\t\tvar finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);\n\n\t\t\tif (IS_PAPA_WORKER)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tresults: results,\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (isFunction(this._config.chunk))\n\t\t\t{\n\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\tif (this._paused)\n\t\t\t\t\treturn;\n\t\t\t\tresults = undefined;\n\t\t\t\tthis._completeResults = undefined;\n\t\t\t}\n\n\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t}\n\n\t\t\tif (finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted))\n\t\t\t\tthis._config.complete(this._completeResults, this._input);\n\n\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused))\n\t\t\t\tthis._nextChunk();\n\n\t\t\treturn results;\n\t\t};\n\n\t\tthis._sendError = function(error)\n\t\t{\n\t\t\tif (isFunction(this._config.error))\n\t\t\t\tthis._config.error(error);\n\t\t\telse if (IS_PAPA_WORKER && this._config.error)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\terror: error,\n\t\t\t\t\tfinished: false\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction replaceConfig(config)\n\t\t{\n\t\t\t// Deep-copy the config so we can edit it\n\t\t\tvar configCopy = copy(config);\n\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize);\t// parseInt VERY important so we don't concatenate strings!\n\t\t\tif (!config.step && !config.chunk)\n\t\t\t\tconfigCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\tthis._handle.streamer = this;\n\t\t\tthis._config = configCopy;\t// persist the copy to the caller\n\t\t}\n\t}\n\n\n\tfunction NetworkStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.RemoteChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar xhr;\n\n\t\tif (IS_WORKER)\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t\tthis._chunkLoaded();\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t};\n\t\t}\n\n\t\tthis.stream = function(url)\n\t\t{\n\t\t\tthis._input = url;\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tif (this._finished)\n\t\t\t{\n\t\t\t\tthis._chunkLoaded();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\tif (this._config.withCredentials)\n\t\t\t{\n\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t}\n\n\t\t\tif (!IS_WORKER)\n\t\t\t{\n\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\n\t\t\txhr.open('GET', this._input, !IS_WORKER);\n\t\t\t// Headers can only be set when once the request state is OPENED\n\t\t\tif (this._config.downloadRequestHeaders)\n\t\t\t{\n\t\t\t\tvar headers = this._config.downloadRequestHeaders;\n\n\t\t\t\tfor (var headerName in headers)\n\t\t\t\t{\n\t\t\t\t\txhr.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = this._start + this._config.chunkSize - 1;\t// minus one because byte range is inclusive\n\t\t\t\txhr.setRequestHeader('Range', 'bytes='+this._start+'-'+end);\n\t\t\t\txhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis._chunkError(err.message);\n\t\t\t}\n\n\t\t\tif (IS_WORKER && xhr.status === 0)\n\t\t\t\tthis._chunkError();\n\t\t\telse\n\t\t\t\tthis._start += this._config.chunkSize;\n\t\t}\n\n\t\tthis._chunkLoaded = function()\n\t\t{\n\t\t\tif (xhr.readyState != 4)\n\t\t\t\treturn;\n\n\t\t\tif (xhr.status < 200 || xhr.status >= 400)\n\t\t\t{\n\t\t\t\tthis._chunkError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._finished = !this._config.chunkSize || this._start > getFileSize(xhr);\n\t\t\tthis.parseChunk(xhr.responseText);\n\t\t}\n\n\t\tthis._chunkError = function(errorMessage)\n\t\t{\n\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\tthis._sendError(errorText);\n\t\t}\n\n\t\tfunction getFileSize(xhr)\n\t\t{\n\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\tif (contentRange === null) { // no content range, then finish!\n\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\treturn parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));\n\t\t}\n\t}\n\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\n\n\tfunction FileStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.LocalChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar reader, slice;\n\n\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\tvar usingAsyncReader = typeof FileReader !== 'undefined';\t// Safari doesn't consider it a function - see issue #105\n\n\t\tthis.stream = function(file)\n\t\t{\n\t\t\tthis._input = file;\n\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\n\t\t\tif (usingAsyncReader)\n\t\t\t{\n\t\t\t\treader = new FileReader();\t\t// Preferred method of reading files, even in workers\n\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\t\t\telse\n\t\t\t\treader = new FileReaderSync();\t// Hack for running in a web worker in Firefox\n\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))\n\t\t\t\tthis._readChunk();\n\t\t}\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tvar input = this._input;\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t}\n\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\tif (!usingAsyncReader)\n\t\t\t\tthis._chunkLoaded({ target: { result: txt } });\t// mimic the async signature\n\t\t}\n\n\t\tthis._chunkLoaded = function(event)\n\t\t{\n\t\t\t// Very important to increment start each time before handling results\n\t\t\tthis._start += this._config.chunkSize;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\tthis.parseChunk(event.target.result);\n\t\t}\n\n\t\tthis._chunkError = function()\n\t\t{\n\t\t\tthis._sendError(reader.error);\n\t\t}\n\n\t}\n\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tFileStreamer.prototype.constructor = FileStreamer;\n\n\n\tfunction StringStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar string;\n\t\tvar remaining;\n\t\tthis.stream = function(s)\n\t\t{\n\t\t\tstring = s;\n\t\t\tremaining = s;\n\t\t\treturn this._nextChunk();\n\t\t}\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (this._finished) return;\n\t\t\tvar size = this._config.chunkSize;\n\t\t\tvar chunk = size ? remaining.substr(0, size) : remaining;\n\t\t\tremaining = size ? remaining.substr(size) : '';\n\t\t\tthis._finished = !remaining;\n\t\t\treturn this.parseChunk(chunk);\n\t\t}\n\t}\n\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\tStringStreamer.prototype.constructor = StringStreamer;\n\n\n\tfunction ReadableStreamStreamer(config)\n\t{\n\t\tconfig = config || {};\n\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar queue = [];\n\t\tvar parseOnData = true;\n\n\t\tthis.stream = function(stream)\n\t\t{\n\t\t\tthis._input = stream;\n\n\t\t\tthis._input.on('data', this._streamData);\n\t\t\tthis._input.on('end', this._streamEnd);\n\t\t\tthis._input.on('error', this._streamError);\n\t\t}\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (queue.length)\n\t\t\t{\n\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparseOnData = true;\n\t\t\t}\n\t\t}\n\n\t\tthis._streamData = bindFunction(function(chunk)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tqueue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));\n\n\t\t\t\tif (parseOnData)\n\t\t\t\t{\n\t\t\t\t\tparseOnData = false;\n\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tthis._streamError(error);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis._streamError = bindFunction(function(error)\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._sendError(error.message);\n\t\t}, this);\n\n\t\tthis._streamEnd = bindFunction(function()\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._finished = true;\n\t\t\tthis._streamData('');\n\t\t}, this);\n\n\t\tthis._streamCleanUp = bindFunction(function()\n\t\t{\n\t\t\tthis._input.removeListener('data', this._streamData);\n\t\t\tthis._input.removeListener('end', this._streamEnd);\n\t\t\tthis._input.removeListener('error', this._streamError);\n\t\t}, this);\n\t}\n\tReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;\n\n\n\t// Use one ParserHandle per entire CSV file or string\n\tfunction ParserHandle(_config)\n\t{\n\t\t// One goal is to minimize the use of regular expressions...\n\t\tvar FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\n\t\tvar self = this;\n\t\tvar _stepCounter = 0;\t// Number of times step was called (number of rows parsed)\n\t\tvar _input;\t\t\t\t// The input being parsed\n\t\tvar _parser;\t\t\t// The core parser being used\n\t\tvar _paused = false;\t// Whether we are paused or not\n\t\tvar _aborted = false;\t// Whether the parser has aborted or not\n\t\tvar _delimiterError;\t// Temporary state between delimiter detection and processing results\n\t\tvar _fields = [];\t\t// Fields are from the header row of the input, if there is one\n\t\tvar _results = {\t\t// The last results returned from the parser\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\n\t\tif (isFunction(_config.step))\n\t\t{\n\t\t\tvar userStep = _config.step;\n\t\t\t_config.step = function(results)\n\t\t\t{\n\t\t\t\t_results = results;\n\n\t\t\t\tif (needsHeaderRow())\n\t\t\t\t\tprocessResults();\n\t\t\t\telse\t// only call user's step function after header row\n\t\t\t\t{\n\t\t\t\t\tprocessResults();\n\n\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\tif (_results.data.length === 0)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview)\n\t\t\t\t\t\t_parser.abort();\n\t\t\t\t\telse\n\t\t\t\t\t\tuserStep(_results, self);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t\t * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t\t * when an input comes in multiple chunks, like from a file.\n\t\t */\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\tif (!_config.newline)\n\t\t\t\t_config.newline = guessLineEndings(input);\n\n\t\t\t_delimiterError = false;\n\t\t\tif (!_config.delimiter)\n\t\t\t{\n\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines);\n\t\t\t\tif (delimGuess.successful)\n\t\t\t\t\t_config.delimiter = delimGuess.bestDelimiter;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_delimiterError = true;\t// add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t}\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\t\t\telse if(isFunction(_config.delimiter))\n\t\t\t{\n\t\t\t\t_config.delimiter = _config.delimiter(input);\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tvar parserConfig = copy(_config);\n\t\t\tif (_config.preview && _config.header)\n\t\t\t\tparserConfig.preview++;\t// to compensate for header row\n\n\t\t\t_input = input;\n\t\t\t_parser = new Parser(parserConfig);\n\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\tprocessResults();\n\t\t\treturn _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });\n\t\t};\n\n\t\tthis.paused = function()\n\t\t{\n\t\t\treturn _paused;\n\t\t};\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\t_paused = true;\n\t\t\t_parser.abort();\n\t\t\t_input = _input.substr(_parser.getCharIndex());\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\t_paused = false;\n\t\t\tself.streamer.parseChunk(_input);\n\t\t};\n\n\t\tthis.aborted = function ()\n\t\t{\n\t\t\treturn _aborted;\n\t\t};\n\n\t\tthis.abort = function()\n\t\t{\n\t\t\t_aborted = true;\n\t\t\t_parser.abort();\n\t\t\t_results.meta.aborted = true;\n\t\t\tif (isFunction(_config.complete))\n\t\t\t\t_config.complete(_results);\n\t\t\t_input = '';\n\t\t};\n\n\t\tfunction processResults()\n\t\t{\n\t\t\tif (_results && _delimiterError)\n\t\t\t{\n\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\''+Papa.DefaultDelimiter+'\\'');\n\t\t\t\t_delimiterError = false;\n\t\t\t}\n\n\t\t\tif (_config.skipEmptyLines)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t\t\tif (_results.data[i].length === 1 && _results.data[i][0] === '')\n\t\t\t\t\t\t_results.data.splice(i--, 1);\n\t\t\t}\n\n\t\t\tif (needsHeaderRow())\n\t\t\t\tfillHeaderFields();\n\n\t\t\treturn applyHeaderAndDynamicTyping();\n\t\t}\n\n\t\tfunction needsHeaderRow()\n\t\t{\n\t\t\treturn _config.header && _fields.length === 0;\n\t\t}\n\n\t\tfunction fillHeaderFields()\n\t\t{\n\t\t\tif (!_results)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++)\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t\t_fields.push(_results.data[i][j]);\n\t\t\t_results.data.splice(0, 1);\n\t\t}\n\n\t\tfunction shouldApplyDynamicTyping(field) {\n\t\t\t// Cache function values to avoid calling it for each row\n\t\t\tif (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {\n\t\t\t\t_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);\n\t\t\t}\n\t\t\treturn (_config.dynamicTyping[field] || _config.dynamicTyping) === true\n\t\t}\n\n\t\tfunction parseDynamic(field, value)\n\t\t{\n\t\t\tif (shouldApplyDynamicTyping(field))\n\t\t\t{\n\t\t\t\tif (value === 'true' || value === 'TRUE')\n\t\t\t\t\treturn true;\n\t\t\t\telse if (value === 'false' || value === 'FALSE')\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\treturn tryParseFloat(value);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction applyHeaderAndDynamicTyping()\n\t\t{\n\t\t\tif (!_results || (!_config.header && !_config.dynamicTyping))\n\t\t\t\treturn _results;\n\n\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t{\n\t\t\t\tvar row = _config.header ? {} : [];\n\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar field = j;\n\t\t\t\t\tvar value = _results.data[i][j];\n\n\t\t\t\t\tif (_config.header)\n\t\t\t\t\t\tfield = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\n\t\t\t\t\tvalue = parseDynamic(field, value);\n\n\t\t\t\t\tif (field === '__parsed_extra')\n\t\t\t\t\t{\n\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\trow[field] = value;\n\t\t\t\t}\n\n\t\t\t\t_results.data[i] = row;\n\n\t\t\t\tif (_config.header)\n\t\t\t\t{\n\t\t\t\t\tif (j > _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t\telse if (j < _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_config.header && _results.meta)\n\t\t\t\t_results.meta.fields = _fields;\n\t\t\treturn _results;\n\t\t}\n\n\t\tfunction guessDelimiter(input, newline, skipEmptyLines)\n\t\t{\n\t\t\tvar delimChoices = [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow;\n\n\t\t\tfor (var i = 0; i < delimChoices.length; i++)\n\t\t\t{\n\t\t\t\tvar delim = delimChoices[i];\n\t\t\t\tvar delta = 0, avgFieldCount = 0, emptyLinesCount = 0;\n\t\t\t\tfieldCountPrevRow = undefined;\n\n\t\t\t\tvar preview = new Parser({\n\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\tnewline: newline,\n\t\t\t\t\tpreview: 10\n\t\t\t\t}).parse(input);\n\n\t\t\t\tfor (var j = 0; j < preview.data.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (skipEmptyLines && preview.data[j].length === 1 && preview.data[j][0].length === 0) {\n\t\t\t\t\t\temptyLinesCount++\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\tavgFieldCount += fieldCount;\n\n\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (fieldCount > 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (preview.data.length > 0)\n\t\t\t\t\tavgFieldCount /= (preview.data.length - emptyLinesCount);\n\n\t\t\t\tif ((typeof bestDelta === 'undefined' || delta < bestDelta)\n\t\t\t\t\t&& avgFieldCount > 1.99)\n\t\t\t\t{\n\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\tbestDelim = delim;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_config.delimiter = bestDelim;\n\n\t\t\treturn {\n\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\tbestDelimiter: bestDelim\n\t\t\t}\n\t\t}\n\n\t\tfunction guessLineEndings(input)\n\t\t{\n\t\t\tinput = input.substr(0, 1024*1024);\t// max length 1 MB\n\n\t\t\tvar r = input.split('\\r');\n\n\t\t\tvar n = input.split('\\n');\n\n\t\t\tvar nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);\n\n\t\t\tif (r.length === 1 || nAppearsFirst)\n\t\t\t\treturn '\\n';\n\n\t\t\tvar numWithN = 0;\n\t\t\tfor (var i = 0; i < r.length; i++)\n\t\t\t{\n\t\t\t\tif (r[i][0] === '\\n')\n\t\t\t\t\tnumWithN++;\n\t\t\t}\n\n\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t}\n\n\t\tfunction tryParseFloat(val)\n\t\t{\n\t\t\tvar isNumber = FLOAT.test(val);\n\t\t\treturn isNumber ? parseFloat(val) : val;\n\t\t}\n\n\t\tfunction addError(type, code, msg, row)\n\t\t{\n\t\t\t_results.errors.push({\n\t\t\t\ttype: type,\n\t\t\t\tcode: code,\n\t\t\t\tmessage: msg,\n\t\t\t\trow: row\n\t\t\t});\n\t\t}\n\t}\n\n\n\n\n\n\t/** The core parser implements speedy and correct CSV parsing */\n\tfunction Parser(config)\n\t{\n\t\t// Unpack the config object\n\t\tconfig = config || {};\n\t\tvar delim = config.delimiter;\n\t\tvar newline = config.newline;\n\t\tvar comments = config.comments;\n\t\tvar step = config.step;\n\t\tvar preview = config.preview;\n\t\tvar fastMode = config.fastMode;\n\t\tvar quoteChar = config.quoteChar || '\"';\n\n\t\t// Delimiter must be valid\n\t\tif (typeof delim !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)\n\t\t\tdelim = ',';\n\n\t\t// Comment character must be valid\n\t\tif (comments === delim)\n\t\t\tthrow 'Comment character same as delimiter';\n\t\telse if (comments === true)\n\t\t\tcomments = '#';\n\t\telse if (typeof comments !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)\n\t\t\tcomments = false;\n\n\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\tif (newline != '\\n' && newline != '\\r' && newline != '\\r\\n')\n\t\t\tnewline = '\\n';\n\n\t\t// We're gonna need these at the Parser scope\n\t\tvar cursor = 0;\n\t\tvar aborted = false;\n\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\tif (typeof input !== 'string')\n\t\t\t\tthrow 'Input must be a string';\n\n\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t// but having them in a more local scope seems to perform better\n\t\t\tvar inputLen = input.length,\n\t\t\t\tdelimLen = delim.length,\n\t\t\t\tnewlineLen = newline.length,\n\t\t\t\tcommentsLen = comments.length;\n\t\t\tvar stepIsFunction = isFunction(step);\n\n\t\t\t// Establish starting state\n\t\t\tcursor = 0;\n\t\t\tvar data = [], errors = [], row = [], lastCursor = 0;\n\n\t\t\tif (!input)\n\t\t\t\treturn returnable();\n\n\t\t\tif (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))\n\t\t\t{\n\t\t\t\tvar rows = input.split(newline);\n\t\t\t\tfor (var i = 0; i < rows.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar row = rows[i];\n\t\t\t\t\tcursor += row.length;\n\t\t\t\t\tif (i !== rows.length - 1)\n\t\t\t\t\t\tcursor += newline.length;\n\t\t\t\t\telse if (ignoreLastRow)\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tif (comments && row.substr(0, commentsLen) === comments)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\tif (preview && i >= preview)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\tvar quoteCharRegex = new RegExp(quoteChar+quoteChar, 'g');\n\n\t\t\t// Parser loop\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\t// Field has opening quote\n\t\t\t\tif (input[cursor] === quoteChar)\n\t\t\t\t{\n\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\tvar quoteSearch = cursor;\n\n\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\tcursor++;\n\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\tvar quoteSearch = input.indexOf(quoteChar, quoteSearch+1);\n\n\t\t\t\t\t\t//No other quotes are found - no other delimiters\n\t\t\t\t\t\tif (quoteSearch === -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\tif (quoteSearch === inputLen-1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\tif (input[quoteSearch+1] === quoteChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote followed by delimiter\n\t\t\t\t\t\tif (input[quoteSearch+1] === delim)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tcursor = quoteSearch + 1 + delimLen;\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote followed by newline\n\t\t\t\t\t\tif (input.substr(quoteSearch+1, newlineLen) === newline)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + newlineLen);\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\t// because we may have skipped the nextDelim in the quoted field\n\n\t\t\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t// Checks for valid closing quotes are complete (escaped quotes or quote followed by EOF/delimiter/newline) -- assume these quotes are part of an invalid text string\n\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\tcode: 'InvalidQuotes',\n\t\t\t\t\t\t\tmessage: 'Trailing quote on quoted field is malformed',\n\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment found at start of new line\n\t\t\t\tif (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments)\n\t\t\t\t{\n\t\t\t\t\tif (nextNewline === -1)\t// Comment ends at EOF\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// End of row\n\t\t\t\tif (nextNewline !== -1)\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\n\t\t\treturn finish();\n\n\n\t\t\tfunction pushRow(row)\n\t\t\t{\n\t\t\t\tdata.push(row);\n\t\t\t\tlastCursor = cursor;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the remaining input from cursor to the end into\n\t\t\t * row, saves the row, calls step, and returns the results.\n\t\t\t */\n\t\t\tfunction finish(value)\n\t\t\t{\n\t\t\t\tif (ignoreLastRow)\n\t\t\t\t\treturn returnable();\n\t\t\t\tif (typeof value === 'undefined')\n\t\t\t\t\tvalue = input.substr(cursor);\n\t\t\t\trow.push(value);\n\t\t\t\tcursor = inputLen;\t// important in case parsing is paused\n\t\t\t\tpushRow(row);\n\t\t\t\tif (stepIsFunction)\n\t\t\t\t\tdoStep();\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the current row to the results. It sets the cursor\n\t\t\t * to newCursor and finds the nextNewline. The caller should\n\t\t\t * take care to execute user's step function and check for\n\t\t\t * preview and end parsing if necessary.\n\t\t\t */\n\t\t\tfunction saveRow(newCursor)\n\t\t\t{\n\t\t\t\tcursor = newCursor;\n\t\t\t\tpushRow(row);\n\t\t\t\trow = [];\n\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t}\n\n\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\tfunction returnable(stopped)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\tfunction doStep()\n\t\t\t{\n\t\t\t\tstep(returnable());\n\t\t\t\tdata = [], errors = [];\n\t\t\t}\n\t\t};\n\n\t\t/** Sets the abort flag */\n\t\tthis.abort = function()\n\t\t{\n\t\t\taborted = true;\n\t\t};\n\n\t\t/** Gets the cursor position */\n\t\tthis.getCharIndex = function()\n\t\t{\n\t\t\treturn cursor;\n\t\t};\n\t}\n\n\n\t// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code\n\t// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358\n\tfunction getScriptPath()\n\t{\n\t\tvar scripts = document.getElementsByTagName('script');\n\t\treturn scripts.length ? scripts[scripts.length - 1].src : '';\n\t}\n\n\tfunction newWorker()\n\t{\n\t\tif (!Papa.WORKERS_SUPPORTED)\n\t\t\treturn false;\n\t\tif (!LOADED_SYNC && Papa.SCRIPT_PATH === null)\n\t\t\tthrow new Error(\n\t\t\t\t'Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' +\n\t\t\t\t'You need to set Papa.SCRIPT_PATH manually.'\n\t\t\t);\n\t\tvar workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;\n\t\t// Append 'papaworker' to the search string to tell papaparse that this is our worker.\n\t\tworkerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';\n\t\tvar w = new global.Worker(workerUrl);\n\t\tw.onmessage = mainThreadReceivedMessage;\n\t\tw.id = workerIdCounter++;\n\t\tworkers[w.id] = w;\n\t\treturn w;\n\t}\n\n\t/** Callback when main thread receives a message */\n\tfunction mainThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\t\tvar worker = workers[msg.workerId];\n\t\tvar aborted = false;\n\n\t\tif (msg.error)\n\t\t\tworker.userError(msg.error, msg.file);\n\t\telse if (msg.results && msg.results.data)\n\t\t{\n\t\t\tvar abort = function() {\n\t\t\t\taborted = true;\n\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t};\n\n\t\t\tvar handle = {\n\t\t\t\tabort: abort,\n\t\t\t\tpause: notImplemented,\n\t\t\t\tresume: notImplemented\n\t\t\t};\n\n\t\t\tif (isFunction(worker.userStep))\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\tdata: [msg.results.data[i]],\n\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t}, handle);\n\t\t\t\t\tif (aborted)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelete msg.results;\t// free memory ASAP\n\t\t\t}\n\t\t\telse if (isFunction(worker.userChunk))\n\t\t\t{\n\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\tdelete msg.results;\n\t\t\t}\n\t\t}\n\n\t\tif (msg.finished && !aborted)\n\t\t\tcompleteWorker(msg.workerId, msg.results);\n\t}\n\n\tfunction completeWorker(workerId, results) {\n\t\tvar worker = workers[workerId];\n\t\tif (isFunction(worker.userComplete))\n\t\t\tworker.userComplete(results);\n\t\tworker.terminate();\n\t\tdelete workers[workerId];\n\t}\n\n\tfunction notImplemented() {\n\t\tthrow 'Not implemented.';\n\t}\n\n\t/** Callback when worker thread receives a message */\n\tfunction workerThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\n\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg)\n\t\t\tPapa.WORKER_ID = msg.workerId;\n\n\t\tif (typeof msg.input === 'string')\n\t\t{\n\t\t\tglobal.postMessage({\n\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\tfinished: true\n\t\t\t});\n\t\t}\n\t\telse if ((global.File && msg.input instanceof File) || msg.input instanceof Object)\t// thank you, Safari (see issue #106)\n\t\t{\n\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\tif (results)\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: results,\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/** Makes a deep copy of an array or object (mostly) */\n\tfunction copy(obj)\n\t{\n\t\tif (typeof obj !== 'object')\n\t\t\treturn obj;\n\t\tvar cpy = obj instanceof Array ? [] : {};\n\t\tfor (var key in obj)\n\t\t\tcpy[key] = copy(obj[key]);\n\t\treturn cpy;\n\t}\n\n\tfunction bindFunction(f, self)\n\t{\n\t\treturn function() { f.apply(self, arguments); };\n\t}\n\n\tfunction isFunction(func)\n\t{\n\t\treturn typeof func === 'function';\n\t}\n\n\treturn Papa;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/papaparse/papaparse.js"],"sourceRoot":""}