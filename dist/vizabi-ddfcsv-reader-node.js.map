{"version":3,"sources":["webpack:///vizabi-ddfcsv-reader-node.js","webpack:///webpack/bootstrap f458f86848a2bae9b257","webpack:///./lib/index.js","webpack:///./lib/file-readers/backend-file-reader.js","webpack:///external \"fs\"","webpack:///./lib/file-readers/github-file-reader.js","webpack:///./lib/ddfcsv-error.js","webpack:///./lib/ddfcsv-reader.js","webpack:///./~/tslib/tslib.js","webpack:///./~/lodash/isNil.js","webpack:///./~/lodash/isObject.js","webpack:///./lib/ddf-csv.js","webpack:///./~/lodash/includes.js","webpack:///./~/lodash/_baseIndexOf.js","webpack:///./~/lodash/_baseFindIndex.js","webpack:///./~/lodash/_baseIsNaN.js","webpack:///./~/lodash/_strictIndexOf.js","webpack:///./~/lodash/isArrayLike.js","webpack:///./~/lodash/isFunction.js","webpack:///./~/lodash/_baseGetTag.js","webpack:///./~/lodash/_Symbol.js","webpack:///./~/lodash/_root.js","webpack:///./~/lodash/_freeGlobal.js","webpack:///./~/lodash/_getRawTag.js","webpack:///./~/lodash/_objectToString.js","webpack:///./~/lodash/isLength.js","webpack:///./~/lodash/isString.js","webpack:///./~/lodash/isArray.js","webpack:///./~/lodash/isObjectLike.js","webpack:///./~/lodash/toInteger.js","webpack:///./~/lodash/toFinite.js","webpack:///./~/lodash/toNumber.js","webpack:///./~/lodash/isSymbol.js","webpack:///./~/lodash/values.js","webpack:///./~/lodash/_baseValues.js","webpack:///./~/lodash/_arrayMap.js","webpack:///./~/lodash/keys.js","webpack:///./~/lodash/_arrayLikeKeys.js","webpack:///./~/lodash/_baseTimes.js","webpack:///./~/lodash/isArguments.js","webpack:///./~/lodash/_baseIsArguments.js","webpack:///./~/lodash/isBuffer.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/lodash/stubFalse.js","webpack:///./~/lodash/_isIndex.js","webpack:///./~/lodash/isTypedArray.js","webpack:///./~/lodash/_baseIsTypedArray.js","webpack:///./~/lodash/_baseUnary.js","webpack:///./~/lodash/_nodeUtil.js","webpack:///./~/lodash/_baseKeys.js","webpack:///./~/lodash/_isPrototype.js","webpack:///./~/lodash/_nativeKeys.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/isEmpty.js","webpack:///./~/lodash/_getTag.js","webpack:///./~/lodash/_DataView.js","webpack:///./~/lodash/_getNative.js","webpack:///./~/lodash/_baseIsNative.js","webpack:///./~/lodash/_isMasked.js","webpack:///./~/lodash/_coreJsData.js","webpack:///./~/lodash/_toSource.js","webpack:///./~/lodash/_getValue.js","webpack:///./~/lodash/_Map.js","webpack:///./~/lodash/_Promise.js","webpack:///./~/lodash/_Set.js","webpack:///./~/lodash/_WeakMap.js","webpack:///./lib/query-optimization-plugins/index.js","webpack:///./lib/query-optimization-plugins/in-clause-under-conjunction-plugin.js","webpack:///external \"path\"","webpack:///./~/lodash/head.js","webpack:///./~/lodash/get.js","webpack:///./~/lodash/_baseGet.js","webpack:///./~/lodash/_castPath.js","webpack:///./~/lodash/_isKey.js","webpack:///./~/lodash/_stringToPath.js","webpack:///./~/lodash/_memoizeCapped.js","webpack:///./~/lodash/memoize.js","webpack:///./~/lodash/_MapCache.js","webpack:///./~/lodash/_mapCacheClear.js","webpack:///./~/lodash/_Hash.js","webpack:///./~/lodash/_hashClear.js","webpack:///./~/lodash/_nativeCreate.js","webpack:///./~/lodash/_hashDelete.js","webpack:///./~/lodash/_hashGet.js","webpack:///./~/lodash/_hashHas.js","webpack:///./~/lodash/_hashSet.js","webpack:///./~/lodash/_ListCache.js","webpack:///./~/lodash/_listCacheClear.js","webpack:///./~/lodash/_listCacheDelete.js","webpack:///./~/lodash/_assocIndexOf.js","webpack:///./~/lodash/eq.js","webpack:///./~/lodash/_listCacheGet.js","webpack:///./~/lodash/_listCacheHas.js","webpack:///./~/lodash/_listCacheSet.js","webpack:///./~/lodash/_mapCacheDelete.js","webpack:///./~/lodash/_getMapData.js","webpack:///./~/lodash/_isKeyable.js","webpack:///./~/lodash/_mapCacheGet.js","webpack:///./~/lodash/_mapCacheHas.js","webpack:///./~/lodash/_mapCacheSet.js","webpack:///./~/lodash/toString.js","webpack:///./~/lodash/_baseToString.js","webpack:///./~/lodash/_toKey.js","webpack:///./~/lodash/flattenDeep.js","webpack:///./~/lodash/_baseFlatten.js","webpack:///./~/lodash/_arrayPush.js","webpack:///./~/lodash/_isFlattenable.js","webpack:///./~/lodash/startsWith.js","webpack:///./~/lodash/_baseClamp.js","webpack:///./~/lodash/compact.js","webpack:///./~/papaparse/papaparse.js","webpack:///./lib/ddf-query-validator/index.js","webpack:///./lib/ddf-query-validator/helper.service.js","webpack:///./lib/ddf-query-validator/definition.service.js","webpack:///./~/lodash/filter.js","webpack:///./~/lodash/_arrayFilter.js","webpack:///./~/lodash/_baseFilter.js","webpack:///./~/lodash/_baseEach.js","webpack:///./~/lodash/_baseForOwn.js","webpack:///./~/lodash/_baseFor.js","webpack:///./~/lodash/_createBaseFor.js","webpack:///./~/lodash/_createBaseEach.js","webpack:///./~/lodash/_baseIteratee.js","webpack:///./~/lodash/_baseMatches.js","webpack:///./~/lodash/_baseIsMatch.js","webpack:///./~/lodash/_Stack.js","webpack:///./~/lodash/_stackClear.js","webpack:///./~/lodash/_stackDelete.js","webpack:///./~/lodash/_stackGet.js","webpack:///./~/lodash/_stackHas.js","webpack:///./~/lodash/_stackSet.js","webpack:///./~/lodash/_baseIsEqual.js","webpack:///./~/lodash/_baseIsEqualDeep.js","webpack:///./~/lodash/_equalArrays.js","webpack:///./~/lodash/_SetCache.js","webpack:///./~/lodash/_setCacheAdd.js","webpack:///./~/lodash/_setCacheHas.js","webpack:///./~/lodash/_arraySome.js","webpack:///./~/lodash/_cacheHas.js","webpack:///./~/lodash/_equalByTag.js","webpack:///./~/lodash/_Uint8Array.js","webpack:///./~/lodash/_mapToArray.js","webpack:///./~/lodash/_setToArray.js","webpack:///./~/lodash/_equalObjects.js","webpack:///./~/lodash/_getAllKeys.js","webpack:///./~/lodash/_baseGetAllKeys.js","webpack:///./~/lodash/_getSymbols.js","webpack:///./~/lodash/stubArray.js","webpack:///./~/lodash/_getMatchData.js","webpack:///./~/lodash/_isStrictComparable.js","webpack:///./~/lodash/_matchesStrictComparable.js","webpack:///./~/lodash/_baseMatchesProperty.js","webpack:///./~/lodash/hasIn.js","webpack:///./~/lodash/_baseHasIn.js","webpack:///./~/lodash/_hasPath.js","webpack:///./~/lodash/identity.js","webpack:///./~/lodash/property.js","webpack:///./~/lodash/_baseProperty.js","webpack:///./~/lodash/_basePropertyDeep.js","webpack:///./lib/ddf-query-validator/structure.service.js","webpack:///./~/lodash/size.js","webpack:///./~/lodash/_stringSize.js","webpack:///./~/lodash/_asciiSize.js","webpack:///./~/lodash/_hasUnicode.js","webpack:///./~/lodash/_unicodeSize.js","webpack:///./~/lodash/first.js","webpack:///./~/lodash/has.js","webpack:///./~/lodash/_baseHas.js","webpack:///./~/lodash/every.js","webpack:///./~/lodash/_arrayEvery.js","webpack:///./~/lodash/_baseEvery.js","webpack:///./~/lodash/_isIterateeCall.js","webpack:///external \"util\"","webpack:///./lib/ddf-query-validator/extension.service.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Object","defineProperty","value","backend_file_reader_1","backend_file_reader_2","BackendFileReader","github_file_reader_1","github_file_reader_2","GithubFileReader","ddfcsv_error_1","DdfCsvError","ddfcsv_reader_1","getDDFCsvReaderObject","prepareDDFCsvReaderObject","getGithubDDFCsvReaderObject","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","fs","this","recordTransformer","filePath","onFileRead","existsSync","readFile","err","content","toString","require","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","FILE_READING_ERROR","JSON_PARSING_ERROR","CSV_PARSING_ERROR","DDF_ERROR","_Error","message","details","file","_this","getPrototypeOf","name","Error","defaultFileReader","externalFileReader","logger","init","readerInfo","_basePath","path","_lastModified","fileReader","resultTransformer","datasetsConfig","isLocalReader","isNil","isServerReader","reader","ddf_csv_1","ddfCsvReader","basePath","getAsset","asset","isJsonAsset","slice","assetPath","isObject","ddf_query_validator_1","getDatasetPath","Promise","resolve","reject","readText","data","JSON","parse","jsonErr","read","queryParam","parsers","tslib_1","__awaiter","regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","query","sent","_prettifyData","log","stringify","t0","abrupt","stop","map","record","keys","forEach","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","__extends","__assign","__rest","__decorate","__param","__metadata","__generator","__exportStar","__values","__read","__spread","__await","__asyncGenerator","__asyncDelegator","__asyncValues","__makeTemplateObject","__importStar","__importDefault","_typeof","Symbol","iterator","obj","factory","createExporter","previous","root","__esModule","v","global","apply","undefined","exporter","extendStatics","Array","d","b","hasOwnProperty","__","assign","t","s","n","arguments","e","indexOf","getOwnPropertySymbols","decorators","desc","r","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","then","body","verb","op","f","_","y","label","ops","pop","trys","push","g","throw","return","o","ar","error","concat","a","q","resume","settle","fulfill","shift","asyncIterator","cooked","raw","mod","k","default","type","_defineProperty","_toConsumableArray","arr","isArray","arr2","from","readerOptions","loadDataPackage","datapackagePath","datapackage","optimalFilesSet","buildResourcesLookup","buildKeyValueLookup","parseErr","loadConcepts","options","conceptQuery","concepts","setConceptsLookup","internalConcepts","select","dataset","branch","commit","queryData","buildConceptsLookup","reparseConcepts","entitySetMembershipConcepts","filter","concept","concept_type","domain","_ref","conceptsLookup","parsingFunctions","Map","str","parseFloat","resources","getResources","resourceUpdates","resource","response","resourceConcepts","parsingConcepts","get","fn","set","row","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_step$value","_slicedToArray","parseFn","all","clear","_callee2","appropriatePlugin","files","_context2","baseOptions","validateQueryStructure","extendQueryParamWithDatasetProps","validateQueryDefinitions","isSchemaQuery","querySchema","query_optimization_plugins_1","getAppropriatePlugin","getOptimalFilesSet","_queryParam$select","_queryParam$select$ke","_queryParam$select$va","_queryParam$where","where","_queryParam$join","join","_queryParam$order_by","order_by","language","projection","Set","filterFields","getFilterFields","field","has","resourcesPromise","loadResources","joinsPromise","getJoinFilters","entitySetFilterPromise","getEntitySetFilter","_ref2","_ref3","resourceResponses","entitySetFilter","joinFilters","whereResolved","processWhere","mergeFilters","dataTables","processResourceResponse","queryResult","joinData","applyFilterRow","fillMissingValues","projectRow","orderData","orderBy","orderNormalized","orderPart","direction","sort","order","fieldValue","includes","subFilter","_len","filters","_key","reduce","$and","_ref4","getSchemaFromCollection","collectionPar","ddfSchema","_ref5","primaryKey","collection","split","throwError","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","every","filterKey","operator","operators","joinID","getJoinFilter","results","mergeObjects","$in","fields","subFields","filterConceptsByType","conceptTypes","queryKey","conceptStrings","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","conceptString","getEntityConceptRenameMap","resourceKey","resourceKeySet","entityConceptTypes","queryEntityConcepts","allEntityConcepts","lookupConcept","aliasConcept","mapA","mapB","promises","keyValueLookup","createKeyString","values","singleValue","resultSet","oneKeyOneValueResourcesArray","isEmpty","resourcePK","schema","resourceProjection","renameMap","renameHeaderRow","loadResource","projectionSet","joinMode","_len2","_key2","canonicalKey","dataMap","dataPar","keyString","resultRow","joinRow","sourceRow","mode","sourceRowStr","resultRowStr","errStr","currentLogger","console","filePromises","loadFile","datasetPath","languageValid","getLanguages","languageLoaded","translations","translationPath","catch","fileResponses","filesData","resp","_ref8","lang","Papa","header","skipEmptyLines","dynamicTyping","headerName","complete","_error","datapackagePar","resourcesLookup","size","kvPair","resourceName","predicates","some","predicate","rowValue","filterValue","isValidNumeric","sliceIterator","_arr","_n","_d","_e","_s","_i","val","fromIndex","guard","isArrayLike","toInteger","nativeMax","isString","baseIndexOf","Math","max","array","strictIndexOf","baseFindIndex","baseIsNaN","fromRight","index","isLength","isFunction","tag","baseGetTag","funcTag","genTag","asyncTag","proxyTag","undefinedTag","nullTag","symToStringTag","getRawTag","objectToString","toStringTag","freeGlobal","freeSelf","Function","isOwn","unmasked","nativeObjectToString","objectProto","MAX_SAFE_INTEGER","isObjectLike","stringTag","toFinite","remainder","toNumber","INFINITY","sign","MAX_INTEGER","isSymbol","NAN","other","valueOf","replace","reTrim","isBinary","reIsBinary","test","reIsOctal","freeParseInt","reIsBadHex","parseInt","symbolTag","object","baseValues","arrayMap","iteratee","arrayLikeKeys","baseKeys","inherited","isArr","isArg","isArguments","isBuff","isBuffer","isType","isTypedArray","skipIndexes","baseTimes","String","isIndex","baseIsArguments","propertyIsEnumerable","argsTag","stubFalse","freeExports","nodeType","freeModule","moduleExports","Buffer","nativeIsBuffer","webpackPolyfill","deprecate","paths","children","reIsUint","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","typedArrayTags","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","func","freeProcess","process","binding","isPrototype","nativeKeys","Ctor","proto","overArg","transform","arg","splice","getTag","DataView","WeakMap","toSource","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","ctorString","getNative","getValue","baseIsNative","isMasked","pattern","reIsNative","reIsHostCtor","reRegExpChar","funcProto","funcToString","RegExp","maskSrcKey","coreJsData","uid","exec","IE_PROTO","plugins","in_clause_under_conjunction_plugin_1","InClauseUnderConjunctionPlugin","head","plugin","isMatched","flattenDeep","startsWith","compact","WHERE_KEYWORD","JOIN_KEYWORD","KEY_KEYWORD","KEY_IN","KEY_AND","getFirstConditionClause","clause","getFirstKey","isOneKeyBased","flow","joinObject","mainAndClause","isMainAndClauseCorrect","joinKeys","areJoinKeysSameAsKeyInWhereClause","joinPart","firstKey","fillResourceToFileHash","collectProcessableClauses","collectEntityFilesNames","collectEntities","fillEntityValuesHash","getFilesGroupsQueryClause","getOptimalFilesGroup","resourceToFile","hash","processableClauses","joinKey","singleAndField","_flow$processableClau","el","getProcessableClauses","_flow$processableClau2","entityFilesNames","fileNameToPrimaryKeyHash","entities","schemaResourceRecord","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","actions","actResolve","actReject","text","entitiesData","getSubdomainsFromRecord","entityValueToFileHash","entityValueToDomainHash","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","entityFileDescriptor","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","entityRecord","primaryKeyForThisFile","primaryKeyCellValue","domainsForCurrentRecord","filesGroupsByClause","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","filesGroupByClause","datapoints","entityValuesFromClause","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","entityValueFromClause","add","entitiesByQuery","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","entityByQuery","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","clauseKeys","appropriateClauseKey","appropriateClauseSize","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_step15","_iterator15","_iteratorNormalCompletion16","_didIteratorError16","_iteratorError16","_step16","_iterator16","conditionKey","defaultValue","baseGet","castPath","toKey","isKey","stringToPath","reIsPlainProp","reIsDeepProp","memoizeCapped","reLeadingDot","rePropName","reEscapeChar","string","match","number","quote","memoize","cache","MAX_MEMOIZE_SIZE","resolver","FUNC_ERROR_TEXT","memoized","args","Cache","MapCache","entries","entry","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","__data__","Hash","ListCache","hashClear","hashDelete","hashGet","hashHas","hashSet","nativeCreate","HASH_UNDEFINED","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","assocIndexOf","lastIndex","arrayProto","eq","getMapData","isKeyable","baseToString","symbolToString","symbolProto","baseFlatten","depth","isStrict","isFlattenable","arrayPush","offset","spreadableSymbol","isConcatSpreadable","position","baseClamp","lower","upper","resIndex","__WEBPACK_AMD_DEFINE_FACTORY__","CsvToJson","_input","_config","dynamicTypingFunction","worker","WORKERS_SUPPORTED","w","newWorker","userStep","userChunk","chunk","userComplete","userError","postMessage","input","config","workerId","streamer","download","NetworkStreamer","StringStreamer","readable","on","ReadableStreamStreamer","File","FileStreamer","stream","JsonToCsv","unpackConfig","delimiter","BAD_DELIMITERS","_delimiter","quotes","_quotes","newline","_newline","quoteChar","_quoteChar","_writeHeader","objectKeys","serialize","csv","hasHeader","dataKeyedByField","safe","maxCol","col","colIdx","quoteCharRegex","needsQuotes","hasAny","charAt","substrings","meta","ChunkStreamer","replaceConfig","configCopy","copy","chunkSize","_handle","ParserHandle","_paused","_finished","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","parseChunk","beforeFirstChunk","modifiedChunk","aggregate","paused","aborted","cursor","substring","finishedIncludingPreview","preview","IS_PAPA_WORKER","WORKER_ID","finished","_sendError","getFileSize","xhr","contentRange","getResponseHeader","substr","lastIndexOf","RemoteChunkSize","IS_WORKER","_readChunk","_chunkLoaded","url","XMLHttpRequest","withCredentials","onload","bindFunction","onerror","_chunkError","open","downloadRequestHeaders","headers","setRequestHeader","end","send","status","readyState","responseText","errorMessage","errorText","statusText","LocalChunkSize","usingAsyncReader","FileReader","webkitSlice","mozSlice","FileReaderSync","min","txt","readAsText","encoding","event","remaining","queue","parseOnData","_streamData","_streamEnd","_streamError","_streamCleanUp","removeListener","processResults","_results","_delimiterError","addError","DefaultDelimiter","needsHeaderRow","fillHeaderFields","applyHeaderAndDynamicTyping","_fields","j","shouldApplyDynamicTyping","parseDynamic","tryParseFloat","guessDelimiter","bestDelim","bestDelta","fieldCountPrevRow","delimChoices","RECORD_SEP","UNIT_SEP","delim","delta","avgFieldCount","emptyLinesCount","Parser","fieldCount","abs","successful","bestDelimiter","guessLineEndings","nAppearsFirst","numWithN","isNumber","FLOAT","code","msg","_parser","_stepCounter","_aborted","abort","baseIndex","ignoreLastRow","delimGuess","parserConfig","pause","getCharIndex","comments","fastMode","pushRow","lastCursor","finish","returnable","inputLen","stepIsFunction","doStep","saveRow","newCursor","nextNewline","stopped","linebreak","truncated","delimLen","newlineLen","commentsLen","rows","nextDelim","quoteSearch","getScriptPath","scripts","document","getElementsByTagName","src","LOADED_SYNC","SCRIPT_PATH","workerUrl","AUTO_SCRIPT_PATH","Worker","onmessage","mainThreadReceivedMessage","workerIdCounter","workers","completeWorker","handle","notImplemented","terminate","workerThreadReceivedMessage","cpy","window","location","search","unparse","fromCharCode","BYTE_ORDER_MARK","jQuery","$","parseNextFile","before","returned","inputElem","action","reason","fileComplete","instanceConfig","extend","userCompleteFunc","elem","each","idx","supported","prop","toUpperCase","attr","toLowerCase","addEventListener","fromClause","SCHEMAS","isDatapointsQuery","DATAPOINTS","isEntitiesQuery","ENTITIES","isConceptsQuery","CONCEPTS","isEntityDomainOrSet","conceptType","isMeasure","AVAILABLE_QUERY_OPERATORS","AVAILABLE_FROM_CLAUSE_VALUES","AVAILABLE_ORDER_BY_CLAUSE_VALUES","DEFAULT_DATASET_NAME","env","DEFAULT_DATASET_BRANCH","DEFAULT_DATASET_COMMIT","DEFAULT_DATASET_DIR","MAX_AMOUNT_OF_MEASURES_IN_SELECT","validationResult","validateSelectDefinitions","isQueryValid","errorMessages","selectClause","helper_service_1","checkIfSelectKeyHasInvalidDefinitions","checkIfSelectValueHasInvalidDefinitions","unavailableKeys","getUnavailableSelectKeys","unavailableValues","getUnavailableSelectValues","keyItem","valueItem","arrayFilter","baseFilter","baseIteratee","baseEach","baseForOwn","createBaseEach","baseFor","createBaseFor","keysFunc","iterable","eachFunc","identity","baseMatchesProperty","baseMatches","property","source","matchData","getMatchData","matchesStrictComparable","baseIsMatch","customizer","noCustomizer","objValue","srcValue","stack","Stack","baseIsEqual","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","LARGE_ARRAY_SIZE","bitmask","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","isPartial","arrLength","othLength","stacked","seen","SetCache","arrValue","othValue","compared","arraySome","othIndex","cacheHas","setCacheAdd","setCacheHas","byteLength","byteOffset","buffer","Uint8Array","convert","mapToArray","setToArray","symbolValueOf","objProps","getAllKeys","objLength","othProps","skipCtor","objCtor","othCtor","baseGetAllKeys","getSymbols","symbolsFunc","stubArray","nativeGetSymbols","symbol","isStrictComparable","hasIn","hasPath","baseHasIn","hasFunc","baseProperty","basePropertyDeep","validateDatasetStructure","validateFromStructure","validateSelectStructure","validateWhereStructure","validateLanguageStructure","validateJoinStructure","validateOrderByStructure","datasetClause","branchClause","commitClause","listAvaliableValues","checkIfSelectIsEmpty","checkIfSchemasSelectKeyHasInvalidStructure","checkIfSelectValueHasInvalidStructure","checkIfEntitiesOrConceptsSelectHasInvalidStructure","checkIfSelectKeyHasInvalidStructure","checkIfSelectHasInvalidStructure","checkIfDatapointsSelectKeyHasInvalidStructure","checkIfDatapointsSelectValueHasInvalidStructure","joinClause","whereClause","whereOperators","getWhereOperators","checkIfWhereHasInvalidStructure","checkIfWhereHasUnknownOperators","languageClause","checkIfSchemaLanguageIsPresent","checkIfLanguageHasInvalidStructure","checkIfSchemaJoinIsPresent","checkIfJoinHasInvalidStructure","orderByClause","checkIfOrderByHasInvalidStructure","isStrictObject","notAllowedOperators","isAllowedOperator","allowedOperatorsByDataset","isArrayOfStrings","isArrayOfSpecialItems","isOrderBySubclause","subclause","first","isSpecialItem","isMongoLikeOperator","isJoinOperator","isLeaf","util_1","isPrimitive","stringSize","hasUnicode","unicodeSize","asciiSize","reHasUnicode","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reUnicode","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","baseHas","arrayEvery","baseEvery","isIterateeCall","getDatapackagePath","isDatasetPathAlreadyInBasePath","_get","_datasetsConfig$defau","DEFAULT_DATASET","DEFAULT_BRANCH","DEFAULT_COMMIT","originDataset","originBranch","originCommit","_queryParam$dataset","_queryParam$branch","_queryParam$commit","datasetName"],"mappings":"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","file":"vizabi-ddfcsv-reader-node.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar backend_file_reader_1 = __webpack_require__(1);\n\tvar backend_file_reader_2 = __webpack_require__(1);\n\texports.BackendFileReader = backend_file_reader_2.BackendFileReader;\n\tvar github_file_reader_1 = __webpack_require__(3);\n\tvar github_file_reader_2 = __webpack_require__(3);\n\texports.GithubFileReader = github_file_reader_2.GithubFileReader;\n\tvar ddfcsv_error_1 = __webpack_require__(4);\n\texports.DdfCsvError = ddfcsv_error_1.DdfCsvError;\n\tvar ddfcsv_reader_1 = __webpack_require__(5);\n\texports.getDDFCsvReaderObject = ddfcsv_reader_1.prepareDDFCsvReaderObject(new backend_file_reader_1.BackendFileReader());\n\texports.getGithubDDFCsvReaderObject = ddfcsv_reader_1.prepareDDFCsvReaderObject(new github_file_reader_1.GithubFileReader());\n\t//# sourceMappingURL=index.js.map\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar fs = __webpack_require__(2);\n\t\n\tvar BackendFileReader = function () {\n\t    function BackendFileReader() {\n\t        _classCallCheck(this, BackendFileReader);\n\t    }\n\t\n\t    _createClass(BackendFileReader, [{\n\t        key: \"setRecordTransformer\",\n\t        value: function setRecordTransformer(recordTransformer) {\n\t            this.recordTransformer = recordTransformer;\n\t        }\n\t    }, {\n\t        key: \"readText\",\n\t        value: function readText(filePath, onFileRead) {\n\t            if (!fs.existsSync(filePath)) {\n\t                return onFileRead('No such file: ' + filePath);\n\t            }\n\t            fs.readFile(filePath, 'utf-8', function (err, content) {\n\t                if (err) {\n\t                    onFileRead(err);\n\t                    return;\n\t                }\n\t                onFileRead(null, content.toString());\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return BackendFileReader;\n\t}();\n\t\n\texports.BackendFileReader = BackendFileReader;\n\t//# sourceMappingURL=backend-file-reader.js.map\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs\");\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t\n\tvar GithubFileReader = function () {\n\t    function GithubFileReader() {\n\t        _classCallCheck(this, GithubFileReader);\n\t    }\n\t\n\t    _createClass(GithubFileReader, [{\n\t        key: \"setRecordTransformer\",\n\t        value: function setRecordTransformer(recordTransformer) {\n\t            this.recordTransformer = recordTransformer;\n\t        }\n\t    }, {\n\t        key: \"readText\",\n\t        value: function readText(filePath, onFileRead) {}\n\t    }]);\n\t\n\t    return GithubFileReader;\n\t}();\n\t\n\texports.GithubFileReader = GithubFileReader;\n\t//# sourceMappingURL=github-file-reader.js.map\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.FILE_READING_ERROR = 'File reading error';\n\texports.JSON_PARSING_ERROR = 'JSON parsing error';\n\texports.CSV_PARSING_ERROR = 'CSV parsing error';\n\texports.DDF_ERROR = 'DDF error';\n\t\n\tvar DdfCsvError = function (_Error) {\n\t    _inherits(DdfCsvError, _Error);\n\t\n\t    function DdfCsvError(message, details, file) {\n\t        _classCallCheck(this, DdfCsvError);\n\t\n\t        var _this = _possibleConstructorReturn(this, (DdfCsvError.__proto__ || Object.getPrototypeOf(DdfCsvError)).call(this));\n\t\n\t        _this.name = 'DdfCsvError';\n\t        _this.message = message + \" [filepath: \" + file + \"]. \" + details + \".\";\n\t        _this.details = details;\n\t        _this.file = file;\n\t        return _this;\n\t    }\n\t\n\t    return DdfCsvError;\n\t}(Error);\n\t\n\texports.DdfCsvError = DdfCsvError;\n\t//# sourceMappingURL=ddfcsv-error.js.map\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar tslib_1 = __webpack_require__(6);\n\tvar isNil = __webpack_require__(7);\n\tvar isObject = __webpack_require__(8);\n\tvar ddf_csv_1 = __webpack_require__(9);\n\tvar ddf_query_validator_1 = __webpack_require__(109);\n\tfunction prepareDDFCsvReaderObject(defaultFileReader) {\n\t    return function (externalFileReader, logger) {\n\t        return {\n\t            init: function init(readerInfo) {\n\t                this._basePath = readerInfo.path;\n\t                this._lastModified = readerInfo._lastModified;\n\t                this.fileReader = externalFileReader || defaultFileReader;\n\t                this.logger = logger;\n\t                this.resultTransformer = readerInfo.resultTransformer;\n\t                this.datasetsConfig = readerInfo.datasetsConfig;\n\t                this.isLocalReader = isNil(this.datasetsConfig) ? true : false;\n\t                this.isServerReader = !this.isLocalReader;\n\t                this.reader = ddf_csv_1.ddfCsvReader({\n\t                    basePath: this._basePath,\n\t                    fileReader: this.fileReader,\n\t                    logger: this.logger,\n\t                    datasetsConfig: this.datasetsConfig\n\t                });\n\t            },\n\t            getAsset: function getAsset(asset) {\n\t                var _this = this;\n\t\n\t                var isJsonAsset = asset.slice(-'.json'.length) === '.json';\n\t                var assetPath = this._basePath + \"/\" + asset;\n\t                if (isObject(asset)) {\n\t                    assetPath = ddf_query_validator_1.getDatasetPath(this._basePath, asset);\n\t                }\n\t                return new Promise(function (resolve, reject) {\n\t                    _this.fileReader.readText(assetPath, function (err, data) {\n\t                        if (err) {\n\t                            reject(err);\n\t                            return;\n\t                        }\n\t                        if (isJsonAsset) {\n\t                            try {\n\t                                resolve(JSON.parse(data));\n\t                            } catch (jsonErr) {\n\t                                reject(err);\n\t                            }\n\t                        } else {\n\t                            resolve(data);\n\t                        }\n\t                    });\n\t                });\n\t            },\n\t            read: function read(queryParam, parsers) {\n\t                return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n\t                    var result;\n\t                    return regeneratorRuntime.wrap(function _callee$(_context) {\n\t                        while (1) {\n\t                            switch (_context.prev = _context.next) {\n\t                                case 0:\n\t                                    result = void 0;\n\t                                    _context.prev = 1;\n\t                                    _context.next = 4;\n\t                                    return this.reader.query(queryParam);\n\t\n\t                                case 4:\n\t                                    result = _context.sent;\n\t\n\t                                    result = parsers ? this._prettifyData(result, parsers) : result;\n\t                                    if (this.resultTransformer) {\n\t                                        result = this.resultTransformer(result);\n\t                                    }\n\t                                    if (this.logger && this.logger.log) {\n\t                                        logger.log(JSON.stringify(queryParam), result.length);\n\t                                        logger.log(result);\n\t                                    }\n\t                                    _context.next = 13;\n\t                                    break;\n\t\n\t                                case 10:\n\t                                    _context.prev = 10;\n\t                                    _context.t0 = _context[\"catch\"](1);\n\t                                    throw _context.t0;\n\t\n\t                                case 13:\n\t                                    return _context.abrupt(\"return\", result);\n\t\n\t                                case 14:\n\t                                case \"end\":\n\t                                    return _context.stop();\n\t                            }\n\t                        }\n\t                    }, _callee, this, [[1, 10]]);\n\t                }));\n\t            },\n\t            _prettifyData: function _prettifyData(data, parsers) {\n\t                return data.map(function (record) {\n\t                    var keys = Object.keys(record);\n\t                    keys.forEach(function (key) {\n\t                        if (parsers[key]) {\n\t                            record[key] = parsers[key](record[key]);\n\t                        }\n\t                    });\n\t                    return record;\n\t                });\n\t            }\n\t        };\n\t    };\n\t}\n\texports.prepareDDFCsvReaderObject = prepareDDFCsvReaderObject;\n\t//# sourceMappingURL=ddfcsv-reader.js.map\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/*! *****************************************************************************\r\n\tCopyright (c) Microsoft Corporation. All rights reserved.\r\n\tLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n\tthis file except in compliance with the License. You may obtain a copy of the\r\n\tLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\t\r\n\tTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n\tKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n\tWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n\tMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\t\r\n\tSee the Apache Version 2.0 License for specific language governing permissions\r\n\tand limitations under the License.\r\n\t***************************************************************************** */\n\t/* global global, define, System, Reflect, Promise */\n\tvar __extends;\n\tvar __assign;\n\tvar __rest;\n\tvar __decorate;\n\tvar __param;\n\tvar __metadata;\n\tvar __awaiter;\n\tvar __generator;\n\tvar __exportStar;\n\tvar __values;\n\tvar __read;\n\tvar __spread;\n\tvar _await;\n\tvar __asyncGenerator;\n\tvar __asyncDelegator;\n\tvar __asyncValues;\n\tvar __makeTemplateObject;\n\tvar __importStar;\n\tvar __importDefault;\n\t(function (factory) {\n\t    var root = (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === \"object\" ? global : (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) === \"object\" ? self : _typeof(this) === \"object\" ? this : {};\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\t            factory(createExporter(root, createExporter(exports)));\n\t        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n\t        factory(createExporter(root, createExporter(module.exports)));\n\t    } else {\n\t        factory(createExporter(root));\n\t    }\n\t    function createExporter(exports, previous) {\n\t        if (exports !== root) {\n\t            if (typeof Object.create === \"function\") {\n\t                Object.defineProperty(exports, \"__esModule\", { value: true });\n\t            } else {\n\t                exports.__esModule = true;\n\t            }\n\t        }\n\t        return function (id, v) {\n\t            return exports[id] = previous ? previous(id, v) : v;\n\t        };\n\t    }\n\t})(function (exporter) {\n\t    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n\t        d.__proto__ = b;\n\t    } || function (d, b) {\n\t        for (var p in b) {\n\t            if (b.hasOwnProperty(p)) d[p] = b[p];\n\t        }\n\t    };\n\t\n\t    __extends = function __extends(d, b) {\n\t        extendStatics(d, b);\n\t        function __() {\n\t            this.constructor = d;\n\t        }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t\n\t    __assign = Object.assign || function (t) {\n\t        for (var s, i = 1, n = arguments.length; i < n; i++) {\n\t            s = arguments[i];\n\t            for (var p in s) {\n\t                if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n\t            }\n\t        }\n\t        return t;\n\t    };\n\t\n\t    __rest = function __rest(s, e) {\n\t        var t = {};\n\t        for (var p in s) {\n\t            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\t        }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n\t            if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n\t        }return t;\n\t    };\n\t\n\t    __decorate = function __decorate(decorators, target, key, desc) {\n\t        var c = arguments.length,\n\t            r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n\t            d;\n\t        if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n\t            if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t        }return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t    };\n\t\n\t    __param = function __param(paramIndex, decorator) {\n\t        return function (target, key) {\n\t            decorator(target, key, paramIndex);\n\t        };\n\t    };\n\t\n\t    __metadata = function __metadata(metadataKey, metadataValue) {\n\t        if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n\t    };\n\t\n\t    __awaiter = function __awaiter(thisArg, _arguments, P, generator) {\n\t        return new (P || (P = Promise))(function (resolve, reject) {\n\t            function fulfilled(value) {\n\t                try {\n\t                    step(generator.next(value));\n\t                } catch (e) {\n\t                    reject(e);\n\t                }\n\t            }\n\t            function rejected(value) {\n\t                try {\n\t                    step(generator[\"throw\"](value));\n\t                } catch (e) {\n\t                    reject(e);\n\t                }\n\t            }\n\t            function step(result) {\n\t                result.done ? resolve(result.value) : new P(function (resolve) {\n\t                    resolve(result.value);\n\t                }).then(fulfilled, rejected);\n\t            }\n\t            step((generator = generator.apply(thisArg, _arguments || [])).next());\n\t        });\n\t    };\n\t\n\t    __generator = function __generator(thisArg, body) {\n\t        var _ = { label: 0, sent: function sent() {\n\t                if (t[0] & 1) throw t[1];return t[1];\n\t            }, trys: [], ops: [] },\n\t            f,\n\t            y,\n\t            t,\n\t            g;\n\t        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n\t            return this;\n\t        }), g;\n\t        function verb(n) {\n\t            return function (v) {\n\t                return step([n, v]);\n\t            };\n\t        }\n\t        function step(op) {\n\t            if (f) throw new TypeError(\"Generator is already executing.\");\n\t            while (_) {\n\t                try {\n\t                    if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n\t                    if (y = 0, t) op = [op[0] & 2, t.value];\n\t                    switch (op[0]) {\n\t                        case 0:case 1:\n\t                            t = op;break;\n\t                        case 4:\n\t                            _.label++;return { value: op[1], done: false };\n\t                        case 5:\n\t                            _.label++;y = op[1];op = [0];continue;\n\t                        case 7:\n\t                            op = _.ops.pop();_.trys.pop();continue;\n\t                        default:\n\t                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n\t                                _ = 0;continue;\n\t                            }\n\t                            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n\t                                _.label = op[1];break;\n\t                            }\n\t                            if (op[0] === 6 && _.label < t[1]) {\n\t                                _.label = t[1];t = op;break;\n\t                            }\n\t                            if (t && _.label < t[2]) {\n\t                                _.label = t[2];_.ops.push(op);break;\n\t                            }\n\t                            if (t[2]) _.ops.pop();\n\t                            _.trys.pop();continue;\n\t                    }\n\t                    op = body.call(thisArg, _);\n\t                } catch (e) {\n\t                    op = [6, e];y = 0;\n\t                } finally {\n\t                    f = t = 0;\n\t                }\n\t            }if (op[0] & 5) throw op[1];return { value: op[0] ? op[1] : void 0, done: true };\n\t        }\n\t    };\n\t\n\t    __exportStar = function __exportStar(m, exports) {\n\t        for (var p in m) {\n\t            if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t        }\n\t    };\n\t\n\t    __values = function __values(o) {\n\t        var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n\t            i = 0;\n\t        if (m) return m.call(o);\n\t        return {\n\t            next: function next() {\n\t                if (o && i >= o.length) o = void 0;\n\t                return { value: o && o[i++], done: !o };\n\t            }\n\t        };\n\t    };\n\t\n\t    __read = function __read(o, n) {\n\t        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n\t        if (!m) return o;\n\t        var i = m.call(o),\n\t            r,\n\t            ar = [],\n\t            e;\n\t        try {\n\t            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n\t                ar.push(r.value);\n\t            }\n\t        } catch (error) {\n\t            e = { error: error };\n\t        } finally {\n\t            try {\n\t                if (r && !r.done && (m = i[\"return\"])) m.call(i);\n\t            } finally {\n\t                if (e) throw e.error;\n\t            }\n\t        }\n\t        return ar;\n\t    };\n\t\n\t    __spread = function __spread() {\n\t        for (var ar = [], i = 0; i < arguments.length; i++) {\n\t            ar = ar.concat(__read(arguments[i]));\n\t        }return ar;\n\t    };\n\t\n\t    _await = function __await(v) {\n\t        return this instanceof _await ? (this.v = v, this) : new _await(v);\n\t    };\n\t\n\t    __asyncGenerator = function __asyncGenerator(thisArg, _arguments, generator) {\n\t        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n\t        var g = generator.apply(thisArg, _arguments || []),\n\t            i,\n\t            q = [];\n\t        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n\t            return this;\n\t        }, i;\n\t        function verb(n) {\n\t            if (g[n]) i[n] = function (v) {\n\t                return new Promise(function (a, b) {\n\t                    q.push([n, v, a, b]) > 1 || resume(n, v);\n\t                });\n\t            };\n\t        }\n\t        function resume(n, v) {\n\t            try {\n\t                step(g[n](v));\n\t            } catch (e) {\n\t                settle(q[0][3], e);\n\t            }\n\t        }\n\t        function step(r) {\n\t            r.value instanceof _await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n\t        }\n\t        function fulfill(value) {\n\t            resume(\"next\", value);\n\t        }\n\t        function reject(value) {\n\t            resume(\"throw\", value);\n\t        }\n\t        function settle(f, v) {\n\t            if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n\t        }\n\t    };\n\t\n\t    __asyncDelegator = function __asyncDelegator(o) {\n\t        var i, p;\n\t        return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n\t            throw e;\n\t        }), verb(\"return\"), i[Symbol.iterator] = function () {\n\t            return this;\n\t        }, i;\n\t        function verb(n, f) {\n\t            i[n] = o[n] ? function (v) {\n\t                return (p = !p) ? { value: _await(o[n](v)), done: n === \"return\" } : f ? f(v) : v;\n\t            } : f;\n\t        }\n\t    };\n\t\n\t    __asyncValues = function __asyncValues(o) {\n\t        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n\t        var m = o[Symbol.asyncIterator],\n\t            i;\n\t        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n\t            return this;\n\t        }, i);\n\t        function verb(n) {\n\t            i[n] = o[n] && function (v) {\n\t                return new Promise(function (resolve, reject) {\n\t                    v = o[n](v), settle(resolve, reject, v.done, v.value);\n\t                });\n\t            };\n\t        }\n\t        function settle(resolve, reject, d, v) {\n\t            Promise.resolve(v).then(function (v) {\n\t                resolve({ value: v, done: d });\n\t            }, reject);\n\t        }\n\t    };\n\t\n\t    __makeTemplateObject = function __makeTemplateObject(cooked, raw) {\n\t        if (Object.defineProperty) {\n\t            Object.defineProperty(cooked, \"raw\", { value: raw });\n\t        } else {\n\t            cooked.raw = raw;\n\t        }\n\t        return cooked;\n\t    };\n\t\n\t    __importStar = function __importStar(mod) {\n\t        if (mod && mod.__esModule) return mod;\n\t        var result = {};\n\t        if (mod != null) for (var k in mod) {\n\t            if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n\t        }result[\"default\"] = mod;\n\t        return result;\n\t    };\n\t\n\t    __importDefault = function __importDefault(mod) {\n\t        return mod && mod.__esModule ? mod : { \"default\": mod };\n\t    };\n\t\n\t    exporter(\"__extends\", __extends);\n\t    exporter(\"__assign\", __assign);\n\t    exporter(\"__rest\", __rest);\n\t    exporter(\"__decorate\", __decorate);\n\t    exporter(\"__param\", __param);\n\t    exporter(\"__metadata\", __metadata);\n\t    exporter(\"__awaiter\", __awaiter);\n\t    exporter(\"__generator\", __generator);\n\t    exporter(\"__exportStar\", __exportStar);\n\t    exporter(\"__values\", __values);\n\t    exporter(\"__read\", __read);\n\t    exporter(\"__spread\", __spread);\n\t    exporter(\"__await\", _await);\n\t    exporter(\"__asyncGenerator\", __asyncGenerator);\n\t    exporter(\"__asyncDelegator\", __asyncDelegator);\n\t    exporter(\"__asyncValues\", __asyncValues);\n\t    exporter(\"__makeTemplateObject\", __makeTemplateObject);\n\t    exporter(\"__importStar\", __importStar);\n\t    exporter(\"__importDefault\", __importDefault);\n\t});\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Checks if `value` is `null` or `undefined`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n\t * @example\n\t *\n\t * _.isNil(null);\n\t * // => true\n\t *\n\t * _.isNil(void 0);\n\t * // => true\n\t *\n\t * _.isNil(NaN);\n\t * // => false\n\t */\n\tfunction isNil(value) {\n\t  return value == null;\n\t}\n\t\n\tmodule.exports = isNil;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Checks if `value` is the\n\t * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n\t * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(_.noop);\n\t * // => true\n\t *\n\t * _.isObject(null);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\t  return value != null && (type == 'object' || type == 'function');\n\t}\n\t\n\tmodule.exports = isObject;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar tslib_1 = __webpack_require__(6);\n\tvar includes = __webpack_require__(10);\n\tvar isEmpty = __webpack_require__(51);\n\tvar query_optimization_plugins_1 = __webpack_require__(64);\n\tvar ddfcsv_error_1 = __webpack_require__(4);\n\tvar ddf_query_validator_1 = __webpack_require__(109);\n\tvar Papa = __webpack_require__(108);\n\tvar isValidNumeric = function isValidNumeric(val) {\n\t    return typeof val !== 'number' && !val ? false : true;\n\t};\n\tfunction ddfCsvReader(readerOptions) {\n\t    var basePath = readerOptions.basePath,\n\t        fileReader = readerOptions.fileReader,\n\t        logger = readerOptions.logger,\n\t        datasetsConfig = readerOptions.datasetsConfig;\n\t\n\t    var internalConcepts = [{ concept: 'concept', concept_type: 'string', domain: null }, { concept: 'concept_type', concept_type: 'string', domain: null }];\n\t    var operators = new Map([['$and', function (row, predicates) {\n\t        return predicates.every(function (p) {\n\t            return applyFilterRow(row, p);\n\t        });\n\t    }], ['$or', function (row, predicates) {\n\t        return predicates.some(function (p) {\n\t            return applyFilterRow(row, p);\n\t        });\n\t    }], ['$not', function (row, predicate) {\n\t        return !applyFilterRow(row, predicate);\n\t    }], ['$nor', function (row, predicates) {\n\t        return !predicates.some(function (p) {\n\t            return applyFilterRow(row, p);\n\t        });\n\t    }], ['$eq', function (rowValue, filterValue) {\n\t        return rowValue == filterValue;\n\t    }], ['$ne', function (rowValue, filterValue) {\n\t        return rowValue != filterValue;\n\t    }], ['$gt', function (rowValue, filterValue) {\n\t        return isValidNumeric(rowValue) && rowValue > filterValue;\n\t    }], ['$gte', function (rowValue, filterValue) {\n\t        return isValidNumeric(rowValue) && rowValue >= filterValue;\n\t    }], ['$lt', function (rowValue, filterValue) {\n\t        return isValidNumeric(rowValue) && rowValue < filterValue;\n\t    }], ['$lte', function (rowValue, filterValue) {\n\t        return isValidNumeric(rowValue) && rowValue <= filterValue;\n\t    }], ['$in', function (rowValue, filterValue) {\n\t        return filterValue.has(rowValue);\n\t    }], ['$nin', function (rowValue, filterValue) {\n\t        return !filterValue.has(rowValue);\n\t    }]]);\n\t    var baseOptions = {\n\t        basePath: basePath,\n\t        datasetsConfig: datasetsConfig,\n\t        conceptsLookup: new Map(),\n\t        datapackagePath: '',\n\t        datasetPath: '',\n\t        dataset: ''\n\t    };\n\t    var keyValueLookup = new Map();\n\t    var resourcesLookup = new Map();\n\t    var optimalFilesSet = [];\n\t    function loadDataPackage(datapackagePath) {\n\t        return new Promise(function (resolve, reject) {\n\t            fileReader.readText(datapackagePath, function (err, data) {\n\t                if (err) {\n\t                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, datapackagePath));\n\t                }\n\t                var datapackage = void 0;\n\t                try {\n\t                    datapackage = JSON.parse(data);\n\t                    optimalFilesSet = [];\n\t                    buildResourcesLookup(datapackage);\n\t                    buildKeyValueLookup(datapackage);\n\t                } catch (parseErr) {\n\t                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.JSON_PARSING_ERROR, parseErr.message, datapackagePath));\n\t                }\n\t                resolve(datapackage);\n\t            });\n\t        });\n\t    }\n\t    function loadConcepts(queryParam, options) {\n\t        return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n\t            var conceptQuery, result, concepts;\n\t            return regeneratorRuntime.wrap(function _callee$(_context) {\n\t                while (1) {\n\t                    switch (_context.prev = _context.next) {\n\t                        case 0:\n\t                            setConceptsLookup(internalConcepts, options);\n\t                            conceptQuery = {\n\t                                select: { key: ['concept'], value: ['concept_type', 'domain'] },\n\t                                from: 'concepts',\n\t                                dataset: queryParam.dataset,\n\t                                branch: queryParam.branch,\n\t                                commit: queryParam.commit\n\t                            };\n\t                            result = void 0;\n\t                            _context.prev = 3;\n\t                            _context.next = 6;\n\t                            return queryData(conceptQuery, options);\n\t\n\t                        case 6:\n\t                            concepts = _context.sent;\n\t\n\t                            buildConceptsLookup(concepts, options);\n\t                            _context.next = 10;\n\t                            return reparseConcepts(options);\n\t\n\t                        case 10:\n\t                            result = _context.sent;\n\t                            _context.next = 16;\n\t                            break;\n\t\n\t                        case 13:\n\t                            _context.prev = 13;\n\t                            _context.t0 = _context[\"catch\"](3);\n\t                            throw _context.t0;\n\t\n\t                        case 16:\n\t                            return _context.abrupt(\"return\", result);\n\t\n\t                        case 17:\n\t                        case \"end\":\n\t                            return _context.stop();\n\t                    }\n\t                }\n\t            }, _callee, this, [[3, 13]]);\n\t        }));\n\t    }\n\t    function buildConceptsLookup(concepts, options) {\n\t        var entitySetMembershipConcepts = concepts.filter(function (concept) {\n\t            return concept.concept_type === 'entity_set';\n\t        }).map(function (concept) {\n\t            return {\n\t                concept: 'is--' + concept.concept,\n\t                concept_type: 'boolean',\n\t                domain: null\n\t            };\n\t        });\n\t        concepts = concepts.concat(entitySetMembershipConcepts).concat(internalConcepts);\n\t        setConceptsLookup(concepts, options);\n\t    }\n\t    function reparseConcepts(_ref) {\n\t        var conceptsLookup = _ref.conceptsLookup;\n\t\n\t        var parsingFunctions = new Map([['boolean', function (str) {\n\t            return str === 'true' || str === 'TRUE';\n\t        }], ['measure', function (str) {\n\t            return parseFloat(str);\n\t        }]]);\n\t        var resources = getResources(['concept']);\n\t        var resourceUpdates = [].concat(_toConsumableArray(resources)).map(function (resource) {\n\t            return resource.data.then(function (response) {\n\t                var resourceConcepts = Object.keys(response.data[0]);\n\t                var parsingConcepts = new Map();\n\t                resourceConcepts.forEach(function (concept) {\n\t                    var type = conceptsLookup.get(concept).concept_type;\n\t                    var fn = parsingFunctions.get(type);\n\t                    if (fn) {\n\t                        parsingConcepts.set(concept, fn);\n\t                    }\n\t                });\n\t                return response.data.forEach(function (row) {\n\t                    var _iteratorNormalCompletion = true;\n\t                    var _didIteratorError = false;\n\t                    var _iteratorError = undefined;\n\t\n\t                    try {\n\t                        for (var _iterator = parsingConcepts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                            var _step$value = _slicedToArray(_step.value, 2),\n\t                                concept = _step$value[0],\n\t                                parseFn = _step$value[1];\n\t\n\t                            row[concept] = parseFn(row[concept]);\n\t                        }\n\t                    } catch (err) {\n\t                        _didIteratorError = true;\n\t                        _iteratorError = err;\n\t                    } finally {\n\t                        try {\n\t                            if (!_iteratorNormalCompletion && _iterator.return) {\n\t                                _iterator.return();\n\t                            }\n\t                        } finally {\n\t                            if (_didIteratorError) {\n\t                                throw _iteratorError;\n\t                            }\n\t                        }\n\t                    }\n\t                });\n\t            });\n\t        });\n\t        return Promise.all(resourceUpdates);\n\t    }\n\t    function setConceptsLookup(concepts, options) {\n\t        options.conceptsLookup.clear();\n\t        concepts.forEach(function (row) {\n\t            return options.conceptsLookup.set(row.concept, row);\n\t        });\n\t    }\n\t    function query(queryParam) {\n\t        return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n\t            var data, datapackage, appropriatePlugin, files;\n\t            return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t                while (1) {\n\t                    switch (_context2.prev = _context2.next) {\n\t                        case 0:\n\t                            data = void 0;\n\t                            _context2.prev = 1;\n\t\n\t                            baseOptions.fileReader = fileReader;\n\t                            _context2.next = 5;\n\t                            return ddf_query_validator_1.validateQueryStructure(queryParam, baseOptions);\n\t\n\t                        case 5:\n\t                            _context2.next = 7;\n\t                            return ddf_query_validator_1.extendQueryParamWithDatasetProps(queryParam, baseOptions);\n\t\n\t                        case 7:\n\t                            _context2.next = 9;\n\t                            return loadDataPackage(baseOptions.datapackagePath);\n\t\n\t                        case 9:\n\t                            datapackage = _context2.sent;\n\t\n\t                            baseOptions.datapackage = datapackage;\n\t                            _context2.next = 13;\n\t                            return loadConcepts(queryParam, baseOptions);\n\t\n\t                        case 13:\n\t                            _context2.next = 15;\n\t                            return ddf_query_validator_1.validateQueryDefinitions(queryParam, baseOptions);\n\t\n\t                        case 15:\n\t                            if (!ddf_query_validator_1.isSchemaQuery(queryParam)) {\n\t                                _context2.next = 21;\n\t                                break;\n\t                            }\n\t\n\t                            _context2.next = 18;\n\t                            return querySchema(queryParam, { datapackage: datapackage });\n\t\n\t                        case 18:\n\t                            data = _context2.sent;\n\t                            _context2.next = 31;\n\t                            break;\n\t\n\t                        case 21:\n\t                            appropriatePlugin = query_optimization_plugins_1.getAppropriatePlugin(queryParam, baseOptions);\n\t\n\t                            if (!appropriatePlugin) {\n\t                                _context2.next = 28;\n\t                                break;\n\t                            }\n\t\n\t                            optimalFilesSet = [];\n\t                            _context2.next = 26;\n\t                            return appropriatePlugin.getOptimalFilesSet();\n\t\n\t                        case 26:\n\t                            files = _context2.sent;\n\t\n\t                            optimalFilesSet = files;\n\t\n\t                        case 28:\n\t                            _context2.next = 30;\n\t                            return queryData(queryParam, baseOptions);\n\t\n\t                        case 30:\n\t                            data = _context2.sent;\n\t\n\t                        case 31:\n\t                            _context2.next = 36;\n\t                            break;\n\t\n\t                        case 33:\n\t                            _context2.prev = 33;\n\t                            _context2.t0 = _context2[\"catch\"](1);\n\t                            throw _context2.t0;\n\t\n\t                        case 36:\n\t                            return _context2.abrupt(\"return\", data);\n\t\n\t                        case 37:\n\t                        case \"end\":\n\t                            return _context2.stop();\n\t                    }\n\t                }\n\t            }, _callee2, this, [[1, 33]]);\n\t        }));\n\t    }\n\t    function queryData(queryParam, options) {\n\t        var _queryParam$select = queryParam.select,\n\t            _queryParam$select$ke = _queryParam$select.key,\n\t            key = _queryParam$select$ke === undefined ? [] : _queryParam$select$ke,\n\t            _queryParam$select$va = _queryParam$select.value,\n\t            value = _queryParam$select$va === undefined ? [] : _queryParam$select$va,\n\t            _queryParam$from = queryParam.from,\n\t            from = _queryParam$from === undefined ? '' : _queryParam$from,\n\t            _queryParam$where = queryParam.where,\n\t            where = _queryParam$where === undefined ? {} : _queryParam$where,\n\t            _queryParam$join = queryParam.join,\n\t            join = _queryParam$join === undefined ? {} : _queryParam$join,\n\t            _queryParam$order_by = queryParam.order_by,\n\t            order_by = _queryParam$order_by === undefined ? [] : _queryParam$order_by,\n\t            language = queryParam.language;\n\t\n\t        var select = { key: key, value: value };\n\t        var projection = new Set(select.key.concat(select.value));\n\t        var filterFields = getFilterFields(where).filter(function (field) {\n\t            return !projection.has(field);\n\t        });\n\t        var resourcesPromise = loadResources(select.key, [].concat(_toConsumableArray(select.value), _toConsumableArray(filterFields)), language, options);\n\t        var joinsPromise = getJoinFilters(join, queryParam, options);\n\t        var entitySetFilterPromise = getEntitySetFilter(select.key, queryParam, options);\n\t        return Promise.all([resourcesPromise, entitySetFilterPromise, joinsPromise]).then(function (_ref2) {\n\t            var _ref3 = _slicedToArray(_ref2, 3),\n\t                resourceResponses = _ref3[0],\n\t                entitySetFilter = _ref3[1],\n\t                joinFilters = _ref3[2];\n\t\n\t            var whereResolved = processWhere(where, joinFilters);\n\t            var filter = mergeFilters(entitySetFilter, whereResolved);\n\t            var dataTables = resourceResponses.map(function (response) {\n\t                return processResourceResponse(response, select, filterFields, options);\n\t            });\n\t            var queryResult = joinData.apply(undefined, [select.key, 'overwrite'].concat(_toConsumableArray(dataTables))).filter(function (row) {\n\t                return applyFilterRow(row, filter);\n\t            }).map(function (row) {\n\t                return fillMissingValues(row, projection);\n\t            }).map(function (row) {\n\t                return projectRow(row, projection);\n\t            });\n\t            orderData(queryResult, order_by);\n\t            return queryResult;\n\t        });\n\t    }\n\t    function orderData(data) {\n\t        var orderBy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\t\n\t        if (orderBy.length === 0) {\n\t            return;\n\t        }\n\t        var orderNormalized = orderBy.map(function (orderPart) {\n\t            if (typeof orderPart === 'string') {\n\t                return { concept: orderPart, direction: 1 };\n\t            } else {\n\t                var concept = Object.keys(orderPart)[0];\n\t                var direction = orderPart[concept] === 'asc' ? 1 : -1;\n\t                return { concept: concept, direction: direction };\n\t            }\n\t        });\n\t        var n = orderNormalized.length;\n\t        data.sort(function (a, b) {\n\t            for (var i = 0; i < n; i++) {\n\t                var order = orderNormalized[i];\n\t                if (a[order.concept] < b[order.concept]) {\n\t                    return -1 * order.direction;\n\t                } else if (a[order.concept] > b[order.concept]) {\n\t                    return 1 * order.direction;\n\t                }\n\t            }\n\t            return 0;\n\t        });\n\t    }\n\t    function processWhere(where, joinFilters) {\n\t        var result = {};\n\t        for (var field in where) {\n\t            var fieldValue = where[field];\n\t            if (['$and', '$or', '$nor'].includes(field)) {\n\t                result[field] = fieldValue.map(function (subFilter) {\n\t                    return processWhere(subFilter, joinFilters);\n\t                });\n\t            } else if (field === '$in' || field === '$nin') {\n\t                result[field] = new Set(fieldValue);\n\t            } else if (typeof joinFilters[fieldValue] !== 'undefined') {\n\t                Object.assign(result, joinFilters[fieldValue]);\n\t            } else if ((typeof fieldValue === \"undefined\" ? \"undefined\" : _typeof(fieldValue)) === 'object') {\n\t                result[field] = processWhere(fieldValue, joinFilters);\n\t            } else {\n\t                result[field] = fieldValue;\n\t            }\n\t        }\n\t        return result;\n\t    }\n\t    function mergeFilters() {\n\t        for (var _len = arguments.length, filters = Array(_len), _key = 0; _key < _len; _key++) {\n\t            filters[_key] = arguments[_key];\n\t        }\n\t\n\t        return filters.reduce(function (a, b) {\n\t            a.$and.push(b);\n\t            return a;\n\t        }, { $and: [] });\n\t    }\n\t    function querySchema(queryParam, _ref4) {\n\t        var datapackage = _ref4.datapackage;\n\t\n\t        var getSchemaFromCollection = function getSchemaFromCollection(collectionPar) {\n\t            return datapackage.ddfSchema[collectionPar].map(function (_ref5) {\n\t                var primaryKey = _ref5.primaryKey,\n\t                    value = _ref5.value;\n\t                return { key: primaryKey, value: value };\n\t            });\n\t        };\n\t        var collection = queryParam.from.split('.')[0];\n\t        if (datapackage.ddfSchema[collection]) {\n\t            return getSchemaFromCollection(collection);\n\t        } else if (collection === '*') {\n\t            return Object.keys(datapackage.ddfSchema).map(getSchemaFromCollection).reduce(function (a, b) {\n\t                return a.concat(b);\n\t            });\n\t        } else {\n\t            throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, \"No valid collection (\" + collection + \") for schema query\"));\n\t        }\n\t    }\n\t    function fillMissingValues(row, projection) {\n\t        var _iteratorNormalCompletion2 = true;\n\t        var _didIteratorError2 = false;\n\t        var _iteratorError2 = undefined;\n\t\n\t        try {\n\t            for (var _iterator2 = projection[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                var field = _step2.value;\n\t\n\t                if (typeof row[field] === 'undefined') {\n\t                    row[field] = null;\n\t                }\n\t            }\n\t        } catch (err) {\n\t            _didIteratorError2 = true;\n\t            _iteratorError2 = err;\n\t        } finally {\n\t            try {\n\t                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                    _iterator2.return();\n\t                }\n\t            } finally {\n\t                if (_didIteratorError2) {\n\t                    throw _iteratorError2;\n\t                }\n\t            }\n\t        }\n\t\n\t        return row;\n\t    }\n\t    function applyFilterRow(row, filter) {\n\t        return Object.keys(filter).every(function (filterKey) {\n\t            var operator = operators.get(filterKey);\n\t            if (operator) {\n\t                return operator(row, filter[filterKey]);\n\t            } else if (_typeof(filter[filterKey]) !== 'object') {\n\t                return operators.get('$eq')(row[filterKey], filter[filterKey]);\n\t            } else {\n\t                return applyFilterRow(row[filterKey], filter[filterKey]);\n\t            }\n\t        });\n\t    }\n\t    function getJoinFilters(join, queryParam, options) {\n\t        return Promise.all(Object.keys(join).map(function (joinID) {\n\t            return getJoinFilter(joinID, join[joinID], queryParam, options);\n\t        })).then(function (results) {\n\t            return results.reduce(mergeObjects, {});\n\t        });\n\t    }\n\t    function mergeObjects(a, b) {\n\t        return Object.assign(a, b);\n\t    }\n\t    function getJoinFilter(joinID, join, queryParam, options) {\n\t        if (options.conceptsLookup.get(join.key).concept_type === 'time') {\n\t            return Promise.resolve(_defineProperty({}, joinID, join.where));\n\t        } else {\n\t            return query({\n\t                select: { key: [join.key] },\n\t                where: join.where,\n\t                from: options.conceptsLookup.has(join.key) ? 'concepts' : 'entities',\n\t                dataset: queryParam.dataset,\n\t                branch: queryParam.branch,\n\t                commit: queryParam.commit\n\t            }).then(function (result) {\n\t                return _defineProperty({}, joinID, _defineProperty({}, join.key, {\n\t                    $in: new Set(result.map(function (row) {\n\t                        return row[join.key];\n\t                    }))\n\t                }));\n\t            });\n\t        }\n\t    }\n\t    function getFilterFields(filter) {\n\t        var fields = [];\n\t        for (var field in filter) {\n\t            if (['$and', '$or', '$not', '$nor'].includes(field)) {\n\t                filter[field].map(getFilterFields).forEach(function (subFields) {\n\t                    return fields.push.apply(fields, _toConsumableArray(subFields));\n\t                });\n\t            } else {\n\t                fields.push(field);\n\t            }\n\t        }\n\t        return fields;\n\t    }\n\t    function filterConceptsByType(conceptTypes, queryKey, options) {\n\t        var conceptStrings = queryKey || Array.from(options.conceptsLookup.keys());\n\t        var concepts = [];\n\t        var _iteratorNormalCompletion3 = true;\n\t        var _didIteratorError3 = false;\n\t        var _iteratorError3 = undefined;\n\t\n\t        try {\n\t            for (var _iterator3 = conceptStrings[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t                var conceptString = _step3.value;\n\t\n\t                var concept = options.conceptsLookup.get(conceptString);\n\t                if (conceptTypes.includes(concept.concept_type)) {\n\t                    concepts.push(concept);\n\t                }\n\t            }\n\t        } catch (err) {\n\t            _didIteratorError3 = true;\n\t            _iteratorError3 = err;\n\t        } finally {\n\t            try {\n\t                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t                    _iterator3.return();\n\t                }\n\t            } finally {\n\t                if (_didIteratorError3) {\n\t                    throw _iteratorError3;\n\t                }\n\t            }\n\t        }\n\t\n\t        return concepts;\n\t    }\n\t    function getEntityConceptRenameMap(queryKey, resourceKey, options) {\n\t        var resourceKeySet = new Set(resourceKey);\n\t        var entityConceptTypes = ['entity_set', 'entity_domain'];\n\t        var queryEntityConcepts = filterConceptsByType(entityConceptTypes, queryKey, options);\n\t        if (queryEntityConcepts.length === 0) {\n\t            return new Map();\n\t        }\n\t        var allEntityConcepts = filterConceptsByType(entityConceptTypes, null, options);\n\t        return queryEntityConcepts.map(function (concept) {\n\t            return allEntityConcepts.filter(function (lookupConcept) {\n\t                if (concept.concept_type === 'entity_set') {\n\t                    return resourceKeySet.has(lookupConcept.concept) && lookupConcept.concept !== concept.concept && (lookupConcept.domain === concept.domain || lookupConcept.concept === concept.domain);\n\t                } else {\n\t                    return resourceKeySet.has(lookupConcept.concept) && lookupConcept.concept !== concept.concept && lookupConcept.domain === concept.concept;\n\t                }\n\t            }).reduce(function (map, aliasConcept) {\n\t                return map.set(aliasConcept.concept, concept.concept);\n\t            }, new Map());\n\t        }).reduce(function (mapA, mapB) {\n\t            return new Map([].concat(_toConsumableArray(mapA), _toConsumableArray(mapB)));\n\t        }, new Map());\n\t    }\n\t    function getEntitySetFilter(conceptStrings, queryParam, options) {\n\t        var promises = filterConceptsByType(['entity_set'], conceptStrings, options).map(function (concept) {\n\t            return query({\n\t                select: { key: [concept.domain], value: ['is--' + concept.concept] },\n\t                from: 'entities',\n\t                dataset: queryParam.dataset,\n\t                branch: queryParam.branch,\n\t                commit: queryParam.commit\n\t            }).then(function (result) {\n\t                return _defineProperty({}, concept.concept, {\n\t                    $in: new Set(result.filter(function (row) {\n\t                        return row['is--' + concept.concept];\n\t                    }).map(function (row) {\n\t                        return row[concept.domain];\n\t                    }))\n\t                });\n\t            });\n\t        });\n\t        return Promise.all(promises).then(function (results) {\n\t            return results.reduce(function (a, b) {\n\t                return Object.assign(a, b);\n\t            }, {});\n\t        });\n\t    }\n\t    function getResources(key, value) {\n\t        if (!value || value.length === 0) {\n\t            return new Set([].concat(_toConsumableArray(keyValueLookup.get(createKeyString(key)).values())).reduce(function (a, b) {\n\t                return a.concat(b);\n\t            }));\n\t        }\n\t        if (Array.isArray(value)) {\n\t            return value.map(function (singleValue) {\n\t                return getResources(key, singleValue);\n\t            }).reduce(function (resultSet, resources) {\n\t                return new Set([].concat(_toConsumableArray(resultSet), _toConsumableArray(resources)));\n\t            }, new Set());\n\t        }\n\t        var oneKeyOneValueResourcesArray = keyValueLookup.get(createKeyString(key)).get(value);\n\t        if (oneKeyOneValueResourcesArray) {\n\t            oneKeyOneValueResourcesArray = oneKeyOneValueResourcesArray.filter(function (v) {\n\t                return isEmpty(optimalFilesSet) || includes(optimalFilesSet, v.path);\n\t            });\n\t        }\n\t        return new Set(oneKeyOneValueResourcesArray);\n\t    }\n\t    function processResourceResponse(response, select, filterFields, options) {\n\t        var resourcePK = response.resource.schema.primaryKey;\n\t        var resourceProjection = new Set([].concat(_toConsumableArray(resourcePK), _toConsumableArray(select.value), _toConsumableArray(filterFields)));\n\t        var renameMap = getEntityConceptRenameMap(select.key, resourcePK, options);\n\t        return response.data.map(function (row) {\n\t            return projectRow(row, resourceProjection);\n\t        }).map(function (row) {\n\t            return renameHeaderRow(row, renameMap);\n\t        });\n\t    }\n\t    function loadResources(key, value, language, options) {\n\t        var resources = getResources(key, value);\n\t        return Promise.all([].concat(_toConsumableArray(resources)).map(function (resource) {\n\t            return loadResource(resource, language, options);\n\t        }));\n\t    }\n\t    function projectRow(row, projectionSet) {\n\t        var result = {};\n\t        for (var concept in row) {\n\t            if (projectionSet.has(concept)) {\n\t                result[concept] = row[concept];\n\t            }\n\t        }\n\t        return result;\n\t    }\n\t    function renameHeaderRow(row, renameMap) {\n\t        var result = {};\n\t        for (var concept in row) {\n\t            result[renameMap.get(concept) || concept] = row[concept];\n\t        }\n\t        return result;\n\t    }\n\t    function joinData(key, joinMode) {\n\t        for (var _len2 = arguments.length, data = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n\t            data[_key2 - 2] = arguments[_key2];\n\t        }\n\t\n\t        if (data.length === 1) {\n\t            return data[0];\n\t        }\n\t        var canonicalKey = key.slice(0).sort();\n\t        var dataMap = data.reduce(function (result, dataPar) {\n\t            dataPar.forEach(function (row) {\n\t                var keyString = canonicalKey.map(function (concept) {\n\t                    return row[concept];\n\t                }).join(',');\n\t                if (result.has(keyString)) {\n\t                    var resultRow = result.get(keyString);\n\t                    joinRow(resultRow, row, joinMode);\n\t                } else {\n\t                    result.set(keyString, row);\n\t                }\n\t            });\n\t            return result;\n\t        }, new Map());\n\t        return [].concat(_toConsumableArray(dataMap.values()));\n\t    }\n\t    function joinRow(resultRow, sourceRow, mode) {\n\t        switch (mode) {\n\t            case 'overwrite':\n\t                Object.assign(resultRow, sourceRow);\n\t                break;\n\t            case 'translation':\n\t                for (var concept in sourceRow) {\n\t                    if (sourceRow[concept] !== '') {\n\t                        resultRow[concept] = sourceRow[concept];\n\t                    }\n\t                }\n\t                break;\n\t            case 'overwriteWithError':\n\t                for (var _concept in sourceRow) {\n\t                    if (resultRow[_concept] !== undefined && resultRow[_concept] !== sourceRow[_concept]) {\n\t                        var sourceRowStr = JSON.stringify(sourceRow);\n\t                        var resultRowStr = JSON.stringify(resultRow);\n\t                        var errStr = \"JOIN Error: two resources have different data for \\\"\" + _concept + \"\\\": \" + sourceRowStr + \",\" + resultRowStr;\n\t                        throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, errStr));\n\t                    } else {\n\t                        resultRow[_concept] = sourceRow[_concept];\n\t                    }\n\t                }\n\t                break;\n\t        }\n\t    }\n\t    function throwError(error) {\n\t        var currentLogger = logger || console;\n\t        currentLogger.error(error.message);\n\t        throw error;\n\t    }\n\t    function createKeyString(key) {\n\t        var row = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t        var canonicalKey = key.slice(0).sort();\n\t        if (!row) {\n\t            return canonicalKey.join(',');\n\t        } else {\n\t            return canonicalKey.map(function (concept) {\n\t                return row[concept];\n\t            }).join(',');\n\t        }\n\t    }\n\t    function loadResource(resource, language, options) {\n\t        var filePromises = [];\n\t        if (typeof resource.data === 'undefined') {\n\t            resource.data = loadFile(options.datasetPath + '/' + resource.path, options);\n\t        }\n\t        filePromises.push(resource.data);\n\t        var languageValid = typeof language !== 'undefined' && getLanguages(options).includes(language);\n\t        var languageLoaded = typeof resource.translations[language] !== 'undefined';\n\t        if (languageValid) {\n\t            if (!languageLoaded) {\n\t                var translationPath = options.datasetPath + \"/lang/\" + language + \"/\" + resource.path;\n\t                resource.translations[language] = loadFile(translationPath, options).catch(function (err) {\n\t                    return Promise.resolve({});\n\t                });\n\t            }\n\t            filePromises.push(resource.translations[language]);\n\t        }\n\t        return Promise.all(filePromises).then(function (fileResponses) {\n\t            var filesData = fileResponses.map(function (resp) {\n\t                return resp.data || [];\n\t            });\n\t            var primaryKey = resource.schema.primaryKey;\n\t            var data = joinData.apply(undefined, [primaryKey, 'translation'].concat(_toConsumableArray(filesData)));\n\t            return { data: data, resource: resource };\n\t        });\n\t    }\n\t    function getLanguages(_ref8) {\n\t        var datapackage = _ref8.datapackage;\n\t\n\t        if (!datapackage.translations) {\n\t            return [];\n\t        }\n\t        return datapackage.translations.map(function (lang) {\n\t            return lang.id;\n\t        });\n\t    }\n\t    function loadFile(filePath, options) {\n\t        return new Promise(function (resolve, reject) {\n\t            fileReader.readText(filePath, function (err, data) {\n\t                if (err) {\n\t                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, filePath));\n\t                }\n\t                Papa.parse(data, {\n\t                    header: true,\n\t                    skipEmptyLines: true,\n\t                    dynamicTyping: function dynamicTyping(headerName) {\n\t                        if (!options.conceptsLookup) {\n\t                            return true;\n\t                        }\n\t                        var concept = options.conceptsLookup.get(headerName) || {};\n\t                        return ['boolean', 'measure'].includes(concept.concept_type);\n\t                    },\n\t                    complete: function complete(result) {\n\t                        return resolve(result);\n\t                    },\n\t                    error: function error(_error) {\n\t                        return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.CSV_PARSING_ERROR, _error, filePath));\n\t                    }\n\t                });\n\t            });\n\t        });\n\t    }\n\t    function buildResourcesLookup(datapackagePar) {\n\t        if (resourcesLookup.size > 0) {\n\t            return resourcesLookup;\n\t        }\n\t        datapackagePar.resources.forEach(function (resource) {\n\t            if (!Array.isArray(resource.schema.primaryKey)) {\n\t                resource.schema.primaryKey = [resource.schema.primaryKey];\n\t            }\n\t            resource.translations = {};\n\t            resourcesLookup.set(resource.name, resource);\n\t        });\n\t        return resourcesLookup;\n\t    }\n\t    function buildKeyValueLookup(datapackagePar) {\n\t        if (keyValueLookup.size > 0) {\n\t            return keyValueLookup;\n\t        }\n\t        for (var collection in datapackagePar.ddfSchema) {\n\t            datapackagePar.ddfSchema[collection].map(function (kvPair) {\n\t                var key = createKeyString(kvPair.primaryKey);\n\t                var resources = kvPair.resources.map(function (resourceName) {\n\t                    return resourcesLookup.get(resourceName);\n\t                });\n\t                if (keyValueLookup.has(key)) {\n\t                    keyValueLookup.get(key).set(kvPair.value, resources);\n\t                } else {\n\t                    keyValueLookup.set(key, new Map([[kvPair.value, resources]]));\n\t                }\n\t            });\n\t        }\n\t        return keyValueLookup;\n\t    }\n\t    return {\n\t        query: query\n\t    };\n\t}\n\texports.ddfCsvReader = ddfCsvReader;\n\t//# sourceMappingURL=ddf-csv.js.map\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseIndexOf = __webpack_require__(11),\n\t    isArrayLike = __webpack_require__(15),\n\t    isString = __webpack_require__(24),\n\t    toInteger = __webpack_require__(27),\n\t    values = __webpack_require__(31);\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeMax = Math.max;\n\t\n\t/**\n\t * Checks if `value` is in `collection`. If `collection` is a string, it's\n\t * checked for a substring of `value`, otherwise\n\t * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n\t * is used for equality comparisons. If `fromIndex` is negative, it's used as\n\t * the offset from the end of `collection`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object|string} collection The collection to inspect.\n\t * @param {*} value The value to search for.\n\t * @param {number} [fromIndex=0] The index to search from.\n\t * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n\t * @returns {boolean} Returns `true` if `value` is found, else `false`.\n\t * @example\n\t *\n\t * _.includes([1, 2, 3], 1);\n\t * // => true\n\t *\n\t * _.includes([1, 2, 3], 1, 2);\n\t * // => false\n\t *\n\t * _.includes({ 'a': 1, 'b': 2 }, 1);\n\t * // => true\n\t *\n\t * _.includes('abcd', 'bc');\n\t * // => true\n\t */\n\tfunction includes(collection, value, fromIndex, guard) {\n\t  collection = isArrayLike(collection) ? collection : values(collection);\n\t  fromIndex = fromIndex && !guard ? toInteger(fromIndex) : 0;\n\t\n\t  var length = collection.length;\n\t  if (fromIndex < 0) {\n\t    fromIndex = nativeMax(length + fromIndex, 0);\n\t  }\n\t  return isString(collection) ? fromIndex <= length && collection.indexOf(value, fromIndex) > -1 : !!length && baseIndexOf(collection, value, fromIndex) > -1;\n\t}\n\t\n\tmodule.exports = includes;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseFindIndex = __webpack_require__(12),\n\t    baseIsNaN = __webpack_require__(13),\n\t    strictIndexOf = __webpack_require__(14);\n\t\n\t/**\n\t * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n\t *\n\t * @private\n\t * @param {Array} array The array to inspect.\n\t * @param {*} value The value to search for.\n\t * @param {number} fromIndex The index to search from.\n\t * @returns {number} Returns the index of the matched value, else `-1`.\n\t */\n\tfunction baseIndexOf(array, value, fromIndex) {\n\t    return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);\n\t}\n\t\n\tmodule.exports = baseIndexOf;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * The base implementation of `_.findIndex` and `_.findLastIndex` without\n\t * support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array} array The array to inspect.\n\t * @param {Function} predicate The function invoked per iteration.\n\t * @param {number} fromIndex The index to search from.\n\t * @param {boolean} [fromRight] Specify iterating from right to left.\n\t * @returns {number} Returns the index of the matched value, else `-1`.\n\t */\n\tfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n\t  var length = array.length,\n\t      index = fromIndex + (fromRight ? 1 : -1);\n\t\n\t  while (fromRight ? index-- : ++index < length) {\n\t    if (predicate(array[index], index, array)) {\n\t      return index;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\t\n\tmodule.exports = baseFindIndex;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * The base implementation of `_.isNaN` without support for number objects.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n\t */\n\tfunction baseIsNaN(value) {\n\t  return value !== value;\n\t}\n\t\n\tmodule.exports = baseIsNaN;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * A specialized version of `_.indexOf` which performs strict equality\n\t * comparisons of values, i.e. `===`.\n\t *\n\t * @private\n\t * @param {Array} array The array to inspect.\n\t * @param {*} value The value to search for.\n\t * @param {number} fromIndex The index to search from.\n\t * @returns {number} Returns the index of the matched value, else `-1`.\n\t */\n\tfunction strictIndexOf(array, value, fromIndex) {\n\t  var index = fromIndex - 1,\n\t      length = array.length;\n\t\n\t  while (++index < length) {\n\t    if (array[index] === value) {\n\t      return index;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\t\n\tmodule.exports = strictIndexOf;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isFunction = __webpack_require__(16),\n\t    isLength = __webpack_require__(23);\n\t\n\t/**\n\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t * not a function and has a `value.length` that's an integer greater than or\n\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLike(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLike('abc');\n\t * // => true\n\t *\n\t * _.isArrayLike(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLike(value) {\n\t  return value != null && isLength(value.length) && !isFunction(value);\n\t}\n\t\n\tmodule.exports = isArrayLike;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseGetTag = __webpack_require__(17),\n\t    isObject = __webpack_require__(8);\n\t\n\t/** `Object#toString` result references. */\n\tvar asyncTag = '[object AsyncFunction]',\n\t    funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]',\n\t    proxyTag = '[object Proxy]';\n\t\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t    if (!isObject(value)) {\n\t        return false;\n\t    }\n\t    // The use of `Object#toString` avoids issues with the `typeof` operator\n\t    // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\t    var tag = baseGetTag(value);\n\t    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n\t}\n\t\n\tmodule.exports = isFunction;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Symbol = __webpack_require__(18),\n\t    getRawTag = __webpack_require__(21),\n\t    objectToString = __webpack_require__(22);\n\t\n\t/** `Object#toString` result references. */\n\tvar nullTag = '[object Null]',\n\t    undefinedTag = '[object Undefined]';\n\t\n\t/** Built-in value references. */\n\tvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\t\n\t/**\n\t * The base implementation of `getTag` without fallbacks for buggy environments.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @returns {string} Returns the `toStringTag`.\n\t */\n\tfunction baseGetTag(value) {\n\t    if (value == null) {\n\t        return value === undefined ? undefinedTag : nullTag;\n\t    }\n\t    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n\t}\n\t\n\tmodule.exports = baseGetTag;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar root = __webpack_require__(19);\n\t\n\t/** Built-in value references. */\n\tvar _Symbol = root.Symbol;\n\t\n\tmodule.exports = _Symbol;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar freeGlobal = __webpack_require__(20);\n\t\n\t/** Detect free variable `self`. */\n\tvar freeSelf = (typeof self === 'undefined' ? 'undefined' : _typeof(self)) == 'object' && self && self.Object === Object && self;\n\t\n\t/** Used as a reference to the global object. */\n\tvar root = freeGlobal || freeSelf || Function('return this')();\n\t\n\tmodule.exports = root;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/** Detect free variable `global` from Node.js. */\n\tvar freeGlobal = (typeof global === 'undefined' ? 'undefined' : _typeof(global)) == 'object' && global && global.Object === Object && global;\n\t\n\tmodule.exports = freeGlobal;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Symbol = __webpack_require__(18);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar nativeObjectToString = objectProto.toString;\n\t\n\t/** Built-in value references. */\n\tvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\t\n\t/**\n\t * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @returns {string} Returns the raw `toStringTag`.\n\t */\n\tfunction getRawTag(value) {\n\t  var isOwn = hasOwnProperty.call(value, symToStringTag),\n\t      tag = value[symToStringTag];\n\t\n\t  try {\n\t    value[symToStringTag] = undefined;\n\t    var unmasked = true;\n\t  } catch (e) {}\n\t\n\t  var result = nativeObjectToString.call(value);\n\t  if (unmasked) {\n\t    if (isOwn) {\n\t      value[symToStringTag] = tag;\n\t    } else {\n\t      delete value[symToStringTag];\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = getRawTag;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar nativeObjectToString = objectProto.toString;\n\t\n\t/**\n\t * Converts `value` to a string using `Object.prototype.toString`.\n\t *\n\t * @private\n\t * @param {*} value The value to convert.\n\t * @returns {string} Returns the converted string.\n\t */\n\tfunction objectToString(value) {\n\t  return nativeObjectToString.call(value);\n\t}\n\t\n\tmodule.exports = objectToString;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This method is loosely based on\n\t * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n\t * @example\n\t *\n\t * _.isLength(3);\n\t * // => true\n\t *\n\t * _.isLength(Number.MIN_VALUE);\n\t * // => false\n\t *\n\t * _.isLength(Infinity);\n\t * // => false\n\t *\n\t * _.isLength('3');\n\t * // => false\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\t\n\tmodule.exports = isLength;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseGetTag = __webpack_require__(17),\n\t    isArray = __webpack_require__(25),\n\t    isObjectLike = __webpack_require__(26);\n\t\n\t/** `Object#toString` result references. */\n\tvar stringTag = '[object String]';\n\t\n\t/**\n\t * Checks if `value` is classified as a `String` primitive or object.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n\t * @example\n\t *\n\t * _.isString('abc');\n\t * // => true\n\t *\n\t * _.isString(1);\n\t * // => false\n\t */\n\tfunction isString(value) {\n\t    return typeof value == 'string' || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;\n\t}\n\t\n\tmodule.exports = isString;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Checks if `value` is classified as an `Array` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n\t * @example\n\t *\n\t * _.isArray([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArray(document.body.children);\n\t * // => false\n\t *\n\t * _.isArray('abc');\n\t * // => false\n\t *\n\t * _.isArray(_.noop);\n\t * // => false\n\t */\n\tvar isArray = Array.isArray;\n\t\n\tmodule.exports = isArray;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Checks if `value` is object-like. A value is object-like if it's not `null`\n\t * and has a `typeof` result of \"object\".\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n\t * @example\n\t *\n\t * _.isObjectLike({});\n\t * // => true\n\t *\n\t * _.isObjectLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObjectLike(_.noop);\n\t * // => false\n\t *\n\t * _.isObjectLike(null);\n\t * // => false\n\t */\n\tfunction isObjectLike(value) {\n\t  return value != null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object';\n\t}\n\t\n\tmodule.exports = isObjectLike;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar toFinite = __webpack_require__(28);\n\t\n\t/**\n\t * Converts `value` to an integer.\n\t *\n\t * **Note:** This method is loosely based on\n\t * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to convert.\n\t * @returns {number} Returns the converted integer.\n\t * @example\n\t *\n\t * _.toInteger(3.2);\n\t * // => 3\n\t *\n\t * _.toInteger(Number.MIN_VALUE);\n\t * // => 0\n\t *\n\t * _.toInteger(Infinity);\n\t * // => 1.7976931348623157e+308\n\t *\n\t * _.toInteger('3.2');\n\t * // => 3\n\t */\n\tfunction toInteger(value) {\n\t  var result = toFinite(value),\n\t      remainder = result % 1;\n\t\n\t  return result === result ? remainder ? result - remainder : result : 0;\n\t}\n\t\n\tmodule.exports = toInteger;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar toNumber = __webpack_require__(29);\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar INFINITY = 1 / 0,\n\t    MAX_INTEGER = 1.7976931348623157e+308;\n\t\n\t/**\n\t * Converts `value` to a finite number.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.12.0\n\t * @category Lang\n\t * @param {*} value The value to convert.\n\t * @returns {number} Returns the converted number.\n\t * @example\n\t *\n\t * _.toFinite(3.2);\n\t * // => 3.2\n\t *\n\t * _.toFinite(Number.MIN_VALUE);\n\t * // => 5e-324\n\t *\n\t * _.toFinite(Infinity);\n\t * // => 1.7976931348623157e+308\n\t *\n\t * _.toFinite('3.2');\n\t * // => 3.2\n\t */\n\tfunction toFinite(value) {\n\t  if (!value) {\n\t    return value === 0 ? value : 0;\n\t  }\n\t  value = toNumber(value);\n\t  if (value === INFINITY || value === -INFINITY) {\n\t    var sign = value < 0 ? -1 : 1;\n\t    return sign * MAX_INTEGER;\n\t  }\n\t  return value === value ? value : 0;\n\t}\n\t\n\tmodule.exports = toFinite;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isObject = __webpack_require__(8),\n\t    isSymbol = __webpack_require__(30);\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar NAN = 0 / 0;\n\t\n\t/** Used to match leading and trailing whitespace. */\n\tvar reTrim = /^\\s+|\\s+$/g;\n\t\n\t/** Used to detect bad signed hexadecimal string values. */\n\tvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\t\n\t/** Used to detect binary string values. */\n\tvar reIsBinary = /^0b[01]+$/i;\n\t\n\t/** Used to detect octal string values. */\n\tvar reIsOctal = /^0o[0-7]+$/i;\n\t\n\t/** Built-in method references without a dependency on `root`. */\n\tvar freeParseInt = parseInt;\n\t\n\t/**\n\t * Converts `value` to a number.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to process.\n\t * @returns {number} Returns the number.\n\t * @example\n\t *\n\t * _.toNumber(3.2);\n\t * // => 3.2\n\t *\n\t * _.toNumber(Number.MIN_VALUE);\n\t * // => 5e-324\n\t *\n\t * _.toNumber(Infinity);\n\t * // => Infinity\n\t *\n\t * _.toNumber('3.2');\n\t * // => 3.2\n\t */\n\tfunction toNumber(value) {\n\t  if (typeof value == 'number') {\n\t    return value;\n\t  }\n\t  if (isSymbol(value)) {\n\t    return NAN;\n\t  }\n\t  if (isObject(value)) {\n\t    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n\t    value = isObject(other) ? other + '' : other;\n\t  }\n\t  if (typeof value != 'string') {\n\t    return value === 0 ? value : +value;\n\t  }\n\t  value = value.replace(reTrim, '');\n\t  var isBinary = reIsBinary.test(value);\n\t  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n\t}\n\t\n\tmodule.exports = toNumber;\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar baseGetTag = __webpack_require__(17),\n\t    isObjectLike = __webpack_require__(26);\n\t\n\t/** `Object#toString` result references. */\n\tvar symbolTag = '[object Symbol]';\n\t\n\t/**\n\t * Checks if `value` is classified as a `Symbol` primitive or object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n\t * @example\n\t *\n\t * _.isSymbol(Symbol.iterator);\n\t * // => true\n\t *\n\t * _.isSymbol('abc');\n\t * // => false\n\t */\n\tfunction isSymbol(value) {\n\t    return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n\t}\n\t\n\tmodule.exports = isSymbol;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseValues = __webpack_require__(32),\n\t    keys = __webpack_require__(34);\n\t\n\t/**\n\t * Creates an array of the own enumerable string keyed property values of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property values.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.values(new Foo);\n\t * // => [1, 2] (iteration order is not guaranteed)\n\t *\n\t * _.values('hi');\n\t * // => ['h', 'i']\n\t */\n\tfunction values(object) {\n\t  return object == null ? [] : baseValues(object, keys(object));\n\t}\n\t\n\tmodule.exports = values;\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar arrayMap = __webpack_require__(33);\n\t\n\t/**\n\t * The base implementation of `_.values` and `_.valuesIn` which creates an\n\t * array of `object` property values corresponding to the property names\n\t * of `props`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Array} props The property names to get values for.\n\t * @returns {Object} Returns the array of property values.\n\t */\n\tfunction baseValues(object, props) {\n\t  return arrayMap(props, function (key) {\n\t    return object[key];\n\t  });\n\t}\n\t\n\tmodule.exports = baseValues;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * A specialized version of `_.map` for arrays without support for iteratee\n\t * shorthands.\n\t *\n\t * @private\n\t * @param {Array} [array] The array to iterate over.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array} Returns the new mapped array.\n\t */\n\tfunction arrayMap(array, iteratee) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length,\n\t      result = Array(length);\n\t\n\t  while (++index < length) {\n\t    result[index] = iteratee(array[index], index, array);\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = arrayMap;\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar arrayLikeKeys = __webpack_require__(35),\n\t    baseKeys = __webpack_require__(47),\n\t    isArrayLike = __webpack_require__(15);\n\t\n\t/**\n\t * Creates an array of the own enumerable property names of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects. See the\n\t * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n\t * for more details.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.keys(new Foo);\n\t * // => ['a', 'b'] (iteration order is not guaranteed)\n\t *\n\t * _.keys('hi');\n\t * // => ['0', '1']\n\t */\n\tfunction keys(object) {\n\t  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n\t}\n\t\n\tmodule.exports = keys;\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseTimes = __webpack_require__(36),\n\t    isArguments = __webpack_require__(37),\n\t    isArray = __webpack_require__(25),\n\t    isBuffer = __webpack_require__(39),\n\t    isIndex = __webpack_require__(42),\n\t    isTypedArray = __webpack_require__(43);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Creates an array of the enumerable property names of the array-like `value`.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @param {boolean} inherited Specify returning inherited property names.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tfunction arrayLikeKeys(value, inherited) {\n\t  var isArr = isArray(value),\n\t      isArg = !isArr && isArguments(value),\n\t      isBuff = !isArr && !isArg && isBuffer(value),\n\t      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n\t      skipIndexes = isArr || isArg || isBuff || isType,\n\t      result = skipIndexes ? baseTimes(value.length, String) : [],\n\t      length = result.length;\n\t\n\t  for (var key in value) {\n\t    if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (\n\t    // Safari 9 has enumerable `arguments.length` in strict mode.\n\t    key == 'length' ||\n\t    // Node.js 0.10 has enumerable non-index properties on buffers.\n\t    isBuff && (key == 'offset' || key == 'parent') ||\n\t    // PhantomJS 2 has enumerable non-index properties on typed arrays.\n\t    isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') ||\n\t    // Skip index properties.\n\t    isIndex(key, length)))) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = arrayLikeKeys;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * The base implementation of `_.times` without support for iteratee shorthands\n\t * or max array length checks.\n\t *\n\t * @private\n\t * @param {number} n The number of times to invoke `iteratee`.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array} Returns the array of results.\n\t */\n\tfunction baseTimes(n, iteratee) {\n\t  var index = -1,\n\t      result = Array(n);\n\t\n\t  while (++index < n) {\n\t    result[index] = iteratee(index);\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = baseTimes;\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseIsArguments = __webpack_require__(38),\n\t    isObjectLike = __webpack_require__(26);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\n\t/**\n\t * Checks if `value` is likely an `arguments` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArguments(function() { return arguments; }());\n\t * // => true\n\t *\n\t * _.isArguments([1, 2, 3]);\n\t * // => false\n\t */\n\tvar isArguments = baseIsArguments(function () {\n\t    return arguments;\n\t}()) ? baseIsArguments : function (value) {\n\t    return isObjectLike(value) && hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n\t};\n\t\n\tmodule.exports = isArguments;\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseGetTag = __webpack_require__(17),\n\t    isObjectLike = __webpack_require__(26);\n\t\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]';\n\t\n\t/**\n\t * The base implementation of `_.isArguments`.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t */\n\tfunction baseIsArguments(value) {\n\t  return isObjectLike(value) && baseGetTag(value) == argsTag;\n\t}\n\t\n\tmodule.exports = baseIsArguments;\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar root = __webpack_require__(19),\n\t    stubFalse = __webpack_require__(41);\n\t\n\t/** Detect free variable `exports`. */\n\tvar freeExports = ( false ? 'undefined' : _typeof(exports)) == 'object' && exports && !exports.nodeType && exports;\n\t\n\t/** Detect free variable `module`. */\n\tvar freeModule = freeExports && ( false ? 'undefined' : _typeof(module)) == 'object' && module && !module.nodeType && module;\n\t\n\t/** Detect the popular CommonJS extension `module.exports`. */\n\tvar moduleExports = freeModule && freeModule.exports === freeExports;\n\t\n\t/** Built-in value references. */\n\tvar Buffer = moduleExports ? root.Buffer : undefined;\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\t\n\t/**\n\t * Checks if `value` is a buffer.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.3.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n\t * @example\n\t *\n\t * _.isBuffer(new Buffer(2));\n\t * // => true\n\t *\n\t * _.isBuffer(new Uint8Array(2));\n\t * // => false\n\t */\n\tvar isBuffer = nativeIsBuffer || stubFalse;\n\t\n\tmodule.exports = isBuffer;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(40)(module)))\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (module) {\n\t\tif (!module.webpackPolyfill) {\n\t\t\tmodule.deprecate = function () {};\n\t\t\tmodule.paths = [];\n\t\t\t// module.parent = undefined by default\n\t\t\tmodule.children = [];\n\t\t\tmodule.webpackPolyfill = 1;\n\t\t}\n\t\treturn module;\n\t};\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * This method returns `false`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.13.0\n\t * @category Util\n\t * @returns {boolean} Returns `false`.\n\t * @example\n\t *\n\t * _.times(2, _.stubFalse);\n\t * // => [false, false]\n\t */\n\tfunction stubFalse() {\n\t  return false;\n\t}\n\t\n\tmodule.exports = stubFalse;\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/** Used to detect unsigned integer values. */\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\t\n\t/**\n\t * Checks if `value` is a valid array-like index.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t */\n\tfunction isIndex(value, length) {\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t  return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n\t}\n\t\n\tmodule.exports = isIndex;\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseIsTypedArray = __webpack_require__(44),\n\t    baseUnary = __webpack_require__(45),\n\t    nodeUtil = __webpack_require__(46);\n\t\n\t/* Node.js helper references. */\n\tvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\t\n\t/**\n\t * Checks if `value` is classified as a typed array.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 3.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n\t * @example\n\t *\n\t * _.isTypedArray(new Uint8Array);\n\t * // => true\n\t *\n\t * _.isTypedArray([]);\n\t * // => false\n\t */\n\tvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\t\n\tmodule.exports = isTypedArray;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseGetTag = __webpack_require__(17),\n\t    isLength = __webpack_require__(23),\n\t    isObjectLike = __webpack_require__(26);\n\t\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]',\n\t    arrayTag = '[object Array]',\n\t    boolTag = '[object Boolean]',\n\t    dateTag = '[object Date]',\n\t    errorTag = '[object Error]',\n\t    funcTag = '[object Function]',\n\t    mapTag = '[object Map]',\n\t    numberTag = '[object Number]',\n\t    objectTag = '[object Object]',\n\t    regexpTag = '[object RegExp]',\n\t    setTag = '[object Set]',\n\t    stringTag = '[object String]',\n\t    weakMapTag = '[object WeakMap]';\n\t\n\tvar arrayBufferTag = '[object ArrayBuffer]',\n\t    dataViewTag = '[object DataView]',\n\t    float32Tag = '[object Float32Array]',\n\t    float64Tag = '[object Float64Array]',\n\t    int8Tag = '[object Int8Array]',\n\t    int16Tag = '[object Int16Array]',\n\t    int32Tag = '[object Int32Array]',\n\t    uint8Tag = '[object Uint8Array]',\n\t    uint8ClampedTag = '[object Uint8ClampedArray]',\n\t    uint16Tag = '[object Uint16Array]',\n\t    uint32Tag = '[object Uint32Array]';\n\t\n\t/** Used to identify `toStringTag` values of typed arrays. */\n\tvar typedArrayTags = {};\n\ttypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n\ttypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\t\n\t/**\n\t * The base implementation of `_.isTypedArray` without Node.js optimizations.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n\t */\n\tfunction baseIsTypedArray(value) {\n\t    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n\t}\n\t\n\tmodule.exports = baseIsTypedArray;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * The base implementation of `_.unary` without support for storing metadata.\n\t *\n\t * @private\n\t * @param {Function} func The function to cap arguments for.\n\t * @returns {Function} Returns the new capped function.\n\t */\n\tfunction baseUnary(func) {\n\t  return function (value) {\n\t    return func(value);\n\t  };\n\t}\n\t\n\tmodule.exports = baseUnary;\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar freeGlobal = __webpack_require__(20);\n\t\n\t/** Detect free variable `exports`. */\n\tvar freeExports = ( false ? 'undefined' : _typeof(exports)) == 'object' && exports && !exports.nodeType && exports;\n\t\n\t/** Detect free variable `module`. */\n\tvar freeModule = freeExports && ( false ? 'undefined' : _typeof(module)) == 'object' && module && !module.nodeType && module;\n\t\n\t/** Detect the popular CommonJS extension `module.exports`. */\n\tvar moduleExports = freeModule && freeModule.exports === freeExports;\n\t\n\t/** Detect free variable `process` from Node.js. */\n\tvar freeProcess = moduleExports && freeGlobal.process;\n\t\n\t/** Used to access faster Node.js helpers. */\n\tvar nodeUtil = function () {\n\t  try {\n\t    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n\t  } catch (e) {}\n\t}();\n\t\n\tmodule.exports = nodeUtil;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(40)(module)))\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isPrototype = __webpack_require__(48),\n\t    nativeKeys = __webpack_require__(49);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tfunction baseKeys(object) {\n\t  if (!isPrototype(object)) {\n\t    return nativeKeys(object);\n\t  }\n\t  var result = [];\n\t  for (var key in Object(object)) {\n\t    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = baseKeys;\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/**\n\t * Checks if `value` is likely a prototype object.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n\t */\n\tfunction isPrototype(value) {\n\t  var Ctor = value && value.constructor,\n\t      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n\t\n\t  return value === proto;\n\t}\n\t\n\tmodule.exports = isPrototype;\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar overArg = __webpack_require__(50);\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeKeys = overArg(Object.keys, Object);\n\t\n\tmodule.exports = nativeKeys;\n\n/***/ },\n/* 50 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Creates a unary function that invokes `func` with its argument transformed.\n\t *\n\t * @private\n\t * @param {Function} func The function to wrap.\n\t * @param {Function} transform The argument transform.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction overArg(func, transform) {\n\t  return function (arg) {\n\t    return func(transform(arg));\n\t  };\n\t}\n\t\n\tmodule.exports = overArg;\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseKeys = __webpack_require__(47),\n\t    getTag = __webpack_require__(52),\n\t    isArguments = __webpack_require__(37),\n\t    isArray = __webpack_require__(25),\n\t    isArrayLike = __webpack_require__(15),\n\t    isBuffer = __webpack_require__(39),\n\t    isPrototype = __webpack_require__(48),\n\t    isTypedArray = __webpack_require__(43);\n\t\n\t/** `Object#toString` result references. */\n\tvar mapTag = '[object Map]',\n\t    setTag = '[object Set]';\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Checks if `value` is an empty object, collection, map, or set.\n\t *\n\t * Objects are considered empty if they have no own enumerable string keyed\n\t * properties.\n\t *\n\t * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n\t * jQuery-like collections are considered empty if they have a `length` of `0`.\n\t * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n\t * @example\n\t *\n\t * _.isEmpty(null);\n\t * // => true\n\t *\n\t * _.isEmpty(true);\n\t * // => true\n\t *\n\t * _.isEmpty(1);\n\t * // => true\n\t *\n\t * _.isEmpty([1, 2, 3]);\n\t * // => false\n\t *\n\t * _.isEmpty({ 'a': 1 });\n\t * // => false\n\t */\n\tfunction isEmpty(value) {\n\t  if (value == null) {\n\t    return true;\n\t  }\n\t  if (isArrayLike(value) && (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' || isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n\t    return !value.length;\n\t  }\n\t  var tag = getTag(value);\n\t  if (tag == mapTag || tag == setTag) {\n\t    return !value.size;\n\t  }\n\t  if (isPrototype(value)) {\n\t    return !baseKeys(value).length;\n\t  }\n\t  for (var key in value) {\n\t    if (hasOwnProperty.call(value, key)) {\n\t      return false;\n\t    }\n\t  }\n\t  return true;\n\t}\n\t\n\tmodule.exports = isEmpty;\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar DataView = __webpack_require__(53),\n\t    Map = __webpack_require__(60),\n\t    Promise = __webpack_require__(61),\n\t    Set = __webpack_require__(62),\n\t    WeakMap = __webpack_require__(63),\n\t    baseGetTag = __webpack_require__(17),\n\t    toSource = __webpack_require__(58);\n\t\n\t/** `Object#toString` result references. */\n\tvar mapTag = '[object Map]',\n\t    objectTag = '[object Object]',\n\t    promiseTag = '[object Promise]',\n\t    setTag = '[object Set]',\n\t    weakMapTag = '[object WeakMap]';\n\t\n\tvar dataViewTag = '[object DataView]';\n\t\n\t/** Used to detect maps, sets, and weakmaps. */\n\tvar dataViewCtorString = toSource(DataView),\n\t    mapCtorString = toSource(Map),\n\t    promiseCtorString = toSource(Promise),\n\t    setCtorString = toSource(Set),\n\t    weakMapCtorString = toSource(WeakMap);\n\t\n\t/**\n\t * Gets the `toStringTag` of `value`.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @returns {string} Returns the `toStringTag`.\n\t */\n\tvar getTag = baseGetTag;\n\t\n\t// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n\tif (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n\t    getTag = function getTag(value) {\n\t        var result = baseGetTag(value),\n\t            Ctor = result == objectTag ? value.constructor : undefined,\n\t            ctorString = Ctor ? toSource(Ctor) : '';\n\t\n\t        if (ctorString) {\n\t            switch (ctorString) {\n\t                case dataViewCtorString:\n\t                    return dataViewTag;\n\t                case mapCtorString:\n\t                    return mapTag;\n\t                case promiseCtorString:\n\t                    return promiseTag;\n\t                case setCtorString:\n\t                    return setTag;\n\t                case weakMapCtorString:\n\t                    return weakMapTag;\n\t            }\n\t        }\n\t        return result;\n\t    };\n\t}\n\t\n\tmodule.exports = getTag;\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getNative = __webpack_require__(54),\n\t    root = __webpack_require__(19);\n\t\n\t/* Built-in method references that are verified to be native. */\n\tvar DataView = getNative(root, 'DataView');\n\t\n\tmodule.exports = DataView;\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseIsNative = __webpack_require__(55),\n\t    getValue = __webpack_require__(59);\n\t\n\t/**\n\t * Gets the native function at `key` of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {string} key The key of the method to get.\n\t * @returns {*} Returns the function if it's native, else `undefined`.\n\t */\n\tfunction getNative(object, key) {\n\t  var value = getValue(object, key);\n\t  return baseIsNative(value) ? value : undefined;\n\t}\n\t\n\tmodule.exports = getNative;\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isFunction = __webpack_require__(16),\n\t    isMasked = __webpack_require__(56),\n\t    isObject = __webpack_require__(8),\n\t    toSource = __webpack_require__(58);\n\t\n\t/**\n\t * Used to match `RegExp`\n\t * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n\t */\n\tvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\t\n\t/** Used to detect host constructors (Safari). */\n\tvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\t\n\t/** Used for built-in method references. */\n\tvar funcProto = Function.prototype,\n\t    objectProto = Object.prototype;\n\t\n\t/** Used to resolve the decompiled source of functions. */\n\tvar funcToString = funcProto.toString;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/** Used to detect if a method is native. */\n\tvar reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n\t\n\t/**\n\t * The base implementation of `_.isNative` without bad shim checks.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a native function,\n\t *  else `false`.\n\t */\n\tfunction baseIsNative(value) {\n\t  if (!isObject(value) || isMasked(value)) {\n\t    return false;\n\t  }\n\t  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n\t  return pattern.test(toSource(value));\n\t}\n\t\n\tmodule.exports = baseIsNative;\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar coreJsData = __webpack_require__(57);\n\t\n\t/** Used to detect methods masquerading as native. */\n\tvar maskSrcKey = function () {\n\t  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n\t  return uid ? 'Symbol(src)_1.' + uid : '';\n\t}();\n\t\n\t/**\n\t * Checks if `func` has its source masked.\n\t *\n\t * @private\n\t * @param {Function} func The function to check.\n\t * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n\t */\n\tfunction isMasked(func) {\n\t  return !!maskSrcKey && maskSrcKey in func;\n\t}\n\t\n\tmodule.exports = isMasked;\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar root = __webpack_require__(19);\n\t\n\t/** Used to detect overreaching core-js shims. */\n\tvar coreJsData = root['__core-js_shared__'];\n\t\n\tmodule.exports = coreJsData;\n\n/***/ },\n/* 58 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/** Used for built-in method references. */\n\tvar funcProto = Function.prototype;\n\t\n\t/** Used to resolve the decompiled source of functions. */\n\tvar funcToString = funcProto.toString;\n\t\n\t/**\n\t * Converts `func` to its source code.\n\t *\n\t * @private\n\t * @param {Function} func The function to convert.\n\t * @returns {string} Returns the source code.\n\t */\n\tfunction toSource(func) {\n\t  if (func != null) {\n\t    try {\n\t      return funcToString.call(func);\n\t    } catch (e) {}\n\t    try {\n\t      return func + '';\n\t    } catch (e) {}\n\t  }\n\t  return '';\n\t}\n\t\n\tmodule.exports = toSource;\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Gets the value at `key` of `object`.\n\t *\n\t * @private\n\t * @param {Object} [object] The object to query.\n\t * @param {string} key The key of the property to get.\n\t * @returns {*} Returns the property value.\n\t */\n\tfunction getValue(object, key) {\n\t  return object == null ? undefined : object[key];\n\t}\n\t\n\tmodule.exports = getValue;\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getNative = __webpack_require__(54),\n\t    root = __webpack_require__(19);\n\t\n\t/* Built-in method references that are verified to be native. */\n\tvar Map = getNative(root, 'Map');\n\t\n\tmodule.exports = Map;\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getNative = __webpack_require__(54),\n\t    root = __webpack_require__(19);\n\t\n\t/* Built-in method references that are verified to be native. */\n\tvar Promise = getNative(root, 'Promise');\n\t\n\tmodule.exports = Promise;\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getNative = __webpack_require__(54),\n\t    root = __webpack_require__(19);\n\t\n\t/* Built-in method references that are verified to be native. */\n\tvar Set = getNative(root, 'Set');\n\t\n\tmodule.exports = Set;\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getNative = __webpack_require__(54),\n\t    root = __webpack_require__(19);\n\t\n\t/* Built-in method references that are verified to be native. */\n\tvar WeakMap = getNative(root, 'WeakMap');\n\t\n\tmodule.exports = WeakMap;\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar in_clause_under_conjunction_plugin_1 = __webpack_require__(65);\n\tvar head = __webpack_require__(67);\n\tfunction getAppropriatePlugin(queryParam, options) {\n\t    var plugins = [new in_clause_under_conjunction_plugin_1.InClauseUnderConjunctionPlugin(queryParam, options)];\n\t    return head(plugins.filter(function (plugin) {\n\t        return plugin.isMatched();\n\t    }));\n\t}\n\texports.getAppropriatePlugin = getAppropriatePlugin;\n\t//# sourceMappingURL=index.js.map\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar tslib_1 = __webpack_require__(6);\n\tvar path = __webpack_require__(66);\n\tvar head = __webpack_require__(67);\n\tvar values = __webpack_require__(31);\n\tvar keys = __webpack_require__(34);\n\tvar get = __webpack_require__(68);\n\tvar flattenDeep = __webpack_require__(101);\n\tvar isEmpty = __webpack_require__(51);\n\tvar startsWith = __webpack_require__(105);\n\tvar includes = __webpack_require__(10);\n\tvar compact = __webpack_require__(107);\n\tvar ddfcsv_error_1 = __webpack_require__(4);\n\tvar Papa = __webpack_require__(108);\n\tvar WHERE_KEYWORD = 'where';\n\tvar JOIN_KEYWORD = 'join';\n\tvar KEY_KEYWORD = 'key';\n\tvar KEY_IN = '$in';\n\tvar KEY_AND = '$and';\n\tvar getFirstConditionClause = function getFirstConditionClause(clause) {\n\t    return head(values(clause));\n\t};\n\tvar getFirstKey = function getFirstKey(obj) {\n\t    return head(keys(obj));\n\t};\n\tvar isOneKeyBased = function isOneKeyBased(obj) {\n\t    return keys(obj).length === 1;\n\t};\n\t\n\tvar InClauseUnderConjunctionPlugin = function () {\n\t    function InClauseUnderConjunctionPlugin(queryParam, options) {\n\t        _classCallCheck(this, InClauseUnderConjunctionPlugin);\n\t\n\t        this.flow = {};\n\t        this.fileReader = options.fileReader;\n\t        this.datasetPath = options.datasetPath;\n\t        this.query = queryParam;\n\t        this.datapackage = options.datapackage;\n\t    }\n\t\n\t    _createClass(InClauseUnderConjunctionPlugin, [{\n\t        key: \"isMatched\",\n\t        value: function isMatched() {\n\t            this.flow.joinObject = get(this.query, JOIN_KEYWORD);\n\t            var mainAndClause = get(this.query, WHERE_KEYWORD);\n\t            var isMainAndClauseCorrect = isOneKeyBased(mainAndClause);\n\t            var joinKeys = keys(this.flow.joinObject);\n\t            var areJoinKeysSameAsKeyInWhereClause = true;\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                for (var _iterator = joinKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    var key = _step.value;\n\t\n\t                    var joinPart = get(this.flow.joinObject, key, {});\n\t                    var firstKey = getFirstKey(joinPart[WHERE_KEYWORD]);\n\t                    if (joinPart[KEY_KEYWORD] !== firstKey && firstKey !== KEY_AND) {\n\t                        areJoinKeysSameAsKeyInWhereClause = false;\n\t                        break;\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator.return) {\n\t                        _iterator.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return isMainAndClauseCorrect && !!this.flow.joinObject && areJoinKeysSameAsKeyInWhereClause;\n\t        }\n\t    }, {\n\t        key: \"getOptimalFilesSet\",\n\t        value: function getOptimalFilesSet() {\n\t            return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n\t                var result, data;\n\t                return regeneratorRuntime.wrap(function _callee$(_context) {\n\t                    while (1) {\n\t                        switch (_context.prev = _context.next) {\n\t                            case 0:\n\t                                if (!this.isMatched()) {\n\t                                    _context.next = 20;\n\t                                    break;\n\t                                }\n\t\n\t                                result = void 0;\n\t                                _context.prev = 2;\n\t\n\t                                this.fillResourceToFileHash();\n\t                                this.collectProcessableClauses();\n\t                                this.collectEntityFilesNames();\n\t                                _context.next = 8;\n\t                                return this.collectEntities();\n\t\n\t                            case 8:\n\t                                data = _context.sent;\n\t\n\t                                this.fillEntityValuesHash(data);\n\t                                this.getFilesGroupsQueryClause();\n\t                                result = this.getOptimalFilesGroup();\n\t                                _context.next = 17;\n\t                                break;\n\t\n\t                            case 14:\n\t                                _context.prev = 14;\n\t                                _context.t0 = _context[\"catch\"](2);\n\t                                return _context.abrupt(\"return\", []);\n\t\n\t                            case 17:\n\t                                return _context.abrupt(\"return\", result);\n\t\n\t                            case 20:\n\t                                throw new ddfcsv_error_1.DdfCsvError(\"Plugin \\\"InClauseUnderConjunction\\\" is not matched!\", 'InClauseUnderConjunction plugin');\n\t\n\t                            case 21:\n\t                            case \"end\":\n\t                                return _context.stop();\n\t                        }\n\t                    }\n\t                }, _callee, this, [[2, 14]]);\n\t            }));\n\t        }\n\t    }, {\n\t        key: \"fillResourceToFileHash\",\n\t        value: function fillResourceToFileHash() {\n\t            this.flow.resourceToFile = get(this.datapackage, 'resources', []).reduce(function (hash, resource) {\n\t                hash.set(resource.name, resource.path);\n\t                return hash;\n\t            }, new Map());\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"collectProcessableClauses\",\n\t        value: function collectProcessableClauses() {\n\t            var _this = this;\n\t\n\t            var joinKeys = keys(this.flow.joinObject);\n\t            this.flow.processableClauses = [];\n\t            var _iteratorNormalCompletion2 = true;\n\t            var _didIteratorError2 = false;\n\t            var _iteratorError2 = undefined;\n\t\n\t            try {\n\t                for (var _iterator2 = joinKeys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                    var joinKey = _step2.value;\n\t\n\t                    var where = get(this.flow.joinObject, joinKey + \".\" + WHERE_KEYWORD, {});\n\t                    if (this.singleAndField(where)) {\n\t                        var _flow$processableClau;\n\t\n\t                        (_flow$processableClau = this.flow.processableClauses).push.apply(_flow$processableClau, _toConsumableArray(flattenDeep(where[KEY_AND].map(function (el) {\n\t                            return _this.getProcessableClauses(el);\n\t                        }))));\n\t                    } else {\n\t                        var _flow$processableClau2;\n\t\n\t                        (_flow$processableClau2 = this.flow.processableClauses).push.apply(_flow$processableClau2, _toConsumableArray(this.getProcessableClauses(where)));\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError2 = true;\n\t                _iteratorError2 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                        _iterator2.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError2) {\n\t                        throw _iteratorError2;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"collectEntityFilesNames\",\n\t        value: function collectEntityFilesNames() {\n\t            this.flow.entityFilesNames = [];\n\t            this.flow.fileNameToPrimaryKeyHash = new Map();\n\t            var _iteratorNormalCompletion3 = true;\n\t            var _didIteratorError3 = false;\n\t            var _iteratorError3 = undefined;\n\t\n\t            try {\n\t                for (var _iterator3 = this.datapackage.ddfSchema.entities[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t                    var schemaResourceRecord = _step3.value;\n\t                    var _iteratorNormalCompletion4 = true;\n\t                    var _didIteratorError4 = false;\n\t                    var _iteratorError4 = undefined;\n\t\n\t                    try {\n\t                        for (var _iterator4 = this.flow.processableClauses[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t                            var clause = _step4.value;\n\t\n\t                            var primaryKey = getFirstKey(clause);\n\t                            if (head(schemaResourceRecord.primaryKey) === primaryKey) {\n\t                                var _iteratorNormalCompletion5 = true;\n\t                                var _didIteratorError5 = false;\n\t                                var _iteratorError5 = undefined;\n\t\n\t                                try {\n\t                                    for (var _iterator5 = schemaResourceRecord.resources[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n\t                                        var resourceName = _step5.value;\n\t\n\t                                        var file = this.flow.resourceToFile.get(resourceName);\n\t                                        this.flow.entityFilesNames.push(file);\n\t                                        this.flow.fileNameToPrimaryKeyHash.set(file, primaryKey);\n\t                                    }\n\t                                } catch (err) {\n\t                                    _didIteratorError5 = true;\n\t                                    _iteratorError5 = err;\n\t                                } finally {\n\t                                    try {\n\t                                        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n\t                                            _iterator5.return();\n\t                                        }\n\t                                    } finally {\n\t                                        if (_didIteratorError5) {\n\t                                            throw _iteratorError5;\n\t                                        }\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\t                    } catch (err) {\n\t                        _didIteratorError4 = true;\n\t                        _iteratorError4 = err;\n\t                    } finally {\n\t                        try {\n\t                            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t                                _iterator4.return();\n\t                            }\n\t                        } finally {\n\t                            if (_didIteratorError4) {\n\t                                throw _iteratorError4;\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError3 = true;\n\t                _iteratorError3 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t                        _iterator3.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError3) {\n\t                        throw _iteratorError3;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"collectEntities\",\n\t        value: function collectEntities() {\n\t            var self = this;\n\t            var actions = self.flow.entityFilesNames.map(function (file) {\n\t                return new Promise(function (actResolve, actReject) {\n\t                    self.fileReader.readText(path.resolve(self.datasetPath, file), function (err, text) {\n\t                        if (err) {\n\t                            return actReject(err);\n\t                        }\n\t                        Papa.parse(text, {\n\t                            header: true,\n\t                            skipEmptyLines: true,\n\t                            complete: function complete(result) {\n\t                                return actResolve({ file: file, result: result });\n\t                            },\n\t                            error: function error(_error) {\n\t                                return actReject(_error);\n\t                            }\n\t                        });\n\t                    });\n\t                });\n\t            });\n\t            return Promise.all(actions);\n\t        }\n\t    }, {\n\t        key: \"fillEntityValuesHash\",\n\t        value: function fillEntityValuesHash(entitiesData) {\n\t            var getSubdomainsFromRecord = function getSubdomainsFromRecord(record) {\n\t                return compact(keys(record).filter(function (key) {\n\t                    return startsWith(key, 'is--') && (record[key] === 'TRUE' || record[key] === 'true');\n\t                }).map(function (key) {\n\t                    return key.replace(/^is--/, '');\n\t                }));\n\t            };\n\t            this.flow.entityValueToFileHash = new Map();\n\t            this.flow.entityValueToDomainHash = new Map();\n\t            var _iteratorNormalCompletion6 = true;\n\t            var _didIteratorError6 = false;\n\t            var _iteratorError6 = undefined;\n\t\n\t            try {\n\t                for (var _iterator6 = entitiesData[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n\t                    var entityFileDescriptor = _step6.value;\n\t                    var _iteratorNormalCompletion7 = true;\n\t                    var _didIteratorError7 = false;\n\t                    var _iteratorError7 = undefined;\n\t\n\t                    try {\n\t                        for (var _iterator7 = entityFileDescriptor.result.data[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n\t                            var entityRecord = _step7.value;\n\t\n\t                            var primaryKeyForThisFile = this.flow.fileNameToPrimaryKeyHash.get(entityFileDescriptor.file);\n\t                            var primaryKeyCellValue = entityRecord[primaryKeyForThisFile];\n\t                            var domainsForCurrentRecord = [].concat(_toConsumableArray(getSubdomainsFromRecord(entityRecord)));\n\t                            if (isEmpty(domainsForCurrentRecord)) {\n\t                                domainsForCurrentRecord.push(primaryKeyForThisFile);\n\t                            }\n\t                            this.flow.entityValueToDomainHash.set(primaryKeyCellValue, domainsForCurrentRecord);\n\t                            this.flow.entityValueToFileHash.set(primaryKeyCellValue, entityFileDescriptor.file);\n\t                        }\n\t                    } catch (err) {\n\t                        _didIteratorError7 = true;\n\t                        _iteratorError7 = err;\n\t                    } finally {\n\t                        try {\n\t                            if (!_iteratorNormalCompletion7 && _iterator7.return) {\n\t                                _iterator7.return();\n\t                            }\n\t                        } finally {\n\t                            if (_didIteratorError7) {\n\t                                throw _iteratorError7;\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError6 = true;\n\t                _iteratorError6 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion6 && _iterator6.return) {\n\t                        _iterator6.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError6) {\n\t                        throw _iteratorError6;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"getFilesGroupsQueryClause\",\n\t        value: function getFilesGroupsQueryClause() {\n\t            var filesGroupsByClause = new Map();\n\t            var _iteratorNormalCompletion8 = true;\n\t            var _didIteratorError8 = false;\n\t            var _iteratorError8 = undefined;\n\t\n\t            try {\n\t                for (var _iterator8 = this.flow.processableClauses[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n\t                    var clause = _step8.value;\n\t\n\t                    var filesGroupByClause = {\n\t                        entities: new Set(),\n\t                        datapoints: new Set(),\n\t                        concepts: new Set()\n\t                    };\n\t                    var entityValuesFromClause = getFirstConditionClause(clause).$in;\n\t                    var _iteratorNormalCompletion9 = true;\n\t                    var _didIteratorError9 = false;\n\t                    var _iteratorError9 = undefined;\n\t\n\t                    try {\n\t                        for (var _iterator9 = entityValuesFromClause[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n\t                            var entityValueFromClause = _step9.value;\n\t\n\t                            filesGroupByClause.entities.add(this.flow.entityValueToFileHash.get(entityValueFromClause));\n\t                            var entitiesByQuery = this.flow.entityValueToDomainHash.get(entityValueFromClause);\n\t                            var _iteratorNormalCompletion11 = true;\n\t                            var _didIteratorError11 = false;\n\t                            var _iteratorError11 = undefined;\n\t\n\t                            try {\n\t                                for (var _iterator11 = entitiesByQuery[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n\t                                    var entityByQuery = _step11.value;\n\t                                    var _iteratorNormalCompletion12 = true;\n\t                                    var _didIteratorError12 = false;\n\t                                    var _iteratorError12 = undefined;\n\t\n\t                                    try {\n\t                                        for (var _iterator12 = this.datapackage.ddfSchema.datapoints[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n\t                                            var schemaResourceRecord = _step12.value;\n\t                                            var _iteratorNormalCompletion13 = true;\n\t                                            var _didIteratorError13 = false;\n\t                                            var _iteratorError13 = undefined;\n\t\n\t                                            try {\n\t                                                for (var _iterator13 = schemaResourceRecord.resources[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n\t                                                    var resourceName = _step13.value;\n\t\n\t                                                    if (includes(schemaResourceRecord.primaryKey, entityByQuery)) {\n\t                                                        filesGroupByClause.datapoints.add(this.flow.resourceToFile.get(resourceName));\n\t                                                    }\n\t                                                }\n\t                                            } catch (err) {\n\t                                                _didIteratorError13 = true;\n\t                                                _iteratorError13 = err;\n\t                                            } finally {\n\t                                                try {\n\t                                                    if (!_iteratorNormalCompletion13 && _iterator13.return) {\n\t                                                        _iterator13.return();\n\t                                                    }\n\t                                                } finally {\n\t                                                    if (_didIteratorError13) {\n\t                                                        throw _iteratorError13;\n\t                                                    }\n\t                                                }\n\t                                            }\n\t                                        }\n\t                                    } catch (err) {\n\t                                        _didIteratorError12 = true;\n\t                                        _iteratorError12 = err;\n\t                                    } finally {\n\t                                        try {\n\t                                            if (!_iteratorNormalCompletion12 && _iterator12.return) {\n\t                                                _iterator12.return();\n\t                                            }\n\t                                        } finally {\n\t                                            if (_didIteratorError12) {\n\t                                                throw _iteratorError12;\n\t                                            }\n\t                                        }\n\t                                    }\n\t                                }\n\t                            } catch (err) {\n\t                                _didIteratorError11 = true;\n\t                                _iteratorError11 = err;\n\t                            } finally {\n\t                                try {\n\t                                    if (!_iteratorNormalCompletion11 && _iterator11.return) {\n\t                                        _iterator11.return();\n\t                                    }\n\t                                } finally {\n\t                                    if (_didIteratorError11) {\n\t                                        throw _iteratorError11;\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\t                    } catch (err) {\n\t                        _didIteratorError9 = true;\n\t                        _iteratorError9 = err;\n\t                    } finally {\n\t                        try {\n\t                            if (!_iteratorNormalCompletion9 && _iterator9.return) {\n\t                                _iterator9.return();\n\t                            }\n\t                        } finally {\n\t                            if (_didIteratorError9) {\n\t                                throw _iteratorError9;\n\t                            }\n\t                        }\n\t                    }\n\t\n\t                    var _iteratorNormalCompletion10 = true;\n\t                    var _didIteratorError10 = false;\n\t                    var _iteratorError10 = undefined;\n\t\n\t                    try {\n\t                        for (var _iterator10 = this.datapackage.ddfSchema.concepts[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n\t                            var _schemaResourceRecord = _step10.value;\n\t                            var _iteratorNormalCompletion14 = true;\n\t                            var _didIteratorError14 = false;\n\t                            var _iteratorError14 = undefined;\n\t\n\t                            try {\n\t                                for (var _iterator14 = _schemaResourceRecord.resources[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n\t                                    var _resourceName = _step14.value;\n\t\n\t                                    filesGroupByClause.concepts.add(this.flow.resourceToFile.get(_resourceName));\n\t                                }\n\t                            } catch (err) {\n\t                                _didIteratorError14 = true;\n\t                                _iteratorError14 = err;\n\t                            } finally {\n\t                                try {\n\t                                    if (!_iteratorNormalCompletion14 && _iterator14.return) {\n\t                                        _iterator14.return();\n\t                                    }\n\t                                } finally {\n\t                                    if (_didIteratorError14) {\n\t                                        throw _iteratorError14;\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\t                    } catch (err) {\n\t                        _didIteratorError10 = true;\n\t                        _iteratorError10 = err;\n\t                    } finally {\n\t                        try {\n\t                            if (!_iteratorNormalCompletion10 && _iterator10.return) {\n\t                                _iterator10.return();\n\t                            }\n\t                        } finally {\n\t                            if (_didIteratorError10) {\n\t                                throw _iteratorError10;\n\t                            }\n\t                        }\n\t                    }\n\t\n\t                    filesGroupsByClause.set(clause, filesGroupByClause);\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError8 = true;\n\t                _iteratorError8 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion8 && _iterator8.return) {\n\t                        _iterator8.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError8) {\n\t                        throw _iteratorError8;\n\t                    }\n\t                }\n\t            }\n\t\n\t            this.flow.filesGroupsByClause = filesGroupsByClause;\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"getOptimalFilesGroup\",\n\t        value: function getOptimalFilesGroup() {\n\t            var clauseKeys = this.flow.filesGroupsByClause.keys();\n\t            var appropriateClauseKey = void 0;\n\t            var appropriateClauseSize = void 0;\n\t            var _iteratorNormalCompletion15 = true;\n\t            var _didIteratorError15 = false;\n\t            var _iteratorError15 = undefined;\n\t\n\t            try {\n\t                for (var _iterator15 = clauseKeys[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {\n\t                    var key = _step15.value;\n\t\n\t                    var size = this.flow.filesGroupsByClause.get(key).datapoints.size + this.flow.filesGroupsByClause.get(key).entities.size + this.flow.filesGroupsByClause.get(key).concepts.size;\n\t                    if (!appropriateClauseKey || size < appropriateClauseSize) {\n\t                        appropriateClauseKey = key;\n\t                        appropriateClauseSize = size;\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError15 = true;\n\t                _iteratorError15 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion15 && _iterator15.return) {\n\t                        _iterator15.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError15) {\n\t                        throw _iteratorError15;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return [].concat(_toConsumableArray(Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).concepts)), _toConsumableArray(Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).entities)), _toConsumableArray(Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).datapoints)));\n\t        }\n\t    }, {\n\t        key: \"getProcessableClauses\",\n\t        value: function getProcessableClauses(clause) {\n\t            var result = [];\n\t            var clauseKeys = keys(clause);\n\t            var _iteratorNormalCompletion16 = true;\n\t            var _didIteratorError16 = false;\n\t            var _iteratorError16 = undefined;\n\t\n\t            try {\n\t                for (var _iterator16 = clauseKeys[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {\n\t                    var key = _step16.value;\n\t\n\t                    if (!startsWith(key, '$') && isOneKeyBased(clause[key])) {\n\t                        var conditionKey = head(keys(clause[key]));\n\t                        if (conditionKey === KEY_IN) {\n\t                            result.push(clause);\n\t                        }\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError16 = true;\n\t                _iteratorError16 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion16 && _iterator16.return) {\n\t                        _iterator16.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError16) {\n\t                        throw _iteratorError16;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return result;\n\t        }\n\t    }, {\n\t        key: \"singleAndField\",\n\t        value: function singleAndField(clause) {\n\t            return isOneKeyBased(clause) && !!get(clause, KEY_AND);\n\t        }\n\t    }]);\n\t\n\t    return InClauseUnderConjunctionPlugin;\n\t}();\n\t\n\texports.InClauseUnderConjunctionPlugin = InClauseUnderConjunctionPlugin;\n\t//# sourceMappingURL=in-clause-under-conjunction-plugin.js.map\n\n/***/ },\n/* 66 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"path\");\n\n/***/ },\n/* 67 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Gets the first element of `array`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @alias first\n\t * @category Array\n\t * @param {Array} array The array to query.\n\t * @returns {*} Returns the first element of `array`.\n\t * @example\n\t *\n\t * _.head([1, 2, 3]);\n\t * // => 1\n\t *\n\t * _.head([]);\n\t * // => undefined\n\t */\n\tfunction head(array) {\n\t  return array && array.length ? array[0] : undefined;\n\t}\n\t\n\tmodule.exports = head;\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseGet = __webpack_require__(69);\n\t\n\t/**\n\t * Gets the value at `path` of `object`. If the resolved value is\n\t * `undefined`, the `defaultValue` is returned in its place.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 3.7.0\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path of the property to get.\n\t * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n\t * @returns {*} Returns the resolved value.\n\t * @example\n\t *\n\t * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n\t *\n\t * _.get(object, 'a[0].b.c');\n\t * // => 3\n\t *\n\t * _.get(object, ['a', '0', 'b', 'c']);\n\t * // => 3\n\t *\n\t * _.get(object, 'a.b.c', 'default');\n\t * // => 'default'\n\t */\n\tfunction get(object, path, defaultValue) {\n\t  var result = object == null ? undefined : baseGet(object, path);\n\t  return result === undefined ? defaultValue : result;\n\t}\n\t\n\tmodule.exports = get;\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar castPath = __webpack_require__(70),\n\t    toKey = __webpack_require__(100);\n\t\n\t/**\n\t * The base implementation of `_.get` without support for default values.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path of the property to get.\n\t * @returns {*} Returns the resolved value.\n\t */\n\tfunction baseGet(object, path) {\n\t  path = castPath(path, object);\n\t\n\t  var index = 0,\n\t      length = path.length;\n\t\n\t  while (object != null && index < length) {\n\t    object = object[toKey(path[index++])];\n\t  }\n\t  return index && index == length ? object : undefined;\n\t}\n\t\n\tmodule.exports = baseGet;\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isArray = __webpack_require__(25),\n\t    isKey = __webpack_require__(71),\n\t    stringToPath = __webpack_require__(72),\n\t    toString = __webpack_require__(98);\n\t\n\t/**\n\t * Casts `value` to a path array if it's not one.\n\t *\n\t * @private\n\t * @param {*} value The value to inspect.\n\t * @param {Object} [object] The object to query keys on.\n\t * @returns {Array} Returns the cast property path array.\n\t */\n\tfunction castPath(value, object) {\n\t  if (isArray(value)) {\n\t    return value;\n\t  }\n\t  return isKey(value, object) ? [value] : stringToPath(toString(value));\n\t}\n\t\n\tmodule.exports = castPath;\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar isArray = __webpack_require__(25),\n\t    isSymbol = __webpack_require__(30);\n\t\n\t/** Used to match property names within property paths. */\n\tvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n\t    reIsPlainProp = /^\\w*$/;\n\t\n\t/**\n\t * Checks if `value` is a property name and not a property path.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {Object} [object] The object to query keys on.\n\t * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n\t */\n\tfunction isKey(value, object) {\n\t  if (isArray(value)) {\n\t    return false;\n\t  }\n\t  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\t  if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {\n\t    return true;\n\t  }\n\t  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n\t}\n\t\n\tmodule.exports = isKey;\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar memoizeCapped = __webpack_require__(73);\n\t\n\t/** Used to match property names within property paths. */\n\tvar reLeadingDot = /^\\./,\n\t    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\t\n\t/** Used to match backslashes in property paths. */\n\tvar reEscapeChar = /\\\\(\\\\)?/g;\n\t\n\t/**\n\t * Converts `string` to a property path array.\n\t *\n\t * @private\n\t * @param {string} string The string to convert.\n\t * @returns {Array} Returns the property path array.\n\t */\n\tvar stringToPath = memoizeCapped(function (string) {\n\t  var result = [];\n\t  if (reLeadingDot.test(string)) {\n\t    result.push('');\n\t  }\n\t  string.replace(rePropName, function (match, number, quote, string) {\n\t    result.push(quote ? string.replace(reEscapeChar, '$1') : number || match);\n\t  });\n\t  return result;\n\t});\n\t\n\tmodule.exports = stringToPath;\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar memoize = __webpack_require__(74);\n\t\n\t/** Used as the maximum memoize cache size. */\n\tvar MAX_MEMOIZE_SIZE = 500;\n\t\n\t/**\n\t * A specialized version of `_.memoize` which clears the memoized function's\n\t * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n\t *\n\t * @private\n\t * @param {Function} func The function to have its output memoized.\n\t * @returns {Function} Returns the new memoized function.\n\t */\n\tfunction memoizeCapped(func) {\n\t  var result = memoize(func, function (key) {\n\t    if (cache.size === MAX_MEMOIZE_SIZE) {\n\t      cache.clear();\n\t    }\n\t    return key;\n\t  });\n\t\n\t  var cache = result.cache;\n\t  return result;\n\t}\n\t\n\tmodule.exports = memoizeCapped;\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar MapCache = __webpack_require__(75);\n\t\n\t/** Error message constants. */\n\tvar FUNC_ERROR_TEXT = 'Expected a function';\n\t\n\t/**\n\t * Creates a function that memoizes the result of `func`. If `resolver` is\n\t * provided, it determines the cache key for storing the result based on the\n\t * arguments provided to the memoized function. By default, the first argument\n\t * provided to the memoized function is used as the map cache key. The `func`\n\t * is invoked with the `this` binding of the memoized function.\n\t *\n\t * **Note:** The cache is exposed as the `cache` property on the memoized\n\t * function. Its creation may be customized by replacing the `_.memoize.Cache`\n\t * constructor with one whose instances implement the\n\t * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n\t * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Function\n\t * @param {Function} func The function to have its output memoized.\n\t * @param {Function} [resolver] The function to resolve the cache key.\n\t * @returns {Function} Returns the new memoized function.\n\t * @example\n\t *\n\t * var object = { 'a': 1, 'b': 2 };\n\t * var other = { 'c': 3, 'd': 4 };\n\t *\n\t * var values = _.memoize(_.values);\n\t * values(object);\n\t * // => [1, 2]\n\t *\n\t * values(other);\n\t * // => [3, 4]\n\t *\n\t * object.a = 2;\n\t * values(object);\n\t * // => [1, 2]\n\t *\n\t * // Modify the result cache.\n\t * values.cache.set(object, ['a', 'b']);\n\t * values(object);\n\t * // => ['a', 'b']\n\t *\n\t * // Replace `_.memoize.Cache`.\n\t * _.memoize.Cache = WeakMap;\n\t */\n\tfunction memoize(func, resolver) {\n\t  if (typeof func != 'function' || resolver != null && typeof resolver != 'function') {\n\t    throw new TypeError(FUNC_ERROR_TEXT);\n\t  }\n\t  var memoized = function memoized() {\n\t    var args = arguments,\n\t        key = resolver ? resolver.apply(this, args) : args[0],\n\t        cache = memoized.cache;\n\t\n\t    if (cache.has(key)) {\n\t      return cache.get(key);\n\t    }\n\t    var result = func.apply(this, args);\n\t    memoized.cache = cache.set(key, result) || cache;\n\t    return result;\n\t  };\n\t  memoized.cache = new (memoize.Cache || MapCache)();\n\t  return memoized;\n\t}\n\t\n\t// Expose `MapCache`.\n\tmemoize.Cache = MapCache;\n\t\n\tmodule.exports = memoize;\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar mapCacheClear = __webpack_require__(76),\n\t    mapCacheDelete = __webpack_require__(92),\n\t    mapCacheGet = __webpack_require__(95),\n\t    mapCacheHas = __webpack_require__(96),\n\t    mapCacheSet = __webpack_require__(97);\n\t\n\t/**\n\t * Creates a map cache object to store key-value pairs.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [entries] The key-value pairs to cache.\n\t */\n\tfunction MapCache(entries) {\n\t    var index = -1,\n\t        length = entries == null ? 0 : entries.length;\n\t\n\t    this.clear();\n\t    while (++index < length) {\n\t        var entry = entries[index];\n\t        this.set(entry[0], entry[1]);\n\t    }\n\t}\n\t\n\t// Add methods to `MapCache`.\n\tMapCache.prototype.clear = mapCacheClear;\n\tMapCache.prototype['delete'] = mapCacheDelete;\n\tMapCache.prototype.get = mapCacheGet;\n\tMapCache.prototype.has = mapCacheHas;\n\tMapCache.prototype.set = mapCacheSet;\n\t\n\tmodule.exports = MapCache;\n\n/***/ },\n/* 76 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Hash = __webpack_require__(77),\n\t    ListCache = __webpack_require__(84),\n\t    Map = __webpack_require__(60);\n\t\n\t/**\n\t * Removes all key-value entries from the map.\n\t *\n\t * @private\n\t * @name clear\n\t * @memberOf MapCache\n\t */\n\tfunction mapCacheClear() {\n\t  this.size = 0;\n\t  this.__data__ = {\n\t    'hash': new Hash(),\n\t    'map': new (Map || ListCache)(),\n\t    'string': new Hash()\n\t  };\n\t}\n\t\n\tmodule.exports = mapCacheClear;\n\n/***/ },\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar hashClear = __webpack_require__(78),\n\t    hashDelete = __webpack_require__(80),\n\t    hashGet = __webpack_require__(81),\n\t    hashHas = __webpack_require__(82),\n\t    hashSet = __webpack_require__(83);\n\t\n\t/**\n\t * Creates a hash object.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [entries] The key-value pairs to cache.\n\t */\n\tfunction Hash(entries) {\n\t    var index = -1,\n\t        length = entries == null ? 0 : entries.length;\n\t\n\t    this.clear();\n\t    while (++index < length) {\n\t        var entry = entries[index];\n\t        this.set(entry[0], entry[1]);\n\t    }\n\t}\n\t\n\t// Add methods to `Hash`.\n\tHash.prototype.clear = hashClear;\n\tHash.prototype['delete'] = hashDelete;\n\tHash.prototype.get = hashGet;\n\tHash.prototype.has = hashHas;\n\tHash.prototype.set = hashSet;\n\t\n\tmodule.exports = Hash;\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nativeCreate = __webpack_require__(79);\n\t\n\t/**\n\t * Removes all key-value entries from the hash.\n\t *\n\t * @private\n\t * @name clear\n\t * @memberOf Hash\n\t */\n\tfunction hashClear() {\n\t  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n\t  this.size = 0;\n\t}\n\t\n\tmodule.exports = hashClear;\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getNative = __webpack_require__(54);\n\t\n\t/* Built-in method references that are verified to be native. */\n\tvar nativeCreate = getNative(Object, 'create');\n\t\n\tmodule.exports = nativeCreate;\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Removes `key` and its value from the hash.\n\t *\n\t * @private\n\t * @name delete\n\t * @memberOf Hash\n\t * @param {Object} hash The hash to modify.\n\t * @param {string} key The key of the value to remove.\n\t * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n\t */\n\tfunction hashDelete(key) {\n\t  var result = this.has(key) && delete this.__data__[key];\n\t  this.size -= result ? 1 : 0;\n\t  return result;\n\t}\n\t\n\tmodule.exports = hashDelete;\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nativeCreate = __webpack_require__(79);\n\t\n\t/** Used to stand-in for `undefined` hash values. */\n\tvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Gets the hash value for `key`.\n\t *\n\t * @private\n\t * @name get\n\t * @memberOf Hash\n\t * @param {string} key The key of the value to get.\n\t * @returns {*} Returns the entry value.\n\t */\n\tfunction hashGet(key) {\n\t  var data = this.__data__;\n\t  if (nativeCreate) {\n\t    var result = data[key];\n\t    return result === HASH_UNDEFINED ? undefined : result;\n\t  }\n\t  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n\t}\n\t\n\tmodule.exports = hashGet;\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nativeCreate = __webpack_require__(79);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Checks if a hash value for `key` exists.\n\t *\n\t * @private\n\t * @name has\n\t * @memberOf Hash\n\t * @param {string} key The key of the entry to check.\n\t * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n\t */\n\tfunction hashHas(key) {\n\t  var data = this.__data__;\n\t  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n\t}\n\t\n\tmodule.exports = hashHas;\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar nativeCreate = __webpack_require__(79);\n\t\n\t/** Used to stand-in for `undefined` hash values. */\n\tvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\t\n\t/**\n\t * Sets the hash `key` to `value`.\n\t *\n\t * @private\n\t * @name set\n\t * @memberOf Hash\n\t * @param {string} key The key of the value to set.\n\t * @param {*} value The value to set.\n\t * @returns {Object} Returns the hash instance.\n\t */\n\tfunction hashSet(key, value) {\n\t  var data = this.__data__;\n\t  this.size += this.has(key) ? 0 : 1;\n\t  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n\t  return this;\n\t}\n\t\n\tmodule.exports = hashSet;\n\n/***/ },\n/* 84 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar listCacheClear = __webpack_require__(85),\n\t    listCacheDelete = __webpack_require__(86),\n\t    listCacheGet = __webpack_require__(89),\n\t    listCacheHas = __webpack_require__(90),\n\t    listCacheSet = __webpack_require__(91);\n\t\n\t/**\n\t * Creates an list cache object.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [entries] The key-value pairs to cache.\n\t */\n\tfunction ListCache(entries) {\n\t    var index = -1,\n\t        length = entries == null ? 0 : entries.length;\n\t\n\t    this.clear();\n\t    while (++index < length) {\n\t        var entry = entries[index];\n\t        this.set(entry[0], entry[1]);\n\t    }\n\t}\n\t\n\t// Add methods to `ListCache`.\n\tListCache.prototype.clear = listCacheClear;\n\tListCache.prototype['delete'] = listCacheDelete;\n\tListCache.prototype.get = listCacheGet;\n\tListCache.prototype.has = listCacheHas;\n\tListCache.prototype.set = listCacheSet;\n\t\n\tmodule.exports = ListCache;\n\n/***/ },\n/* 85 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Removes all key-value entries from the list cache.\n\t *\n\t * @private\n\t * @name clear\n\t * @memberOf ListCache\n\t */\n\tfunction listCacheClear() {\n\t  this.__data__ = [];\n\t  this.size = 0;\n\t}\n\t\n\tmodule.exports = listCacheClear;\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar assocIndexOf = __webpack_require__(87);\n\t\n\t/** Used for built-in method references. */\n\tvar arrayProto = Array.prototype;\n\t\n\t/** Built-in value references. */\n\tvar splice = arrayProto.splice;\n\t\n\t/**\n\t * Removes `key` and its value from the list cache.\n\t *\n\t * @private\n\t * @name delete\n\t * @memberOf ListCache\n\t * @param {string} key The key of the value to remove.\n\t * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n\t */\n\tfunction listCacheDelete(key) {\n\t  var data = this.__data__,\n\t      index = assocIndexOf(data, key);\n\t\n\t  if (index < 0) {\n\t    return false;\n\t  }\n\t  var lastIndex = data.length - 1;\n\t  if (index == lastIndex) {\n\t    data.pop();\n\t  } else {\n\t    splice.call(data, index, 1);\n\t  }\n\t  --this.size;\n\t  return true;\n\t}\n\t\n\tmodule.exports = listCacheDelete;\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar eq = __webpack_require__(88);\n\t\n\t/**\n\t * Gets the index at which the `key` is found in `array` of key-value pairs.\n\t *\n\t * @private\n\t * @param {Array} array The array to inspect.\n\t * @param {*} key The key to search for.\n\t * @returns {number} Returns the index of the matched value, else `-1`.\n\t */\n\tfunction assocIndexOf(array, key) {\n\t  var length = array.length;\n\t  while (length--) {\n\t    if (eq(array[length][0], key)) {\n\t      return length;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\t\n\tmodule.exports = assocIndexOf;\n\n/***/ },\n/* 88 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Performs a\n\t * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n\t * comparison between two values to determine if they are equivalent.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t * @example\n\t *\n\t * var object = { 'a': 1 };\n\t * var other = { 'a': 1 };\n\t *\n\t * _.eq(object, object);\n\t * // => true\n\t *\n\t * _.eq(object, other);\n\t * // => false\n\t *\n\t * _.eq('a', 'a');\n\t * // => true\n\t *\n\t * _.eq('a', Object('a'));\n\t * // => false\n\t *\n\t * _.eq(NaN, NaN);\n\t * // => true\n\t */\n\tfunction eq(value, other) {\n\t  return value === other || value !== value && other !== other;\n\t}\n\t\n\tmodule.exports = eq;\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar assocIndexOf = __webpack_require__(87);\n\t\n\t/**\n\t * Gets the list cache value for `key`.\n\t *\n\t * @private\n\t * @name get\n\t * @memberOf ListCache\n\t * @param {string} key The key of the value to get.\n\t * @returns {*} Returns the entry value.\n\t */\n\tfunction listCacheGet(key) {\n\t  var data = this.__data__,\n\t      index = assocIndexOf(data, key);\n\t\n\t  return index < 0 ? undefined : data[index][1];\n\t}\n\t\n\tmodule.exports = listCacheGet;\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar assocIndexOf = __webpack_require__(87);\n\t\n\t/**\n\t * Checks if a list cache value for `key` exists.\n\t *\n\t * @private\n\t * @name has\n\t * @memberOf ListCache\n\t * @param {string} key The key of the entry to check.\n\t * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n\t */\n\tfunction listCacheHas(key) {\n\t  return assocIndexOf(this.__data__, key) > -1;\n\t}\n\t\n\tmodule.exports = listCacheHas;\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar assocIndexOf = __webpack_require__(87);\n\t\n\t/**\n\t * Sets the list cache `key` to `value`.\n\t *\n\t * @private\n\t * @name set\n\t * @memberOf ListCache\n\t * @param {string} key The key of the value to set.\n\t * @param {*} value The value to set.\n\t * @returns {Object} Returns the list cache instance.\n\t */\n\tfunction listCacheSet(key, value) {\n\t  var data = this.__data__,\n\t      index = assocIndexOf(data, key);\n\t\n\t  if (index < 0) {\n\t    ++this.size;\n\t    data.push([key, value]);\n\t  } else {\n\t    data[index][1] = value;\n\t  }\n\t  return this;\n\t}\n\t\n\tmodule.exports = listCacheSet;\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getMapData = __webpack_require__(93);\n\t\n\t/**\n\t * Removes `key` and its value from the map.\n\t *\n\t * @private\n\t * @name delete\n\t * @memberOf MapCache\n\t * @param {string} key The key of the value to remove.\n\t * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n\t */\n\tfunction mapCacheDelete(key) {\n\t  var result = getMapData(this, key)['delete'](key);\n\t  this.size -= result ? 1 : 0;\n\t  return result;\n\t}\n\t\n\tmodule.exports = mapCacheDelete;\n\n/***/ },\n/* 93 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isKeyable = __webpack_require__(94);\n\t\n\t/**\n\t * Gets the data for `map`.\n\t *\n\t * @private\n\t * @param {Object} map The map to query.\n\t * @param {string} key The reference key.\n\t * @returns {*} Returns the map data.\n\t */\n\tfunction getMapData(map, key) {\n\t  var data = map.__data__;\n\t  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n\t}\n\t\n\tmodule.exports = getMapData;\n\n/***/ },\n/* 94 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Checks if `value` is suitable for use as unique object key.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n\t */\n\tfunction isKeyable(value) {\n\t  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\t  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n\t}\n\t\n\tmodule.exports = isKeyable;\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getMapData = __webpack_require__(93);\n\t\n\t/**\n\t * Gets the map value for `key`.\n\t *\n\t * @private\n\t * @name get\n\t * @memberOf MapCache\n\t * @param {string} key The key of the value to get.\n\t * @returns {*} Returns the entry value.\n\t */\n\tfunction mapCacheGet(key) {\n\t  return getMapData(this, key).get(key);\n\t}\n\t\n\tmodule.exports = mapCacheGet;\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getMapData = __webpack_require__(93);\n\t\n\t/**\n\t * Checks if a map value for `key` exists.\n\t *\n\t * @private\n\t * @name has\n\t * @memberOf MapCache\n\t * @param {string} key The key of the entry to check.\n\t * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n\t */\n\tfunction mapCacheHas(key) {\n\t  return getMapData(this, key).has(key);\n\t}\n\t\n\tmodule.exports = mapCacheHas;\n\n/***/ },\n/* 97 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getMapData = __webpack_require__(93);\n\t\n\t/**\n\t * Sets the map `key` to `value`.\n\t *\n\t * @private\n\t * @name set\n\t * @memberOf MapCache\n\t * @param {string} key The key of the value to set.\n\t * @param {*} value The value to set.\n\t * @returns {Object} Returns the map cache instance.\n\t */\n\tfunction mapCacheSet(key, value) {\n\t  var data = getMapData(this, key),\n\t      size = data.size;\n\t\n\t  data.set(key, value);\n\t  this.size += data.size == size ? 0 : 1;\n\t  return this;\n\t}\n\t\n\tmodule.exports = mapCacheSet;\n\n/***/ },\n/* 98 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseToString = __webpack_require__(99);\n\t\n\t/**\n\t * Converts `value` to a string. An empty string is returned for `null`\n\t * and `undefined` values. The sign of `-0` is preserved.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to convert.\n\t * @returns {string} Returns the converted string.\n\t * @example\n\t *\n\t * _.toString(null);\n\t * // => ''\n\t *\n\t * _.toString(-0);\n\t * // => '-0'\n\t *\n\t * _.toString([1, 2, 3]);\n\t * // => '1,2,3'\n\t */\n\tfunction toString(value) {\n\t  return value == null ? '' : baseToString(value);\n\t}\n\t\n\tmodule.exports = toString;\n\n/***/ },\n/* 99 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Symbol = __webpack_require__(18),\n\t    arrayMap = __webpack_require__(33),\n\t    isArray = __webpack_require__(25),\n\t    isSymbol = __webpack_require__(30);\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar INFINITY = 1 / 0;\n\t\n\t/** Used to convert symbols to primitives and strings. */\n\tvar symbolProto = _Symbol ? _Symbol.prototype : undefined,\n\t    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\t\n\t/**\n\t * The base implementation of `_.toString` which doesn't convert nullish\n\t * values to empty strings.\n\t *\n\t * @private\n\t * @param {*} value The value to process.\n\t * @returns {string} Returns the string.\n\t */\n\tfunction baseToString(value) {\n\t  // Exit early for strings to avoid a performance hit in some environments.\n\t  if (typeof value == 'string') {\n\t    return value;\n\t  }\n\t  if (isArray(value)) {\n\t    // Recursively convert values (susceptible to call stack limits).\n\t    return arrayMap(value, baseToString) + '';\n\t  }\n\t  if (isSymbol(value)) {\n\t    return symbolToString ? symbolToString.call(value) : '';\n\t  }\n\t  var result = value + '';\n\t  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n\t}\n\t\n\tmodule.exports = baseToString;\n\n/***/ },\n/* 100 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isSymbol = __webpack_require__(30);\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar INFINITY = 1 / 0;\n\t\n\t/**\n\t * Converts `value` to a string key if it's not a string or symbol.\n\t *\n\t * @private\n\t * @param {*} value The value to inspect.\n\t * @returns {string|symbol} Returns the key.\n\t */\n\tfunction toKey(value) {\n\t  if (typeof value == 'string' || isSymbol(value)) {\n\t    return value;\n\t  }\n\t  var result = value + '';\n\t  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n\t}\n\t\n\tmodule.exports = toKey;\n\n/***/ },\n/* 101 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseFlatten = __webpack_require__(102);\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar INFINITY = 1 / 0;\n\t\n\t/**\n\t * Recursively flattens `array`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 3.0.0\n\t * @category Array\n\t * @param {Array} array The array to flatten.\n\t * @returns {Array} Returns the new flattened array.\n\t * @example\n\t *\n\t * _.flattenDeep([1, [2, [3, [4]], 5]]);\n\t * // => [1, 2, 3, 4, 5]\n\t */\n\tfunction flattenDeep(array) {\n\t  var length = array == null ? 0 : array.length;\n\t  return length ? baseFlatten(array, INFINITY) : [];\n\t}\n\t\n\tmodule.exports = flattenDeep;\n\n/***/ },\n/* 102 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar arrayPush = __webpack_require__(103),\n\t    isFlattenable = __webpack_require__(104);\n\t\n\t/**\n\t * The base implementation of `_.flatten` with support for restricting flattening.\n\t *\n\t * @private\n\t * @param {Array} array The array to flatten.\n\t * @param {number} depth The maximum recursion depth.\n\t * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n\t * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n\t * @param {Array} [result=[]] The initial result value.\n\t * @returns {Array} Returns the new flattened array.\n\t */\n\tfunction baseFlatten(array, depth, predicate, isStrict, result) {\n\t  var index = -1,\n\t      length = array.length;\n\t\n\t  predicate || (predicate = isFlattenable);\n\t  result || (result = []);\n\t\n\t  while (++index < length) {\n\t    var value = array[index];\n\t    if (depth > 0 && predicate(value)) {\n\t      if (depth > 1) {\n\t        // Recursively flatten arrays (susceptible to call stack limits).\n\t        baseFlatten(value, depth - 1, predicate, isStrict, result);\n\t      } else {\n\t        arrayPush(result, value);\n\t      }\n\t    } else if (!isStrict) {\n\t      result[result.length] = value;\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = baseFlatten;\n\n/***/ },\n/* 103 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Appends the elements of `values` to `array`.\n\t *\n\t * @private\n\t * @param {Array} array The array to modify.\n\t * @param {Array} values The values to append.\n\t * @returns {Array} Returns `array`.\n\t */\n\tfunction arrayPush(array, values) {\n\t  var index = -1,\n\t      length = values.length,\n\t      offset = array.length;\n\t\n\t  while (++index < length) {\n\t    array[offset + index] = values[index];\n\t  }\n\t  return array;\n\t}\n\t\n\tmodule.exports = arrayPush;\n\n/***/ },\n/* 104 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Symbol = __webpack_require__(18),\n\t    isArguments = __webpack_require__(37),\n\t    isArray = __webpack_require__(25);\n\t\n\t/** Built-in value references. */\n\tvar spreadableSymbol = _Symbol ? _Symbol.isConcatSpreadable : undefined;\n\t\n\t/**\n\t * Checks if `value` is a flattenable `arguments` object or array.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n\t */\n\tfunction isFlattenable(value) {\n\t    return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n\t}\n\t\n\tmodule.exports = isFlattenable;\n\n/***/ },\n/* 105 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseClamp = __webpack_require__(106),\n\t    baseToString = __webpack_require__(99),\n\t    toInteger = __webpack_require__(27),\n\t    toString = __webpack_require__(98);\n\t\n\t/**\n\t * Checks if `string` starts with the given target string.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 3.0.0\n\t * @category String\n\t * @param {string} [string=''] The string to inspect.\n\t * @param {string} [target] The string to search for.\n\t * @param {number} [position=0] The position to search from.\n\t * @returns {boolean} Returns `true` if `string` starts with `target`,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.startsWith('abc', 'a');\n\t * // => true\n\t *\n\t * _.startsWith('abc', 'b');\n\t * // => false\n\t *\n\t * _.startsWith('abc', 'b', 1);\n\t * // => true\n\t */\n\tfunction startsWith(string, target, position) {\n\t  string = toString(string);\n\t  position = position == null ? 0 : baseClamp(toInteger(position), 0, string.length);\n\t\n\t  target = baseToString(target);\n\t  return string.slice(position, position + target.length) == target;\n\t}\n\t\n\tmodule.exports = startsWith;\n\n/***/ },\n/* 106 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * The base implementation of `_.clamp` which doesn't coerce arguments.\n\t *\n\t * @private\n\t * @param {number} number The number to clamp.\n\t * @param {number} [lower] The lower bound.\n\t * @param {number} upper The upper bound.\n\t * @returns {number} Returns the clamped number.\n\t */\n\tfunction baseClamp(number, lower, upper) {\n\t  if (number === number) {\n\t    if (upper !== undefined) {\n\t      number = number <= upper ? number : upper;\n\t    }\n\t    if (lower !== undefined) {\n\t      number = number >= lower ? number : lower;\n\t    }\n\t  }\n\t  return number;\n\t}\n\t\n\tmodule.exports = baseClamp;\n\n/***/ },\n/* 107 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Creates an array with all falsey values removed. The values `false`, `null`,\n\t * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Array\n\t * @param {Array} array The array to compact.\n\t * @returns {Array} Returns the new array of filtered values.\n\t * @example\n\t *\n\t * _.compact([0, 1, false, 2, '', 3]);\n\t * // => [1, 2, 3]\n\t */\n\tfunction compact(array) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length,\n\t      resIndex = 0,\n\t      result = [];\n\t\n\t  while (++index < length) {\n\t    var value = array[index];\n\t    if (value) {\n\t      result[resIndex++] = value;\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = compact;\n\n/***/ },\n/* 108 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/*!\n\t\tPapa Parse\n\t\tv4.3.6\n\t\thttps://github.com/mholt/PapaParse\n\t\tLicense: MIT\n\t*/\n\t(function (root, factory) {\n\t\tif (true) {\n\t\t\t// AMD. Register as an anonymous module.\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object' && typeof exports !== 'undefined') {\n\t\t\t// Node. Does not work with strict CommonJS, but\n\t\t\t// only CommonJS-like environments that support module.exports,\n\t\t\t// like Node.\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\t// Browser globals (root is window)\n\t\t\troot.Papa = factory();\n\t\t}\n\t})(undefined, function () {\n\t\t'use strict';\n\t\n\t\tvar global = function () {\n\t\t\t// alternative method, similar to `Function('return this')()`\n\t\t\t// but without using `eval` (which is disabled when\n\t\t\t// using Content Security Policy).\n\t\n\t\t\tif (typeof self !== 'undefined') {\n\t\t\t\treturn self;\n\t\t\t}\n\t\t\tif (typeof window !== 'undefined') {\n\t\t\t\treturn window;\n\t\t\t}\n\t\t\tif (typeof global !== 'undefined') {\n\t\t\t\treturn global;\n\t\t\t}\n\t\n\t\t\t// When running tests none of the above have been defined\n\t\t\treturn {};\n\t\t}();\n\t\n\t\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\t    IS_PAPA_WORKER = IS_WORKER && /(\\?|&)papaworker(=|&|$)/.test(global.location.search),\n\t\t    LOADED_SYNC = false,\n\t\t    AUTO_SCRIPT_PATH;\n\t\tvar workers = {},\n\t\t    workerIdCounter = 0;\n\t\n\t\tvar Papa = {};\n\t\n\t\tPapa.parse = CsvToJson;\n\t\tPapa.unparse = JsonToCsv;\n\t\n\t\tPapa.RECORD_SEP = String.fromCharCode(30);\n\t\tPapa.UNIT_SEP = String.fromCharCode(31);\n\t\tPapa.BYTE_ORDER_MARK = '\\uFEFF';\n\t\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\t\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\t\tPapa.SCRIPT_PATH = null; // Must be set by your code if you use workers and this lib is loaded asynchronously\n\t\n\t\t// Configurable chunk sizes for local and remote files, respectively\n\t\tPapa.LocalChunkSize = 1024 * 1024 * 10; // 10 MB\n\t\tPapa.RemoteChunkSize = 1024 * 1024 * 5; // 5 MB\n\t\tPapa.DefaultDelimiter = ','; // Used if not specified and detection fails\n\t\n\t\t// Exposed for testing and development only\n\t\tPapa.Parser = Parser;\n\t\tPapa.ParserHandle = ParserHandle;\n\t\tPapa.NetworkStreamer = NetworkStreamer;\n\t\tPapa.FileStreamer = FileStreamer;\n\t\tPapa.StringStreamer = StringStreamer;\n\t\tPapa.ReadableStreamStreamer = ReadableStreamStreamer;\n\t\n\t\tif (global.jQuery) {\n\t\t\tvar $ = global.jQuery;\n\t\t\t$.fn.parse = function (options) {\n\t\t\t\tvar config = options.config || {};\n\t\t\t\tvar queue = [];\n\t\n\t\t\t\tthis.each(function (idx) {\n\t\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT' && $(this).attr('type').toLowerCase() === 'file' && global.FileReader;\n\t\n\t\t\t\t\tif (!supported || !this.files || this.files.length === 0) return true; // continue to next input element\n\t\n\t\t\t\t\tfor (var i = 0; i < this.files.length; i++) {\n\t\t\t\t\t\tqueue.push({\n\t\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tparseNextFile(); // begin parsing\n\t\t\t\treturn this; // maintains chainability\n\t\n\t\n\t\t\t\tfunction parseNextFile() {\n\t\t\t\t\tif (queue.length === 0) {\n\t\t\t\t\t\tif (isFunction(options.complete)) options.complete();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar f = queue[0];\n\t\n\t\t\t\t\tif (isFunction(options.before)) {\n\t\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\t\n\t\t\t\t\t\tif ((typeof returned === 'undefined' ? 'undefined' : _typeof(returned)) === 'object') {\n\t\t\t\t\t\t\tif (returned.action === 'abort') {\n\t\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\t\treturn; // Aborts all queued files immediately\n\t\t\t\t\t\t\t} else if (returned.action === 'skip') {\n\t\t\t\t\t\t\t\tfileComplete(); // parse the next file in the queue, if any\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else if (_typeof(returned.config) === 'object') f.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t\t} else if (returned === 'skip') {\n\t\t\t\t\t\t\tfileComplete(); // parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\t\tf.instanceConfig.complete = function (results) {\n\t\t\t\t\t\tif (isFunction(userCompleteFunc)) userCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\t\tfileComplete();\n\t\t\t\t\t};\n\t\n\t\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t\t}\n\t\n\t\t\t\tfunction error(name, file, elem, reason) {\n\t\t\t\t\tif (isFunction(options.error)) options.error({ name: name }, file, elem, reason);\n\t\t\t\t}\n\t\n\t\t\t\tfunction fileComplete() {\n\t\t\t\t\tqueue.splice(0, 1);\n\t\t\t\t\tparseNextFile();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\n\t\tif (IS_PAPA_WORKER) {\n\t\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t\t} else if (Papa.WORKERS_SUPPORTED) {\n\t\t\tAUTO_SCRIPT_PATH = getScriptPath();\n\t\n\t\t\t// Check if the script was loaded synchronously\n\t\t\tif (!document.body) {\n\t\t\t\t// Body doesn't exist yet, must be synchronous\n\t\t\t\tLOADED_SYNC = true;\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\t\tLOADED_SYNC = true;\n\t\t\t\t}, true);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction CsvToJson(_input, _config) {\n\t\t\t_config = _config || {};\n\t\t\tvar dynamicTyping = _config.dynamicTyping || false;\n\t\t\tif (isFunction(dynamicTyping)) {\n\t\t\t\t_config.dynamicTypingFunction = dynamicTyping;\n\t\t\t\t// Will be filled on first row call\n\t\t\t\tdynamicTyping = {};\n\t\t\t}\n\t\t\t_config.dynamicTyping = dynamicTyping;\n\t\n\t\t\tif (_config.worker && Papa.WORKERS_SUPPORTED) {\n\t\t\t\tvar w = newWorker();\n\t\n\t\t\t\tw.userStep = _config.step;\n\t\t\t\tw.userChunk = _config.chunk;\n\t\t\t\tw.userComplete = _config.complete;\n\t\t\t\tw.userError = _config.error;\n\t\n\t\t\t\t_config.step = isFunction(_config.step);\n\t\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t\t_config.error = isFunction(_config.error);\n\t\t\t\tdelete _config.worker; // prevent infinite loop\n\t\n\t\t\t\tw.postMessage({\n\t\t\t\t\tinput: _input,\n\t\t\t\t\tconfig: _config,\n\t\t\t\t\tworkerId: w.id\n\t\t\t\t});\n\t\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tvar streamer = null;\n\t\t\tif (typeof _input === 'string') {\n\t\t\t\tif (_config.download) streamer = new NetworkStreamer(_config);else streamer = new StringStreamer(_config);\n\t\t\t} else if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on)) {\n\t\t\t\tstreamer = new ReadableStreamStreamer(_config);\n\t\t\t} else if (global.File && _input instanceof File || _input instanceof Object) // ...Safari. (see issue #106)\n\t\t\t\tstreamer = new FileStreamer(_config);\n\t\n\t\t\treturn streamer.stream(_input);\n\t\t}\n\t\n\t\tfunction JsonToCsv(_input, _config) {\n\t\t\tvar _output = '';\n\t\t\tvar _fields = [];\n\t\n\t\t\t// Default configuration\n\t\n\t\t\t/** whether to surround every datum with quotes */\n\t\t\tvar _quotes = false;\n\t\n\t\t\t/** whether to write headers */\n\t\t\tvar _writeHeader = true;\n\t\n\t\t\t/** delimiting character */\n\t\t\tvar _delimiter = ',';\n\t\n\t\t\t/** newline character(s) */\n\t\t\tvar _newline = '\\r\\n';\n\t\n\t\t\t/** quote character */\n\t\t\tvar _quoteChar = '\"';\n\t\n\t\t\tunpackConfig();\n\t\n\t\t\tvar quoteCharRegex = new RegExp(_quoteChar, 'g');\n\t\n\t\t\tif (typeof _input === 'string') _input = JSON.parse(_input);\n\t\n\t\t\tif (_input instanceof Array) {\n\t\t\t\tif (!_input.length || _input[0] instanceof Array) return serialize(null, _input);else if (_typeof(_input[0]) === 'object') return serialize(objectKeys(_input[0]), _input);\n\t\t\t} else if ((typeof _input === 'undefined' ? 'undefined' : _typeof(_input)) === 'object') {\n\t\t\t\tif (typeof _input.data === 'string') _input.data = JSON.parse(_input.data);\n\t\n\t\t\t\tif (_input.data instanceof Array) {\n\t\t\t\t\tif (!_input.fields) _input.fields = _input.meta && _input.meta.fields;\n\t\n\t\t\t\t\tif (!_input.fields) _input.fields = _input.data[0] instanceof Array ? _input.fields : objectKeys(_input.data[0]);\n\t\n\t\t\t\t\tif (!(_input.data[0] instanceof Array) && _typeof(_input.data[0]) !== 'object') _input.data = [_input.data]; // handles input like [1,2,3] or ['asdf']\n\t\t\t\t}\n\t\n\t\t\t\treturn serialize(_input.fields || [], _input.data || []);\n\t\t\t}\n\t\n\t\t\t// Default (any valid paths should return before this)\n\t\t\tthrow 'exception: Unable to serialize unrecognized input';\n\t\n\t\t\tfunction unpackConfig() {\n\t\t\t\tif ((typeof _config === 'undefined' ? 'undefined' : _typeof(_config)) !== 'object') return;\n\t\n\t\t\t\tif (typeof _config.delimiter === 'string' && _config.delimiter.length === 1 && Papa.BAD_DELIMITERS.indexOf(_config.delimiter) === -1) {\n\t\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t\t}\n\t\n\t\t\t\tif (typeof _config.quotes === 'boolean' || _config.quotes instanceof Array) _quotes = _config.quotes;\n\t\n\t\t\t\tif (typeof _config.newline === 'string') _newline = _config.newline;\n\t\n\t\t\t\tif (typeof _config.quoteChar === 'string') _quoteChar = _config.quoteChar;\n\t\n\t\t\t\tif (typeof _config.header === 'boolean') _writeHeader = _config.header;\n\t\t\t}\n\t\n\t\t\t/** Turns an object's keys into an array */\n\t\t\tfunction objectKeys(obj) {\n\t\t\t\tif ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') return [];\n\t\t\t\tvar keys = [];\n\t\t\t\tfor (var key in obj) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t}return keys;\n\t\t\t}\n\t\n\t\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\t\tfunction serialize(fields, data) {\n\t\t\t\tvar csv = '';\n\t\n\t\t\t\tif (typeof fields === 'string') fields = JSON.parse(fields);\n\t\t\t\tif (typeof data === 'string') data = JSON.parse(data);\n\t\n\t\t\t\tvar hasHeader = fields instanceof Array && fields.length > 0;\n\t\t\t\tvar dataKeyedByField = !(data[0] instanceof Array);\n\t\n\t\t\t\t// If there a header row, write it first\n\t\t\t\tif (hasHeader && _writeHeader) {\n\t\t\t\t\tfor (var i = 0; i < fields.length; i++) {\n\t\t\t\t\t\tif (i > 0) csv += _delimiter;\n\t\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t\t}\n\t\t\t\t\tif (data.length > 0) csv += _newline;\n\t\t\t\t}\n\t\n\t\t\t\t// Then write out the data\n\t\t\t\tfor (var row = 0; row < data.length; row++) {\n\t\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\t\n\t\t\t\t\tfor (var col = 0; col < maxCol; col++) {\n\t\t\t\t\t\tif (col > 0) csv += _delimiter;\n\t\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (row < data.length - 1) csv += _newline;\n\t\t\t\t}\n\t\n\t\t\t\treturn csv;\n\t\t\t}\n\t\n\t\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\t\tfunction safe(str, col) {\n\t\t\t\tif (typeof str === 'undefined' || str === null) return '';\n\t\n\t\t\t\tstr = str.toString().replace(quoteCharRegex, _quoteChar + _quoteChar);\n\t\n\t\t\t\tvar needsQuotes = typeof _quotes === 'boolean' && _quotes || _quotes instanceof Array && _quotes[col] || hasAny(str, Papa.BAD_DELIMITERS) || str.indexOf(_delimiter) > -1 || str.charAt(0) === ' ' || str.charAt(str.length - 1) === ' ';\n\t\n\t\t\t\treturn needsQuotes ? _quoteChar + str + _quoteChar : str;\n\t\t\t}\n\t\n\t\t\tfunction hasAny(str, substrings) {\n\t\t\t\tfor (var i = 0; i < substrings.length; i++) {\n\t\t\t\t\tif (str.indexOf(substrings[i]) > -1) return true;\n\t\t\t\t}return false;\n\t\t\t}\n\t\t}\n\t\n\t\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\t\tfunction ChunkStreamer(config) {\n\t\t\tthis._handle = null;\n\t\t\tthis._paused = false;\n\t\t\tthis._finished = false;\n\t\t\tthis._input = null;\n\t\t\tthis._baseIndex = 0;\n\t\t\tthis._partialLine = '';\n\t\t\tthis._rowCount = 0;\n\t\t\tthis._start = 0;\n\t\t\tthis._nextChunk = null;\n\t\t\tthis.isFirstChunk = true;\n\t\t\tthis._completeResults = {\n\t\t\t\tdata: [],\n\t\t\t\terrors: [],\n\t\t\t\tmeta: {}\n\t\t\t};\n\t\t\treplaceConfig.call(this, config);\n\t\n\t\t\tthis.parseChunk = function (chunk) {\n\t\t\t\t// First chunk pre-processing\n\t\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk)) {\n\t\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\t\tif (modifiedChunk !== undefined) chunk = modifiedChunk;\n\t\t\t\t}\n\t\t\t\tthis.isFirstChunk = false;\n\t\n\t\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\t\tthis._partialLine = '';\n\t\n\t\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\t\n\t\t\t\tif (this._handle.paused() || this._handle.aborted()) return;\n\t\n\t\t\t\tvar lastIndex = results.meta.cursor;\n\t\n\t\t\t\tif (!this._finished) {\n\t\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t\t}\n\t\n\t\t\t\tif (results && results.data) this._rowCount += results.data.length;\n\t\n\t\t\t\tvar finishedIncludingPreview = this._finished || this._config.preview && this._rowCount >= this._config.preview;\n\t\n\t\t\t\tif (IS_PAPA_WORKER) {\n\t\t\t\t\tglobal.postMessage({\n\t\t\t\t\t\tresults: results,\n\t\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t\t});\n\t\t\t\t} else if (isFunction(this._config.chunk)) {\n\t\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\t\tif (this._paused) return;\n\t\t\t\t\tresults = undefined;\n\t\t\t\t\tthis._completeResults = undefined;\n\t\t\t\t}\n\t\n\t\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t\t}\n\t\n\t\t\t\tif (finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted)) this._config.complete(this._completeResults, this._input);\n\t\n\t\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused)) this._nextChunk();\n\t\n\t\t\t\treturn results;\n\t\t\t};\n\t\n\t\t\tthis._sendError = function (error) {\n\t\t\t\tif (isFunction(this._config.error)) this._config.error(error);else if (IS_PAPA_WORKER && this._config.error) {\n\t\t\t\t\tglobal.postMessage({\n\t\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\t\terror: error,\n\t\t\t\t\t\tfinished: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tfunction replaceConfig(config) {\n\t\t\t\t// Deep-copy the config so we can edit it\n\t\t\t\tvar configCopy = copy(config);\n\t\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize); // parseInt VERY important so we don't concatenate strings!\n\t\t\t\tif (!config.step && !config.chunk) configCopy.chunkSize = null; // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\t\tthis._handle.streamer = this;\n\t\t\t\tthis._config = configCopy; // persist the copy to the caller\n\t\t\t}\n\t\t}\n\t\n\t\tfunction NetworkStreamer(config) {\n\t\t\tconfig = config || {};\n\t\t\tif (!config.chunkSize) config.chunkSize = Papa.RemoteChunkSize;\n\t\t\tChunkStreamer.call(this, config);\n\t\n\t\t\tvar xhr;\n\t\n\t\t\tif (IS_WORKER) {\n\t\t\t\tthis._nextChunk = function () {\n\t\t\t\t\tthis._readChunk();\n\t\t\t\t\tthis._chunkLoaded();\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tthis._nextChunk = function () {\n\t\t\t\t\tthis._readChunk();\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tthis.stream = function (url) {\n\t\t\t\tthis._input = url;\n\t\t\t\tthis._nextChunk(); // Starts streaming\n\t\t\t};\n\t\n\t\t\tthis._readChunk = function () {\n\t\t\t\tif (this._finished) {\n\t\t\t\t\tthis._chunkLoaded();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\txhr = new XMLHttpRequest();\n\t\n\t\t\t\tif (this._config.withCredentials) {\n\t\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t\t}\n\t\n\t\t\t\tif (!IS_WORKER) {\n\t\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t\t}\n\t\n\t\t\t\txhr.open('GET', this._input, !IS_WORKER);\n\t\t\t\t// Headers can only be set when once the request state is OPENED\n\t\t\t\tif (this._config.downloadRequestHeaders) {\n\t\t\t\t\tvar headers = this._config.downloadRequestHeaders;\n\t\n\t\t\t\t\tfor (var headerName in headers) {\n\t\t\t\t\t\txhr.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (this._config.chunkSize) {\n\t\t\t\t\tvar end = this._start + this._config.chunkSize - 1; // minus one because byte range is inclusive\n\t\t\t\t\txhr.setRequestHeader('Range', 'bytes=' + this._start + '-' + end);\n\t\t\t\t\txhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672\n\t\t\t\t}\n\t\n\t\t\t\ttry {\n\t\t\t\t\txhr.send();\n\t\t\t\t} catch (err) {\n\t\t\t\t\tthis._chunkError(err.message);\n\t\t\t\t}\n\t\n\t\t\t\tif (IS_WORKER && xhr.status === 0) this._chunkError();else this._start += this._config.chunkSize;\n\t\t\t};\n\t\n\t\t\tthis._chunkLoaded = function () {\n\t\t\t\tif (xhr.readyState != 4) return;\n\t\n\t\t\t\tif (xhr.status < 200 || xhr.status >= 400) {\n\t\t\t\t\tthis._chunkError();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tthis._finished = !this._config.chunkSize || this._start > getFileSize(xhr);\n\t\t\t\tthis.parseChunk(xhr.responseText);\n\t\t\t};\n\t\n\t\t\tthis._chunkError = function (errorMessage) {\n\t\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\t\tthis._sendError(errorText);\n\t\t\t};\n\t\n\t\t\tfunction getFileSize(xhr) {\n\t\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\t\tif (contentRange === null) {\n\t\t\t\t\t// no content range, then finish!\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));\n\t\t\t}\n\t\t}\n\t\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\t\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\t\n\t\tfunction FileStreamer(config) {\n\t\t\tconfig = config || {};\n\t\t\tif (!config.chunkSize) config.chunkSize = Papa.LocalChunkSize;\n\t\t\tChunkStreamer.call(this, config);\n\t\n\t\t\tvar reader, slice;\n\t\n\t\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\t\tvar usingAsyncReader = typeof FileReader !== 'undefined'; // Safari doesn't consider it a function - see issue #105\n\t\n\t\t\tthis.stream = function (file) {\n\t\t\t\tthis._input = file;\n\t\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\t\n\t\t\t\tif (usingAsyncReader) {\n\t\t\t\t\treader = new FileReader(); // Preferred method of reading files, even in workers\n\t\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t\t} else reader = new FileReaderSync(); // Hack for running in a web worker in Firefox\n\t\n\t\t\t\tthis._nextChunk(); // Starts streaming\n\t\t\t};\n\t\n\t\t\tthis._nextChunk = function () {\n\t\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview)) this._readChunk();\n\t\t\t};\n\t\n\t\t\tthis._readChunk = function () {\n\t\t\t\tvar input = this._input;\n\t\t\t\tif (this._config.chunkSize) {\n\t\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t\t}\n\t\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\t\tif (!usingAsyncReader) this._chunkLoaded({ target: { result: txt } }); // mimic the async signature\n\t\t\t};\n\t\n\t\t\tthis._chunkLoaded = function (event) {\n\t\t\t\t// Very important to increment start each time before handling results\n\t\t\t\tthis._start += this._config.chunkSize;\n\t\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\t\tthis.parseChunk(event.target.result);\n\t\t\t};\n\t\n\t\t\tthis._chunkError = function () {\n\t\t\t\tthis._sendError(reader.error);\n\t\t\t};\n\t\t}\n\t\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\t\tFileStreamer.prototype.constructor = FileStreamer;\n\t\n\t\tfunction StringStreamer(config) {\n\t\t\tconfig = config || {};\n\t\t\tChunkStreamer.call(this, config);\n\t\n\t\t\tvar string;\n\t\t\tvar remaining;\n\t\t\tthis.stream = function (s) {\n\t\t\t\tstring = s;\n\t\t\t\tremaining = s;\n\t\t\t\treturn this._nextChunk();\n\t\t\t};\n\t\t\tthis._nextChunk = function () {\n\t\t\t\tif (this._finished) return;\n\t\t\t\tvar size = this._config.chunkSize;\n\t\t\t\tvar chunk = size ? remaining.substr(0, size) : remaining;\n\t\t\t\tremaining = size ? remaining.substr(size) : '';\n\t\t\t\tthis._finished = !remaining;\n\t\t\t\treturn this.parseChunk(chunk);\n\t\t\t};\n\t\t}\n\t\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\t\tStringStreamer.prototype.constructor = StringStreamer;\n\t\n\t\tfunction ReadableStreamStreamer(config) {\n\t\t\tconfig = config || {};\n\t\n\t\t\tChunkStreamer.call(this, config);\n\t\n\t\t\tvar queue = [];\n\t\t\tvar parseOnData = true;\n\t\n\t\t\tthis.stream = function (stream) {\n\t\t\t\tthis._input = stream;\n\t\n\t\t\t\tthis._input.on('data', this._streamData);\n\t\t\t\tthis._input.on('end', this._streamEnd);\n\t\t\t\tthis._input.on('error', this._streamError);\n\t\t\t};\n\t\n\t\t\tthis._nextChunk = function () {\n\t\t\t\tif (queue.length) {\n\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t} else {\n\t\t\t\t\tparseOnData = true;\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis._streamData = bindFunction(function (chunk) {\n\t\t\t\ttry {\n\t\t\t\t\tqueue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));\n\t\n\t\t\t\t\tif (parseOnData) {\n\t\t\t\t\t\tparseOnData = false;\n\t\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tthis._streamError(error);\n\t\t\t\t}\n\t\t\t}, this);\n\t\n\t\t\tthis._streamError = bindFunction(function (error) {\n\t\t\t\tthis._streamCleanUp();\n\t\t\t\tthis._sendError(error.message);\n\t\t\t}, this);\n\t\n\t\t\tthis._streamEnd = bindFunction(function () {\n\t\t\t\tthis._streamCleanUp();\n\t\t\t\tthis._finished = true;\n\t\t\t\tthis._streamData('');\n\t\t\t}, this);\n\t\n\t\t\tthis._streamCleanUp = bindFunction(function () {\n\t\t\t\tthis._input.removeListener('data', this._streamData);\n\t\t\t\tthis._input.removeListener('end', this._streamEnd);\n\t\t\t\tthis._input.removeListener('error', this._streamError);\n\t\t\t}, this);\n\t\t}\n\t\tReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\t\tReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;\n\t\n\t\t// Use one ParserHandle per entire CSV file or string\n\t\tfunction ParserHandle(_config) {\n\t\t\t// One goal is to minimize the use of regular expressions...\n\t\t\tvar FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\t\n\t\t\tvar self = this;\n\t\t\tvar _stepCounter = 0; // Number of times step was called (number of rows parsed)\n\t\t\tvar _input; // The input being parsed\n\t\t\tvar _parser; // The core parser being used\n\t\t\tvar _paused = false; // Whether we are paused or not\n\t\t\tvar _aborted = false; // Whether the parser has aborted or not\n\t\t\tvar _delimiterError; // Temporary state between delimiter detection and processing results\n\t\t\tvar _fields = []; // Fields are from the header row of the input, if there is one\n\t\t\tvar _results = { // The last results returned from the parser\n\t\t\t\tdata: [],\n\t\t\t\terrors: [],\n\t\t\t\tmeta: {}\n\t\t\t};\n\t\n\t\t\tif (isFunction(_config.step)) {\n\t\t\t\tvar userStep = _config.step;\n\t\t\t\t_config.step = function (results) {\n\t\t\t\t\t_results = results;\n\t\n\t\t\t\t\tif (needsHeaderRow()) processResults();else // only call user's step function after header row\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tprocessResults();\n\t\n\t\t\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\t\t\tif (_results.data.length === 0) return;\n\t\n\t\t\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview) _parser.abort();else userStep(_results, self);\n\t\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t   * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t   * when an input comes in multiple chunks, like from a file.\n\t   */\n\t\t\tthis.parse = function (input, baseIndex, ignoreLastRow) {\n\t\t\t\tif (!_config.newline) _config.newline = guessLineEndings(input);\n\t\n\t\t\t\t_delimiterError = false;\n\t\t\t\tif (!_config.delimiter) {\n\t\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines);\n\t\t\t\t\tif (delimGuess.successful) _config.delimiter = delimGuess.bestDelimiter;else {\n\t\t\t\t\t\t_delimiterError = true; // add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t\t}\n\t\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t\t} else if (isFunction(_config.delimiter)) {\n\t\t\t\t\t_config.delimiter = _config.delimiter(input);\n\t\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t\t}\n\t\n\t\t\t\tvar parserConfig = copy(_config);\n\t\t\t\tif (_config.preview && _config.header) parserConfig.preview++; // to compensate for header row\n\t\n\t\t\t\t_input = input;\n\t\t\t\t_parser = new Parser(parserConfig);\n\t\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\t\tprocessResults();\n\t\t\t\treturn _paused ? { meta: { paused: true } } : _results || { meta: { paused: false } };\n\t\t\t};\n\t\n\t\t\tthis.paused = function () {\n\t\t\t\treturn _paused;\n\t\t\t};\n\t\n\t\t\tthis.pause = function () {\n\t\t\t\t_paused = true;\n\t\t\t\t_parser.abort();\n\t\t\t\t_input = _input.substr(_parser.getCharIndex());\n\t\t\t};\n\t\n\t\t\tthis.resume = function () {\n\t\t\t\t_paused = false;\n\t\t\t\tself.streamer.parseChunk(_input);\n\t\t\t};\n\t\n\t\t\tthis.aborted = function () {\n\t\t\t\treturn _aborted;\n\t\t\t};\n\t\n\t\t\tthis.abort = function () {\n\t\t\t\t_aborted = true;\n\t\t\t\t_parser.abort();\n\t\t\t\t_results.meta.aborted = true;\n\t\t\t\tif (isFunction(_config.complete)) _config.complete(_results);\n\t\t\t\t_input = '';\n\t\t\t};\n\t\n\t\t\tfunction processResults() {\n\t\t\t\tif (_results && _delimiterError) {\n\t\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\'' + Papa.DefaultDelimiter + '\\'');\n\t\t\t\t\t_delimiterError = false;\n\t\t\t\t}\n\t\n\t\t\t\tif (_config.skipEmptyLines) {\n\t\t\t\t\tfor (var i = 0; i < _results.data.length; i++) {\n\t\t\t\t\t\tif (_results.data[i].length === 1 && _results.data[i][0] === '') _results.data.splice(i--, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (needsHeaderRow()) fillHeaderFields();\n\t\n\t\t\t\treturn applyHeaderAndDynamicTyping();\n\t\t\t}\n\t\n\t\t\tfunction needsHeaderRow() {\n\t\t\t\treturn _config.header && _fields.length === 0;\n\t\t\t}\n\t\n\t\t\tfunction fillHeaderFields() {\n\t\t\t\tif (!_results) return;\n\t\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++) {\n\t\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++) {\n\t\t\t\t\t\t_fields.push(_results.data[i][j]);\n\t\t\t\t\t}\n\t\t\t\t}_results.data.splice(0, 1);\n\t\t\t}\n\t\n\t\t\tfunction shouldApplyDynamicTyping(field) {\n\t\t\t\t// Cache function values to avoid calling it for each row\n\t\t\t\tif (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {\n\t\t\t\t\t_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);\n\t\t\t\t}\n\t\t\t\treturn (_config.dynamicTyping[field] || _config.dynamicTyping) === true;\n\t\t\t}\n\t\n\t\t\tfunction parseDynamic(field, value) {\n\t\t\t\tif (shouldApplyDynamicTyping(field)) {\n\t\t\t\t\tif (value === 'true' || value === 'TRUE') return true;else if (value === 'false' || value === 'FALSE') return false;else return tryParseFloat(value);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\n\t\t\tfunction applyHeaderAndDynamicTyping() {\n\t\t\t\tif (!_results || !_config.header && !_config.dynamicTyping) return _results;\n\t\n\t\t\t\tfor (var i = 0; i < _results.data.length; i++) {\n\t\t\t\t\tvar row = _config.header ? {} : [];\n\t\n\t\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++) {\n\t\t\t\t\t\tvar field = j;\n\t\t\t\t\t\tvar value = _results.data[i][j];\n\t\n\t\t\t\t\t\tif (_config.header) field = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\t\n\t\t\t\t\t\tvalue = parseDynamic(field, value);\n\t\n\t\t\t\t\t\tif (field === '__parsed_extra') {\n\t\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t\t} else row[field] = value;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_results.data[i] = row;\n\t\n\t\t\t\t\tif (_config.header) {\n\t\t\t\t\t\tif (j > _fields.length) addError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, i);else if (j < _fields.length) addError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (_config.header && _results.meta) _results.meta.fields = _fields;\n\t\t\t\treturn _results;\n\t\t\t}\n\t\n\t\t\tfunction guessDelimiter(input, newline, skipEmptyLines) {\n\t\t\t\tvar delimChoices = [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\t\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow;\n\t\n\t\t\t\tfor (var i = 0; i < delimChoices.length; i++) {\n\t\t\t\t\tvar delim = delimChoices[i];\n\t\t\t\t\tvar delta = 0,\n\t\t\t\t\t    avgFieldCount = 0,\n\t\t\t\t\t    emptyLinesCount = 0;\n\t\t\t\t\tfieldCountPrevRow = undefined;\n\t\n\t\t\t\t\tvar preview = new Parser({\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tnewline: newline,\n\t\t\t\t\t\tpreview: 10\n\t\t\t\t\t}).parse(input);\n\t\n\t\t\t\t\tfor (var j = 0; j < preview.data.length; j++) {\n\t\t\t\t\t\tif (skipEmptyLines && preview.data[j].length === 1 && preview.data[j][0].length === 0) {\n\t\t\t\t\t\t\temptyLinesCount++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\t\tavgFieldCount += fieldCount;\n\t\n\t\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined') {\n\t\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t} else if (fieldCount > 1) {\n\t\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (preview.data.length > 0) avgFieldCount /= preview.data.length - emptyLinesCount;\n\t\n\t\t\t\t\tif ((typeof bestDelta === 'undefined' || delta < bestDelta) && avgFieldCount > 1.99) {\n\t\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\t\tbestDelim = delim;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t_config.delimiter = bestDelim;\n\t\n\t\t\t\treturn {\n\t\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\t\tbestDelimiter: bestDelim\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\tfunction guessLineEndings(input) {\n\t\t\t\tinput = input.substr(0, 1024 * 1024); // max length 1 MB\n\t\n\t\t\t\tvar r = input.split('\\r');\n\t\n\t\t\t\tvar n = input.split('\\n');\n\t\n\t\t\t\tvar nAppearsFirst = n.length > 1 && n[0].length < r[0].length;\n\t\n\t\t\t\tif (r.length === 1 || nAppearsFirst) return '\\n';\n\t\n\t\t\t\tvar numWithN = 0;\n\t\t\t\tfor (var i = 0; i < r.length; i++) {\n\t\t\t\t\tif (r[i][0] === '\\n') numWithN++;\n\t\t\t\t}\n\t\n\t\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t\t}\n\t\n\t\t\tfunction tryParseFloat(val) {\n\t\t\t\tvar isNumber = FLOAT.test(val);\n\t\t\t\treturn isNumber ? parseFloat(val) : val;\n\t\t\t}\n\t\n\t\t\tfunction addError(type, code, msg, row) {\n\t\t\t\t_results.errors.push({\n\t\t\t\t\ttype: type,\n\t\t\t\t\tcode: code,\n\t\t\t\t\tmessage: msg,\n\t\t\t\t\trow: row\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\n\t\t/** The core parser implements speedy and correct CSV parsing */\n\t\tfunction Parser(config) {\n\t\t\t// Unpack the config object\n\t\t\tconfig = config || {};\n\t\t\tvar delim = config.delimiter;\n\t\t\tvar newline = config.newline;\n\t\t\tvar comments = config.comments;\n\t\t\tvar step = config.step;\n\t\t\tvar preview = config.preview;\n\t\t\tvar fastMode = config.fastMode;\n\t\t\tvar quoteChar = config.quoteChar || '\"';\n\t\n\t\t\t// Delimiter must be valid\n\t\t\tif (typeof delim !== 'string' || Papa.BAD_DELIMITERS.indexOf(delim) > -1) delim = ',';\n\t\n\t\t\t// Comment character must be valid\n\t\t\tif (comments === delim) throw 'Comment character same as delimiter';else if (comments === true) comments = '#';else if (typeof comments !== 'string' || Papa.BAD_DELIMITERS.indexOf(comments) > -1) comments = false;\n\t\n\t\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\t\tif (newline != '\\n' && newline != '\\r' && newline != '\\r\\n') newline = '\\n';\n\t\n\t\t\t// We're gonna need these at the Parser scope\n\t\t\tvar cursor = 0;\n\t\t\tvar aborted = false;\n\t\n\t\t\tthis.parse = function (input, baseIndex, ignoreLastRow) {\n\t\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\t\tif (typeof input !== 'string') throw 'Input must be a string';\n\t\n\t\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t\t// but having them in a more local scope seems to perform better\n\t\t\t\tvar inputLen = input.length,\n\t\t\t\t    delimLen = delim.length,\n\t\t\t\t    newlineLen = newline.length,\n\t\t\t\t    commentsLen = comments.length;\n\t\t\t\tvar stepIsFunction = isFunction(step);\n\t\n\t\t\t\t// Establish starting state\n\t\t\t\tcursor = 0;\n\t\t\t\tvar data = [],\n\t\t\t\t    errors = [],\n\t\t\t\t    row = [],\n\t\t\t\t    lastCursor = 0;\n\t\n\t\t\t\tif (!input) return returnable();\n\t\n\t\t\t\tif (fastMode || fastMode !== false && input.indexOf(quoteChar) === -1) {\n\t\t\t\t\tvar rows = input.split(newline);\n\t\t\t\t\tfor (var i = 0; i < rows.length; i++) {\n\t\t\t\t\t\tvar row = rows[i];\n\t\t\t\t\t\tcursor += row.length;\n\t\t\t\t\t\tif (i !== rows.length - 1) cursor += newline.length;else if (ignoreLastRow) return returnable();\n\t\t\t\t\t\tif (comments && row.substr(0, commentsLen) === comments) continue;\n\t\t\t\t\t\tif (stepIsFunction) {\n\t\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\tif (aborted) return returnable();\n\t\t\t\t\t\t} else pushRow(row.split(delim));\n\t\t\t\t\t\tif (preview && i >= preview) {\n\t\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn returnable();\n\t\t\t\t}\n\t\n\t\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\t\tvar quoteCharRegex = new RegExp(quoteChar + quoteChar, 'g');\n\t\n\t\t\t\t// Parser loop\n\t\t\t\tfor (;;) {\n\t\t\t\t\t// Field has opening quote\n\t\t\t\t\tif (input[cursor] === quoteChar) {\n\t\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\t\tvar quoteSearch = cursor;\n\t\n\t\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\t\tcursor++;\n\t\n\t\t\t\t\t\tfor (;;) {\n\t\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\t\tvar quoteSearch = input.indexOf(quoteChar, quoteSearch + 1);\n\t\n\t\t\t\t\t\t\t//No other quotes are found - no other delimiters\n\t\t\t\t\t\t\tif (quoteSearch === -1) {\n\t\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\t\trow: data.length, // row has yet to be inserted\n\t\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\t\tif (quoteSearch === inputLen - 1) {\n\t\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\t\tif (input[quoteSearch + 1] === quoteChar) {\n\t\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// Closing quote followed by delimiter\n\t\t\t\t\t\t\tif (input[quoteSearch + 1] === delim) {\n\t\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\t\tcursor = quoteSearch + 1 + delimLen;\n\t\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// Closing quote followed by newline\n\t\t\t\t\t\t\tif (input.substr(quoteSearch + 1, newlineLen) === newline) {\n\t\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + newlineLen);\n\t\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor); // because we may have skipped the nextDelim in the quoted field\n\t\n\t\t\t\t\t\t\t\tif (stepIsFunction) {\n\t\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\t\tif (aborted) return returnable();\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (preview && data.length >= preview) return returnable(true);\n\t\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t// Checks for valid closing quotes are complete (escaped quotes or quote followed by EOF/delimiter/newline) -- assume these quotes are part of an invalid text string\n\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\tcode: 'InvalidQuotes',\n\t\t\t\t\t\t\t\tmessage: 'Trailing quote on quoted field is malformed',\n\t\t\t\t\t\t\t\trow: data.length, // row has yet to be inserted\n\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Comment found at start of new line\n\t\t\t\t\tif (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments) {\n\t\t\t\t\t\tif (nextNewline === -1) // Comment ends at EOF\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1)) {\n\t\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// End of row\n\t\t\t\t\tif (nextNewline !== -1) {\n\t\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\t\n\t\t\t\t\t\tif (stepIsFunction) {\n\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\tif (aborted) return returnable();\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (preview && data.length >= preview) return returnable(true);\n\t\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\treturn finish();\n\t\n\t\t\t\tfunction pushRow(row) {\n\t\t\t\t\tdata.push(row);\n\t\t\t\t\tlastCursor = cursor;\n\t\t\t\t}\n\t\n\t\t\t\t/**\n\t    * Appends the remaining input from cursor to the end into\n\t    * row, saves the row, calls step, and returns the results.\n\t    */\n\t\t\t\tfunction finish(value) {\n\t\t\t\t\tif (ignoreLastRow) return returnable();\n\t\t\t\t\tif (typeof value === 'undefined') value = input.substr(cursor);\n\t\t\t\t\trow.push(value);\n\t\t\t\t\tcursor = inputLen; // important in case parsing is paused\n\t\t\t\t\tpushRow(row);\n\t\t\t\t\tif (stepIsFunction) doStep();\n\t\t\t\t\treturn returnable();\n\t\t\t\t}\n\t\n\t\t\t\t/**\n\t    * Appends the current row to the results. It sets the cursor\n\t    * to newCursor and finds the nextNewline. The caller should\n\t    * take care to execute user's step function and check for\n\t    * preview and end parsing if necessary.\n\t    */\n\t\t\t\tfunction saveRow(newCursor) {\n\t\t\t\t\tcursor = newCursor;\n\t\t\t\t\tpushRow(row);\n\t\t\t\t\trow = [];\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t}\n\t\n\t\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\t\tfunction returnable(stopped) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\terrors: errors,\n\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0)\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\n\t\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\t\tfunction doStep() {\n\t\t\t\t\tstep(returnable());\n\t\t\t\t\tdata = [], errors = [];\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\t/** Sets the abort flag */\n\t\t\tthis.abort = function () {\n\t\t\t\taborted = true;\n\t\t\t};\n\t\n\t\t\t/** Gets the cursor position */\n\t\t\tthis.getCharIndex = function () {\n\t\t\t\treturn cursor;\n\t\t\t};\n\t\t}\n\t\n\t\t// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code\n\t\t// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358\n\t\tfunction getScriptPath() {\n\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\treturn scripts.length ? scripts[scripts.length - 1].src : '';\n\t\t}\n\t\n\t\tfunction newWorker() {\n\t\t\tif (!Papa.WORKERS_SUPPORTED) return false;\n\t\t\tif (!LOADED_SYNC && Papa.SCRIPT_PATH === null) throw new Error('Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' + 'You need to set Papa.SCRIPT_PATH manually.');\n\t\t\tvar workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;\n\t\t\t// Append 'papaworker' to the search string to tell papaparse that this is our worker.\n\t\t\tworkerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';\n\t\t\tvar w = new global.Worker(workerUrl);\n\t\t\tw.onmessage = mainThreadReceivedMessage;\n\t\t\tw.id = workerIdCounter++;\n\t\t\tworkers[w.id] = w;\n\t\t\treturn w;\n\t\t}\n\t\n\t\t/** Callback when main thread receives a message */\n\t\tfunction mainThreadReceivedMessage(e) {\n\t\t\tvar msg = e.data;\n\t\t\tvar worker = workers[msg.workerId];\n\t\t\tvar aborted = false;\n\t\n\t\t\tif (msg.error) worker.userError(msg.error, msg.file);else if (msg.results && msg.results.data) {\n\t\t\t\tvar abort = function abort() {\n\t\t\t\t\taborted = true;\n\t\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t\t};\n\t\n\t\t\t\tvar handle = {\n\t\t\t\t\tabort: abort,\n\t\t\t\t\tpause: notImplemented,\n\t\t\t\t\tresume: notImplemented\n\t\t\t\t};\n\t\n\t\t\t\tif (isFunction(worker.userStep)) {\n\t\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++) {\n\t\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\t\tdata: [msg.results.data[i]],\n\t\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t\t}, handle);\n\t\t\t\t\t\tif (aborted) break;\n\t\t\t\t\t}\n\t\t\t\t\tdelete msg.results; // free memory ASAP\n\t\t\t\t} else if (isFunction(worker.userChunk)) {\n\t\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\t\tdelete msg.results;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (msg.finished && !aborted) completeWorker(msg.workerId, msg.results);\n\t\t}\n\t\n\t\tfunction completeWorker(workerId, results) {\n\t\t\tvar worker = workers[workerId];\n\t\t\tif (isFunction(worker.userComplete)) worker.userComplete(results);\n\t\t\tworker.terminate();\n\t\t\tdelete workers[workerId];\n\t\t}\n\t\n\t\tfunction notImplemented() {\n\t\t\tthrow 'Not implemented.';\n\t\t}\n\t\n\t\t/** Callback when worker thread receives a message */\n\t\tfunction workerThreadReceivedMessage(e) {\n\t\t\tvar msg = e.data;\n\t\n\t\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg) Papa.WORKER_ID = msg.workerId;\n\t\n\t\t\tif (typeof msg.input === 'string') {\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t\t} else if (global.File && msg.input instanceof File || msg.input instanceof Object) // thank you, Safari (see issue #106)\n\t\t\t\t{\n\t\t\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\t\t\tif (results) global.postMessage({\n\t\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\t\tresults: results,\n\t\t\t\t\t\tfinished: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t}\n\t\n\t\t/** Makes a deep copy of an array or object (mostly) */\n\t\tfunction copy(obj) {\n\t\t\tif ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') return obj;\n\t\t\tvar cpy = obj instanceof Array ? [] : {};\n\t\t\tfor (var key in obj) {\n\t\t\t\tcpy[key] = copy(obj[key]);\n\t\t\t}return cpy;\n\t\t}\n\t\n\t\tfunction bindFunction(f, self) {\n\t\t\treturn function () {\n\t\t\t\tf.apply(self, arguments);\n\t\t\t};\n\t\t}\n\t\n\t\tfunction isFunction(func) {\n\t\t\treturn typeof func === 'function';\n\t\t}\n\t\n\t\treturn Papa;\n\t});\n\n/***/ },\n/* 109 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar tslib_1 = __webpack_require__(6);\n\ttslib_1.__exportStar(__webpack_require__(110), exports);\n\ttslib_1.__exportStar(__webpack_require__(111), exports);\n\ttslib_1.__exportStar(__webpack_require__(157), exports);\n\ttslib_1.__exportStar(__webpack_require__(171), exports);\n\t//# sourceMappingURL=index.js.map\n\n/***/ },\n/* 110 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar get = __webpack_require__(68);\n\tvar includes = __webpack_require__(10);\n\texports.SCHEMAS = new Set(['concepts.schema', 'entities.schema', 'datapoints.schema', '*.schema']);\n\texports.DATAPOINTS = 'datapoints';\n\texports.ENTITIES = 'entities';\n\texports.CONCEPTS = 'concepts';\n\texports.AVAILABLE_QUERY_OPERATORS = new Set(['$eq', '$gt', '$gte', '$lt', '$lte', '$ne', '$in', '$nin', '$or', '$and', '$not', '$nor', '$size', '$all', '$elemMatch']);\n\texports.AVAILABLE_FROM_CLAUSE_VALUES = new Set([exports.CONCEPTS, exports.ENTITIES, exports.DATAPOINTS].concat(_toConsumableArray(exports.SCHEMAS)));\n\texports.AVAILABLE_ORDER_BY_CLAUSE_VALUES = new Set(['asc', 'desc', 1, -1]);\n\texports.DEFAULT_DATASET_NAME = process.env.DEFAULT_DATASET_NAME || 'systema_globalis';\n\texports.DEFAULT_DATASET_BRANCH = process.env.DEFAULT_DATASET_BRANCH || 'master';\n\texports.DEFAULT_DATASET_COMMIT = 'HEAD';\n\texports.DEFAULT_DATASET_DIR = process.env.DEFAULT_DATASET_DIR || './datasets';\n\texports.MAX_AMOUNT_OF_MEASURES_IN_SELECT = 5;\n\tfunction isSchemaQuery(query) {\n\t    var fromClause = get(query, 'from');\n\t    return exports.SCHEMAS.has(fromClause);\n\t}\n\texports.isSchemaQuery = isSchemaQuery;\n\tfunction isDatapointsQuery(query) {\n\t    var fromClause = get(query, 'from');\n\t    return fromClause === exports.DATAPOINTS;\n\t}\n\texports.isDatapointsQuery = isDatapointsQuery;\n\tfunction isEntitiesQuery(query) {\n\t    var fromClause = get(query, 'from');\n\t    return fromClause === exports.ENTITIES;\n\t}\n\texports.isEntitiesQuery = isEntitiesQuery;\n\tfunction isConceptsQuery(query) {\n\t    var fromClause = get(query, 'from');\n\t    return fromClause === exports.CONCEPTS;\n\t}\n\texports.isConceptsQuery = isConceptsQuery;\n\tfunction isEntityDomainOrSet(conceptType) {\n\t    return includes(['entity_domain', 'entity_set', 'time'], conceptType);\n\t}\n\texports.isEntityDomainOrSet = isEntityDomainOrSet;\n\tfunction isMeasure(conceptType) {\n\t    return includes(['measure', 'string'], conceptType);\n\t}\n\texports.isMeasure = isMeasure;\n\t//# sourceMappingURL=helper.service.js.map\n\n/***/ },\n/* 111 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar isEmpty = __webpack_require__(51);\n\tvar isNil = __webpack_require__(7);\n\tvar filter = __webpack_require__(112);\n\tvar get = __webpack_require__(68);\n\tvar compact = __webpack_require__(107);\n\tvar helper_service_1 = __webpack_require__(110);\n\tfunction validateQueryDefinitions(query) {\n\t    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return new Promise(function (resolve, reject) {\n\t        var validationResult = [].concat(_toConsumableArray(validateSelectDefinitions(query, options)));\n\t        var isQueryValid = isEmpty(validationResult);\n\t        if (!isQueryValid) {\n\t            return reject(\"Too many query definition errors: \\n* \" + validationResult.join('\\n* '));\n\t        }\n\t        return resolve();\n\t    });\n\t}\n\texports.validateQueryDefinitions = validateQueryDefinitions;\n\tfunction validateSelectDefinitions(query, options) {\n\t    var errorMessages = [];\n\t    var selectClause = get(query, 'select', null);\n\t    var fromClause = get(query, 'from', null);\n\t    var key = get(selectClause, 'key');\n\t    var value = get(selectClause, 'value');\n\t    switch (true) {\n\t        case helper_service_1.isSchemaQuery(query):\n\t            errorMessages.push.apply(errorMessages, []);\n\t            break;\n\t        case helper_service_1.isEntitiesQuery(query):\n\t            errorMessages.push.apply(errorMessages, []);\n\t            break;\n\t        case helper_service_1.isConceptsQuery(query):\n\t            errorMessages.push.apply(errorMessages, []);\n\t            break;\n\t        case helper_service_1.isDatapointsQuery(query):\n\t            errorMessages.push(checkIfSelectKeyHasInvalidDefinitions(query, key, options), checkIfSelectValueHasInvalidDefinitions(query, value, options));\n\t            break;\n\t        default:\n\t            break;\n\t    }\n\t    return compact(errorMessages);\n\t}\n\tfunction checkIfSelectKeyHasInvalidDefinitions(query, key, options) {\n\t    var fromClause = get(query, 'from', null);\n\t    var unavailableKeys = getUnavailableSelectKeys(key, options);\n\t    if (!isEmpty(unavailableKeys)) {\n\t        return \"'select.key' clause for '\" + fromClause + \"' queries contains unavailable item(s): \" + unavailableKeys.join(', ') + \" [repo: \" + query.dataset + \"]\";\n\t    }\n\t}\n\tfunction checkIfSelectValueHasInvalidDefinitions(query, value, options) {\n\t    var fromClause = get(query, 'from', null);\n\t    var unavailableValues = getUnavailableSelectValues(value, options);\n\t    if (!isEmpty(unavailableValues)) {\n\t        return \"'select.value' clause for '\" + fromClause + \"' queries contains unavailable item(s): \" + unavailableValues.join(', ') + \" [repo: \" + query.dataset + \"]\";\n\t    }\n\t}\n\tfunction getUnavailableSelectKeys(key, options) {\n\t    return filter(key, function (keyItem) {\n\t        var concept = options.conceptsLookup.get(keyItem);\n\t        if (isNil(concept) || !helper_service_1.isEntityDomainOrSet(concept.concept_type)) {\n\t            return true;\n\t        }\n\t        return false;\n\t    });\n\t}\n\tfunction getUnavailableSelectValues(value, options) {\n\t    return filter(value, function (valueItem) {\n\t        var concept = options.conceptsLookup.get(valueItem);\n\t        if (isNil(concept) || !helper_service_1.isMeasure(concept.concept_type)) {\n\t            return true;\n\t        }\n\t        return false;\n\t    });\n\t}\n\t//# sourceMappingURL=definition.service.js.map\n\n/***/ },\n/* 112 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar arrayFilter = __webpack_require__(113),\n\t    baseFilter = __webpack_require__(114),\n\t    baseIteratee = __webpack_require__(120),\n\t    isArray = __webpack_require__(25);\n\t\n\t/**\n\t * Iterates over elements of `collection`, returning an array of all elements\n\t * `predicate` returns truthy for. The predicate is invoked with three\n\t * arguments: (value, index|key, collection).\n\t *\n\t * **Note:** Unlike `_.remove`, this method returns a new array.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} [predicate=_.identity] The function invoked per iteration.\n\t * @returns {Array} Returns the new filtered array.\n\t * @see _.reject\n\t * @example\n\t *\n\t * var users = [\n\t *   { 'user': 'barney', 'age': 36, 'active': true },\n\t *   { 'user': 'fred',   'age': 40, 'active': false }\n\t * ];\n\t *\n\t * _.filter(users, function(o) { return !o.active; });\n\t * // => objects for ['fred']\n\t *\n\t * // The `_.matches` iteratee shorthand.\n\t * _.filter(users, { 'age': 36, 'active': true });\n\t * // => objects for ['barney']\n\t *\n\t * // The `_.matchesProperty` iteratee shorthand.\n\t * _.filter(users, ['active', false]);\n\t * // => objects for ['fred']\n\t *\n\t * // The `_.property` iteratee shorthand.\n\t * _.filter(users, 'active');\n\t * // => objects for ['barney']\n\t */\n\tfunction filter(collection, predicate) {\n\t  var func = isArray(collection) ? arrayFilter : baseFilter;\n\t  return func(collection, baseIteratee(predicate, 3));\n\t}\n\t\n\tmodule.exports = filter;\n\n/***/ },\n/* 113 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * A specialized version of `_.filter` for arrays without support for\n\t * iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array} [array] The array to iterate over.\n\t * @param {Function} predicate The function invoked per iteration.\n\t * @returns {Array} Returns the new filtered array.\n\t */\n\tfunction arrayFilter(array, predicate) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length,\n\t      resIndex = 0,\n\t      result = [];\n\t\n\t  while (++index < length) {\n\t    var value = array[index];\n\t    if (predicate(value, index, array)) {\n\t      result[resIndex++] = value;\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = arrayFilter;\n\n/***/ },\n/* 114 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseEach = __webpack_require__(115);\n\t\n\t/**\n\t * The base implementation of `_.filter` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} predicate The function invoked per iteration.\n\t * @returns {Array} Returns the new filtered array.\n\t */\n\tfunction baseFilter(collection, predicate) {\n\t  var result = [];\n\t  baseEach(collection, function (value, index, collection) {\n\t    if (predicate(value, index, collection)) {\n\t      result.push(value);\n\t    }\n\t  });\n\t  return result;\n\t}\n\t\n\tmodule.exports = baseFilter;\n\n/***/ },\n/* 115 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseForOwn = __webpack_require__(116),\n\t    createBaseEach = __webpack_require__(119);\n\t\n\t/**\n\t * The base implementation of `_.forEach` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array|Object} Returns `collection`.\n\t */\n\tvar baseEach = createBaseEach(baseForOwn);\n\t\n\tmodule.exports = baseEach;\n\n/***/ },\n/* 116 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseFor = __webpack_require__(117),\n\t    keys = __webpack_require__(34);\n\t\n\t/**\n\t * The base implementation of `_.forOwn` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Object} object The object to iterate over.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction baseForOwn(object, iteratee) {\n\t  return object && baseFor(object, iteratee, keys);\n\t}\n\t\n\tmodule.exports = baseForOwn;\n\n/***/ },\n/* 117 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar createBaseFor = __webpack_require__(118);\n\t\n\t/**\n\t * The base implementation of `baseForOwn` which iterates over `object`\n\t * properties returned by `keysFunc` and invokes `iteratee` for each property.\n\t * Iteratee functions may exit iteration early by explicitly returning `false`.\n\t *\n\t * @private\n\t * @param {Object} object The object to iterate over.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @param {Function} keysFunc The function to get the keys of `object`.\n\t * @returns {Object} Returns `object`.\n\t */\n\tvar baseFor = createBaseFor();\n\t\n\tmodule.exports = baseFor;\n\n/***/ },\n/* 118 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n\t *\n\t * @private\n\t * @param {boolean} [fromRight] Specify iterating from right to left.\n\t * @returns {Function} Returns the new base function.\n\t */\n\tfunction createBaseFor(fromRight) {\n\t  return function (object, iteratee, keysFunc) {\n\t    var index = -1,\n\t        iterable = Object(object),\n\t        props = keysFunc(object),\n\t        length = props.length;\n\t\n\t    while (length--) {\n\t      var key = props[fromRight ? length : ++index];\n\t      if (iteratee(iterable[key], key, iterable) === false) {\n\t        break;\n\t      }\n\t    }\n\t    return object;\n\t  };\n\t}\n\t\n\tmodule.exports = createBaseFor;\n\n/***/ },\n/* 119 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isArrayLike = __webpack_require__(15);\n\t\n\t/**\n\t * Creates a `baseEach` or `baseEachRight` function.\n\t *\n\t * @private\n\t * @param {Function} eachFunc The function to iterate over a collection.\n\t * @param {boolean} [fromRight] Specify iterating from right to left.\n\t * @returns {Function} Returns the new base function.\n\t */\n\tfunction createBaseEach(eachFunc, fromRight) {\n\t  return function (collection, iteratee) {\n\t    if (collection == null) {\n\t      return collection;\n\t    }\n\t    if (!isArrayLike(collection)) {\n\t      return eachFunc(collection, iteratee);\n\t    }\n\t    var length = collection.length,\n\t        index = fromRight ? length : -1,\n\t        iterable = Object(collection);\n\t\n\t    while (fromRight ? index-- : ++index < length) {\n\t      if (iteratee(iterable[index], index, iterable) === false) {\n\t        break;\n\t      }\n\t    }\n\t    return collection;\n\t  };\n\t}\n\t\n\tmodule.exports = createBaseEach;\n\n/***/ },\n/* 120 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar baseMatches = __webpack_require__(121),\n\t    baseMatchesProperty = __webpack_require__(149),\n\t    identity = __webpack_require__(153),\n\t    isArray = __webpack_require__(25),\n\t    property = __webpack_require__(154);\n\t\n\t/**\n\t * The base implementation of `_.iteratee`.\n\t *\n\t * @private\n\t * @param {*} [value=_.identity] The value to convert to an iteratee.\n\t * @returns {Function} Returns the iteratee.\n\t */\n\tfunction baseIteratee(value) {\n\t  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n\t  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n\t  if (typeof value == 'function') {\n\t    return value;\n\t  }\n\t  if (value == null) {\n\t    return identity;\n\t  }\n\t  if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object') {\n\t    return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n\t  }\n\t  return property(value);\n\t}\n\t\n\tmodule.exports = baseIteratee;\n\n/***/ },\n/* 121 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseIsMatch = __webpack_require__(122),\n\t    getMatchData = __webpack_require__(146),\n\t    matchesStrictComparable = __webpack_require__(148);\n\t\n\t/**\n\t * The base implementation of `_.matches` which doesn't clone `source`.\n\t *\n\t * @private\n\t * @param {Object} source The object of property values to match.\n\t * @returns {Function} Returns the new spec function.\n\t */\n\tfunction baseMatches(source) {\n\t  var matchData = getMatchData(source);\n\t  if (matchData.length == 1 && matchData[0][2]) {\n\t    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n\t  }\n\t  return function (object) {\n\t    return object === source || baseIsMatch(object, source, matchData);\n\t  };\n\t}\n\t\n\tmodule.exports = baseMatches;\n\n/***/ },\n/* 122 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Stack = __webpack_require__(123),\n\t    baseIsEqual = __webpack_require__(129);\n\t\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1,\n\t    COMPARE_UNORDERED_FLAG = 2;\n\t\n\t/**\n\t * The base implementation of `_.isMatch` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Object} object The object to inspect.\n\t * @param {Object} source The object of property values to match.\n\t * @param {Array} matchData The property names, values, and compare flags to match.\n\t * @param {Function} [customizer] The function to customize comparisons.\n\t * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n\t */\n\tfunction baseIsMatch(object, source, matchData, customizer) {\n\t  var index = matchData.length,\n\t      length = index,\n\t      noCustomizer = !customizer;\n\t\n\t  if (object == null) {\n\t    return !length;\n\t  }\n\t  object = Object(object);\n\t  while (index--) {\n\t    var data = matchData[index];\n\t    if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n\t      return false;\n\t    }\n\t  }\n\t  while (++index < length) {\n\t    data = matchData[index];\n\t    var key = data[0],\n\t        objValue = object[key],\n\t        srcValue = data[1];\n\t\n\t    if (noCustomizer && data[2]) {\n\t      if (objValue === undefined && !(key in object)) {\n\t        return false;\n\t      }\n\t    } else {\n\t      var stack = new Stack();\n\t      if (customizer) {\n\t        var result = customizer(objValue, srcValue, key, object, source, stack);\n\t      }\n\t      if (!(result === undefined ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\t  return true;\n\t}\n\t\n\tmodule.exports = baseIsMatch;\n\n/***/ },\n/* 123 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ListCache = __webpack_require__(84),\n\t    stackClear = __webpack_require__(124),\n\t    stackDelete = __webpack_require__(125),\n\t    stackGet = __webpack_require__(126),\n\t    stackHas = __webpack_require__(127),\n\t    stackSet = __webpack_require__(128);\n\t\n\t/**\n\t * Creates a stack cache object to store key-value pairs.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [entries] The key-value pairs to cache.\n\t */\n\tfunction Stack(entries) {\n\t  var data = this.__data__ = new ListCache(entries);\n\t  this.size = data.size;\n\t}\n\t\n\t// Add methods to `Stack`.\n\tStack.prototype.clear = stackClear;\n\tStack.prototype['delete'] = stackDelete;\n\tStack.prototype.get = stackGet;\n\tStack.prototype.has = stackHas;\n\tStack.prototype.set = stackSet;\n\t\n\tmodule.exports = Stack;\n\n/***/ },\n/* 124 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ListCache = __webpack_require__(84);\n\t\n\t/**\n\t * Removes all key-value entries from the stack.\n\t *\n\t * @private\n\t * @name clear\n\t * @memberOf Stack\n\t */\n\tfunction stackClear() {\n\t  this.__data__ = new ListCache();\n\t  this.size = 0;\n\t}\n\t\n\tmodule.exports = stackClear;\n\n/***/ },\n/* 125 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Removes `key` and its value from the stack.\n\t *\n\t * @private\n\t * @name delete\n\t * @memberOf Stack\n\t * @param {string} key The key of the value to remove.\n\t * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n\t */\n\tfunction stackDelete(key) {\n\t  var data = this.__data__,\n\t      result = data['delete'](key);\n\t\n\t  this.size = data.size;\n\t  return result;\n\t}\n\t\n\tmodule.exports = stackDelete;\n\n/***/ },\n/* 126 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Gets the stack value for `key`.\n\t *\n\t * @private\n\t * @name get\n\t * @memberOf Stack\n\t * @param {string} key The key of the value to get.\n\t * @returns {*} Returns the entry value.\n\t */\n\tfunction stackGet(key) {\n\t  return this.__data__.get(key);\n\t}\n\t\n\tmodule.exports = stackGet;\n\n/***/ },\n/* 127 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Checks if a stack value for `key` exists.\n\t *\n\t * @private\n\t * @name has\n\t * @memberOf Stack\n\t * @param {string} key The key of the entry to check.\n\t * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n\t */\n\tfunction stackHas(key) {\n\t  return this.__data__.has(key);\n\t}\n\t\n\tmodule.exports = stackHas;\n\n/***/ },\n/* 128 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ListCache = __webpack_require__(84),\n\t    Map = __webpack_require__(60),\n\t    MapCache = __webpack_require__(75);\n\t\n\t/** Used as the size to enable large array optimizations. */\n\tvar LARGE_ARRAY_SIZE = 200;\n\t\n\t/**\n\t * Sets the stack `key` to `value`.\n\t *\n\t * @private\n\t * @name set\n\t * @memberOf Stack\n\t * @param {string} key The key of the value to set.\n\t * @param {*} value The value to set.\n\t * @returns {Object} Returns the stack cache instance.\n\t */\n\tfunction stackSet(key, value) {\n\t  var data = this.__data__;\n\t  if (data instanceof ListCache) {\n\t    var pairs = data.__data__;\n\t    if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n\t      pairs.push([key, value]);\n\t      this.size = ++data.size;\n\t      return this;\n\t    }\n\t    data = this.__data__ = new MapCache(pairs);\n\t  }\n\t  data.set(key, value);\n\t  this.size = data.size;\n\t  return this;\n\t}\n\t\n\tmodule.exports = stackSet;\n\n/***/ },\n/* 129 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseIsEqualDeep = __webpack_require__(130),\n\t    isObjectLike = __webpack_require__(26);\n\t\n\t/**\n\t * The base implementation of `_.isEqual` which supports partial comparisons\n\t * and tracks traversed objects.\n\t *\n\t * @private\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @param {boolean} bitmask The bitmask flags.\n\t *  1 - Unordered comparison\n\t *  2 - Partial comparison\n\t * @param {Function} [customizer] The function to customize comparisons.\n\t * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t */\n\tfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n\t  if (value === other) {\n\t    return true;\n\t  }\n\t  if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n\t    return value !== value && other !== other;\n\t  }\n\t  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n\t}\n\t\n\tmodule.exports = baseIsEqual;\n\n/***/ },\n/* 130 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Stack = __webpack_require__(123),\n\t    equalArrays = __webpack_require__(131),\n\t    equalByTag = __webpack_require__(137),\n\t    equalObjects = __webpack_require__(141),\n\t    getTag = __webpack_require__(52),\n\t    isArray = __webpack_require__(25),\n\t    isBuffer = __webpack_require__(39),\n\t    isTypedArray = __webpack_require__(43);\n\t\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1;\n\t\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]',\n\t    arrayTag = '[object Array]',\n\t    objectTag = '[object Object]';\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * A specialized version of `baseIsEqual` for arrays and objects which performs\n\t * deep comparisons and tracks traversed objects enabling objects with circular\n\t * references to be compared.\n\t *\n\t * @private\n\t * @param {Object} object The object to compare.\n\t * @param {Object} other The other object to compare.\n\t * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n\t * @param {Function} customizer The function to customize comparisons.\n\t * @param {Function} equalFunc The function to determine equivalents of values.\n\t * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n\t * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n\t */\n\tfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n\t  var objIsArr = isArray(object),\n\t      othIsArr = isArray(other),\n\t      objTag = objIsArr ? arrayTag : getTag(object),\n\t      othTag = othIsArr ? arrayTag : getTag(other);\n\t\n\t  objTag = objTag == argsTag ? objectTag : objTag;\n\t  othTag = othTag == argsTag ? objectTag : othTag;\n\t\n\t  var objIsObj = objTag == objectTag,\n\t      othIsObj = othTag == objectTag,\n\t      isSameTag = objTag == othTag;\n\t\n\t  if (isSameTag && isBuffer(object)) {\n\t    if (!isBuffer(other)) {\n\t      return false;\n\t    }\n\t    objIsArr = true;\n\t    objIsObj = false;\n\t  }\n\t  if (isSameTag && !objIsObj) {\n\t    stack || (stack = new Stack());\n\t    return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n\t  }\n\t  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n\t    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n\t        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\t\n\t    if (objIsWrapped || othIsWrapped) {\n\t      var objUnwrapped = objIsWrapped ? object.value() : object,\n\t          othUnwrapped = othIsWrapped ? other.value() : other;\n\t\n\t      stack || (stack = new Stack());\n\t      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n\t    }\n\t  }\n\t  if (!isSameTag) {\n\t    return false;\n\t  }\n\t  stack || (stack = new Stack());\n\t  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n\t}\n\t\n\tmodule.exports = baseIsEqualDeep;\n\n/***/ },\n/* 131 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar SetCache = __webpack_require__(132),\n\t    arraySome = __webpack_require__(135),\n\t    cacheHas = __webpack_require__(136);\n\t\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1,\n\t    COMPARE_UNORDERED_FLAG = 2;\n\t\n\t/**\n\t * A specialized version of `baseIsEqualDeep` for arrays with support for\n\t * partial deep comparisons.\n\t *\n\t * @private\n\t * @param {Array} array The array to compare.\n\t * @param {Array} other The other array to compare.\n\t * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n\t * @param {Function} customizer The function to customize comparisons.\n\t * @param {Function} equalFunc The function to determine equivalents of values.\n\t * @param {Object} stack Tracks traversed `array` and `other` objects.\n\t * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n\t */\n\tfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n\t  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n\t      arrLength = array.length,\n\t      othLength = other.length;\n\t\n\t  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n\t    return false;\n\t  }\n\t  // Assume cyclic values are equal.\n\t  var stacked = stack.get(array);\n\t  if (stacked && stack.get(other)) {\n\t    return stacked == other;\n\t  }\n\t  var index = -1,\n\t      result = true,\n\t      seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;\n\t\n\t  stack.set(array, other);\n\t  stack.set(other, array);\n\t\n\t  // Ignore non-index properties.\n\t  while (++index < arrLength) {\n\t    var arrValue = array[index],\n\t        othValue = other[index];\n\t\n\t    if (customizer) {\n\t      var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n\t    }\n\t    if (compared !== undefined) {\n\t      if (compared) {\n\t        continue;\n\t      }\n\t      result = false;\n\t      break;\n\t    }\n\t    // Recursively compare arrays (susceptible to call stack limits).\n\t    if (seen) {\n\t      if (!arraySome(other, function (othValue, othIndex) {\n\t        if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n\t          return seen.push(othIndex);\n\t        }\n\t      })) {\n\t        result = false;\n\t        break;\n\t      }\n\t    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n\t      result = false;\n\t      break;\n\t    }\n\t  }\n\t  stack['delete'](array);\n\t  stack['delete'](other);\n\t  return result;\n\t}\n\t\n\tmodule.exports = equalArrays;\n\n/***/ },\n/* 132 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar MapCache = __webpack_require__(75),\n\t    setCacheAdd = __webpack_require__(133),\n\t    setCacheHas = __webpack_require__(134);\n\t\n\t/**\n\t *\n\t * Creates an array cache object to store unique values.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [values] The values to cache.\n\t */\n\tfunction SetCache(values) {\n\t    var index = -1,\n\t        length = values == null ? 0 : values.length;\n\t\n\t    this.__data__ = new MapCache();\n\t    while (++index < length) {\n\t        this.add(values[index]);\n\t    }\n\t}\n\t\n\t// Add methods to `SetCache`.\n\tSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n\tSetCache.prototype.has = setCacheHas;\n\t\n\tmodule.exports = SetCache;\n\n/***/ },\n/* 133 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/** Used to stand-in for `undefined` hash values. */\n\tvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\t\n\t/**\n\t * Adds `value` to the array cache.\n\t *\n\t * @private\n\t * @name add\n\t * @memberOf SetCache\n\t * @alias push\n\t * @param {*} value The value to cache.\n\t * @returns {Object} Returns the cache instance.\n\t */\n\tfunction setCacheAdd(value) {\n\t  this.__data__.set(value, HASH_UNDEFINED);\n\t  return this;\n\t}\n\t\n\tmodule.exports = setCacheAdd;\n\n/***/ },\n/* 134 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Checks if `value` is in the array cache.\n\t *\n\t * @private\n\t * @name has\n\t * @memberOf SetCache\n\t * @param {*} value The value to search for.\n\t * @returns {number} Returns `true` if `value` is found, else `false`.\n\t */\n\tfunction setCacheHas(value) {\n\t  return this.__data__.has(value);\n\t}\n\t\n\tmodule.exports = setCacheHas;\n\n/***/ },\n/* 135 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * A specialized version of `_.some` for arrays without support for iteratee\n\t * shorthands.\n\t *\n\t * @private\n\t * @param {Array} [array] The array to iterate over.\n\t * @param {Function} predicate The function invoked per iteration.\n\t * @returns {boolean} Returns `true` if any element passes the predicate check,\n\t *  else `false`.\n\t */\n\tfunction arraySome(array, predicate) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length;\n\t\n\t  while (++index < length) {\n\t    if (predicate(array[index], index, array)) {\n\t      return true;\n\t    }\n\t  }\n\t  return false;\n\t}\n\t\n\tmodule.exports = arraySome;\n\n/***/ },\n/* 136 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Checks if a `cache` value for `key` exists.\n\t *\n\t * @private\n\t * @param {Object} cache The cache to query.\n\t * @param {string} key The key of the entry to check.\n\t * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n\t */\n\tfunction cacheHas(cache, key) {\n\t  return cache.has(key);\n\t}\n\t\n\tmodule.exports = cacheHas;\n\n/***/ },\n/* 137 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Symbol = __webpack_require__(18),\n\t    Uint8Array = __webpack_require__(138),\n\t    eq = __webpack_require__(88),\n\t    equalArrays = __webpack_require__(131),\n\t    mapToArray = __webpack_require__(139),\n\t    setToArray = __webpack_require__(140);\n\t\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1,\n\t    COMPARE_UNORDERED_FLAG = 2;\n\t\n\t/** `Object#toString` result references. */\n\tvar boolTag = '[object Boolean]',\n\t    dateTag = '[object Date]',\n\t    errorTag = '[object Error]',\n\t    mapTag = '[object Map]',\n\t    numberTag = '[object Number]',\n\t    regexpTag = '[object RegExp]',\n\t    setTag = '[object Set]',\n\t    stringTag = '[object String]',\n\t    symbolTag = '[object Symbol]';\n\t\n\tvar arrayBufferTag = '[object ArrayBuffer]',\n\t    dataViewTag = '[object DataView]';\n\t\n\t/** Used to convert symbols to primitives and strings. */\n\tvar symbolProto = _Symbol ? _Symbol.prototype : undefined,\n\t    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\t\n\t/**\n\t * A specialized version of `baseIsEqualDeep` for comparing objects of\n\t * the same `toStringTag`.\n\t *\n\t * **Note:** This function only supports comparing values with tags of\n\t * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n\t *\n\t * @private\n\t * @param {Object} object The object to compare.\n\t * @param {Object} other The other object to compare.\n\t * @param {string} tag The `toStringTag` of the objects to compare.\n\t * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n\t * @param {Function} customizer The function to customize comparisons.\n\t * @param {Function} equalFunc The function to determine equivalents of values.\n\t * @param {Object} stack Tracks traversed `object` and `other` objects.\n\t * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n\t */\n\tfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n\t  switch (tag) {\n\t    case dataViewTag:\n\t      if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n\t        return false;\n\t      }\n\t      object = object.buffer;\n\t      other = other.buffer;\n\t\n\t    case arrayBufferTag:\n\t      if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n\t        return false;\n\t      }\n\t      return true;\n\t\n\t    case boolTag:\n\t    case dateTag:\n\t    case numberTag:\n\t      // Coerce booleans to `1` or `0` and dates to milliseconds.\n\t      // Invalid dates are coerced to `NaN`.\n\t      return eq(+object, +other);\n\t\n\t    case errorTag:\n\t      return object.name == other.name && object.message == other.message;\n\t\n\t    case regexpTag:\n\t    case stringTag:\n\t      // Coerce regexes to strings and treat strings, primitives and objects,\n\t      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n\t      // for more details.\n\t      return object == other + '';\n\t\n\t    case mapTag:\n\t      var convert = mapToArray;\n\t\n\t    case setTag:\n\t      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n\t      convert || (convert = setToArray);\n\t\n\t      if (object.size != other.size && !isPartial) {\n\t        return false;\n\t      }\n\t      // Assume cyclic values are equal.\n\t      var stacked = stack.get(object);\n\t      if (stacked) {\n\t        return stacked == other;\n\t      }\n\t      bitmask |= COMPARE_UNORDERED_FLAG;\n\t\n\t      // Recursively compare objects (susceptible to call stack limits).\n\t      stack.set(object, other);\n\t      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n\t      stack['delete'](object);\n\t      return result;\n\t\n\t    case symbolTag:\n\t      if (symbolValueOf) {\n\t        return symbolValueOf.call(object) == symbolValueOf.call(other);\n\t      }\n\t  }\n\t  return false;\n\t}\n\t\n\tmodule.exports = equalByTag;\n\n/***/ },\n/* 138 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar root = __webpack_require__(19);\n\t\n\t/** Built-in value references. */\n\tvar Uint8Array = root.Uint8Array;\n\t\n\tmodule.exports = Uint8Array;\n\n/***/ },\n/* 139 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Converts `map` to its key-value pairs.\n\t *\n\t * @private\n\t * @param {Object} map The map to convert.\n\t * @returns {Array} Returns the key-value pairs.\n\t */\n\tfunction mapToArray(map) {\n\t  var index = -1,\n\t      result = Array(map.size);\n\t\n\t  map.forEach(function (value, key) {\n\t    result[++index] = [key, value];\n\t  });\n\t  return result;\n\t}\n\t\n\tmodule.exports = mapToArray;\n\n/***/ },\n/* 140 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Converts `set` to an array of its values.\n\t *\n\t * @private\n\t * @param {Object} set The set to convert.\n\t * @returns {Array} Returns the values.\n\t */\n\tfunction setToArray(set) {\n\t  var index = -1,\n\t      result = Array(set.size);\n\t\n\t  set.forEach(function (value) {\n\t    result[++index] = value;\n\t  });\n\t  return result;\n\t}\n\t\n\tmodule.exports = setToArray;\n\n/***/ },\n/* 141 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getAllKeys = __webpack_require__(142);\n\t\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1;\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * A specialized version of `baseIsEqualDeep` for objects with support for\n\t * partial deep comparisons.\n\t *\n\t * @private\n\t * @param {Object} object The object to compare.\n\t * @param {Object} other The other object to compare.\n\t * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n\t * @param {Function} customizer The function to customize comparisons.\n\t * @param {Function} equalFunc The function to determine equivalents of values.\n\t * @param {Object} stack Tracks traversed `object` and `other` objects.\n\t * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n\t */\n\tfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n\t  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n\t      objProps = getAllKeys(object),\n\t      objLength = objProps.length,\n\t      othProps = getAllKeys(other),\n\t      othLength = othProps.length;\n\t\n\t  if (objLength != othLength && !isPartial) {\n\t    return false;\n\t  }\n\t  var index = objLength;\n\t  while (index--) {\n\t    var key = objProps[index];\n\t    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n\t      return false;\n\t    }\n\t  }\n\t  // Assume cyclic values are equal.\n\t  var stacked = stack.get(object);\n\t  if (stacked && stack.get(other)) {\n\t    return stacked == other;\n\t  }\n\t  var result = true;\n\t  stack.set(object, other);\n\t  stack.set(other, object);\n\t\n\t  var skipCtor = isPartial;\n\t  while (++index < objLength) {\n\t    key = objProps[index];\n\t    var objValue = object[key],\n\t        othValue = other[key];\n\t\n\t    if (customizer) {\n\t      var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n\t    }\n\t    // Recursively compare objects (susceptible to call stack limits).\n\t    if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n\t      result = false;\n\t      break;\n\t    }\n\t    skipCtor || (skipCtor = key == 'constructor');\n\t  }\n\t  if (result && !skipCtor) {\n\t    var objCtor = object.constructor,\n\t        othCtor = other.constructor;\n\t\n\t    // Non `Object` object instances with different constructors are not equal.\n\t    if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n\t      result = false;\n\t    }\n\t  }\n\t  stack['delete'](object);\n\t  stack['delete'](other);\n\t  return result;\n\t}\n\t\n\tmodule.exports = equalObjects;\n\n/***/ },\n/* 142 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseGetAllKeys = __webpack_require__(143),\n\t    getSymbols = __webpack_require__(144),\n\t    keys = __webpack_require__(34);\n\t\n\t/**\n\t * Creates an array of own enumerable property names and symbols of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names and symbols.\n\t */\n\tfunction getAllKeys(object) {\n\t  return baseGetAllKeys(object, keys, getSymbols);\n\t}\n\t\n\tmodule.exports = getAllKeys;\n\n/***/ },\n/* 143 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar arrayPush = __webpack_require__(103),\n\t    isArray = __webpack_require__(25);\n\t\n\t/**\n\t * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n\t * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n\t * symbols of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Function} keysFunc The function to get the keys of `object`.\n\t * @param {Function} symbolsFunc The function to get the symbols of `object`.\n\t * @returns {Array} Returns the array of property names and symbols.\n\t */\n\tfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n\t  var result = keysFunc(object);\n\t  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n\t}\n\t\n\tmodule.exports = baseGetAllKeys;\n\n/***/ },\n/* 144 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar arrayFilter = __webpack_require__(113),\n\t    stubArray = __webpack_require__(145);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\t\n\t/**\n\t * Creates an array of the own enumerable symbols of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of symbols.\n\t */\n\tvar getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n\t  if (object == null) {\n\t    return [];\n\t  }\n\t  object = Object(object);\n\t  return arrayFilter(nativeGetSymbols(object), function (symbol) {\n\t    return propertyIsEnumerable.call(object, symbol);\n\t  });\n\t};\n\t\n\tmodule.exports = getSymbols;\n\n/***/ },\n/* 145 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * This method returns a new empty array.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.13.0\n\t * @category Util\n\t * @returns {Array} Returns the new empty array.\n\t * @example\n\t *\n\t * var arrays = _.times(2, _.stubArray);\n\t *\n\t * console.log(arrays);\n\t * // => [[], []]\n\t *\n\t * console.log(arrays[0] === arrays[1]);\n\t * // => false\n\t */\n\tfunction stubArray() {\n\t  return [];\n\t}\n\t\n\tmodule.exports = stubArray;\n\n/***/ },\n/* 146 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isStrictComparable = __webpack_require__(147),\n\t    keys = __webpack_require__(34);\n\t\n\t/**\n\t * Gets the property names, values, and compare flags of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the match data of `object`.\n\t */\n\tfunction getMatchData(object) {\n\t    var result = keys(object),\n\t        length = result.length;\n\t\n\t    while (length--) {\n\t        var key = result[length],\n\t            value = object[key];\n\t\n\t        result[length] = [key, value, isStrictComparable(value)];\n\t    }\n\t    return result;\n\t}\n\t\n\tmodule.exports = getMatchData;\n\n/***/ },\n/* 147 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isObject = __webpack_require__(8);\n\t\n\t/**\n\t * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` if suitable for strict\n\t *  equality comparisons, else `false`.\n\t */\n\tfunction isStrictComparable(value) {\n\t  return value === value && !isObject(value);\n\t}\n\t\n\tmodule.exports = isStrictComparable;\n\n/***/ },\n/* 148 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * A specialized version of `matchesProperty` for source values suitable\n\t * for strict equality comparisons, i.e. `===`.\n\t *\n\t * @private\n\t * @param {string} key The key of the property to get.\n\t * @param {*} srcValue The value to match.\n\t * @returns {Function} Returns the new spec function.\n\t */\n\tfunction matchesStrictComparable(key, srcValue) {\n\t  return function (object) {\n\t    if (object == null) {\n\t      return false;\n\t    }\n\t    return object[key] === srcValue && (srcValue !== undefined || key in Object(object));\n\t  };\n\t}\n\t\n\tmodule.exports = matchesStrictComparable;\n\n/***/ },\n/* 149 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseIsEqual = __webpack_require__(129),\n\t    get = __webpack_require__(68),\n\t    hasIn = __webpack_require__(150),\n\t    isKey = __webpack_require__(71),\n\t    isStrictComparable = __webpack_require__(147),\n\t    matchesStrictComparable = __webpack_require__(148),\n\t    toKey = __webpack_require__(100);\n\t\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1,\n\t    COMPARE_UNORDERED_FLAG = 2;\n\t\n\t/**\n\t * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n\t *\n\t * @private\n\t * @param {string} path The path of the property to get.\n\t * @param {*} srcValue The value to match.\n\t * @returns {Function} Returns the new spec function.\n\t */\n\tfunction baseMatchesProperty(path, srcValue) {\n\t  if (isKey(path) && isStrictComparable(srcValue)) {\n\t    return matchesStrictComparable(toKey(path), srcValue);\n\t  }\n\t  return function (object) {\n\t    var objValue = get(object, path);\n\t    return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n\t  };\n\t}\n\t\n\tmodule.exports = baseMatchesProperty;\n\n/***/ },\n/* 150 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseHasIn = __webpack_require__(151),\n\t    hasPath = __webpack_require__(152);\n\t\n\t/**\n\t * Checks if `path` is a direct or inherited property of `object`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path to check.\n\t * @returns {boolean} Returns `true` if `path` exists, else `false`.\n\t * @example\n\t *\n\t * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n\t *\n\t * _.hasIn(object, 'a');\n\t * // => true\n\t *\n\t * _.hasIn(object, 'a.b');\n\t * // => true\n\t *\n\t * _.hasIn(object, ['a', 'b']);\n\t * // => true\n\t *\n\t * _.hasIn(object, 'b');\n\t * // => false\n\t */\n\tfunction hasIn(object, path) {\n\t  return object != null && hasPath(object, path, baseHasIn);\n\t}\n\t\n\tmodule.exports = hasIn;\n\n/***/ },\n/* 151 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * The base implementation of `_.hasIn` without support for deep paths.\n\t *\n\t * @private\n\t * @param {Object} [object] The object to query.\n\t * @param {Array|string} key The key to check.\n\t * @returns {boolean} Returns `true` if `key` exists, else `false`.\n\t */\n\tfunction baseHasIn(object, key) {\n\t  return object != null && key in Object(object);\n\t}\n\t\n\tmodule.exports = baseHasIn;\n\n/***/ },\n/* 152 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar castPath = __webpack_require__(70),\n\t    isArguments = __webpack_require__(37),\n\t    isArray = __webpack_require__(25),\n\t    isIndex = __webpack_require__(42),\n\t    isLength = __webpack_require__(23),\n\t    toKey = __webpack_require__(100);\n\t\n\t/**\n\t * Checks if `path` exists on `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path to check.\n\t * @param {Function} hasFunc The function to check properties.\n\t * @returns {boolean} Returns `true` if `path` exists, else `false`.\n\t */\n\tfunction hasPath(object, path, hasFunc) {\n\t  path = castPath(path, object);\n\t\n\t  var index = -1,\n\t      length = path.length,\n\t      result = false;\n\t\n\t  while (++index < length) {\n\t    var key = toKey(path[index]);\n\t    if (!(result = object != null && hasFunc(object, key))) {\n\t      break;\n\t    }\n\t    object = object[key];\n\t  }\n\t  if (result || ++index != length) {\n\t    return result;\n\t  }\n\t  length = object == null ? 0 : object.length;\n\t  return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));\n\t}\n\t\n\tmodule.exports = hasPath;\n\n/***/ },\n/* 153 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * This method returns the first argument it receives.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Util\n\t * @param {*} value Any value.\n\t * @returns {*} Returns `value`.\n\t * @example\n\t *\n\t * var object = { 'a': 1 };\n\t *\n\t * console.log(_.identity(object) === object);\n\t * // => true\n\t */\n\tfunction identity(value) {\n\t  return value;\n\t}\n\t\n\tmodule.exports = identity;\n\n/***/ },\n/* 154 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseProperty = __webpack_require__(155),\n\t    basePropertyDeep = __webpack_require__(156),\n\t    isKey = __webpack_require__(71),\n\t    toKey = __webpack_require__(100);\n\t\n\t/**\n\t * Creates a function that returns the value at `path` of a given object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 2.4.0\n\t * @category Util\n\t * @param {Array|string} path The path of the property to get.\n\t * @returns {Function} Returns the new accessor function.\n\t * @example\n\t *\n\t * var objects = [\n\t *   { 'a': { 'b': 2 } },\n\t *   { 'a': { 'b': 1 } }\n\t * ];\n\t *\n\t * _.map(objects, _.property('a.b'));\n\t * // => [2, 1]\n\t *\n\t * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n\t * // => [1, 2]\n\t */\n\tfunction property(path) {\n\t  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n\t}\n\t\n\tmodule.exports = property;\n\n/***/ },\n/* 155 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * The base implementation of `_.property` without support for deep paths.\n\t *\n\t * @private\n\t * @param {string} key The key of the property to get.\n\t * @returns {Function} Returns the new accessor function.\n\t */\n\tfunction baseProperty(key) {\n\t  return function (object) {\n\t    return object == null ? undefined : object[key];\n\t  };\n\t}\n\t\n\tmodule.exports = baseProperty;\n\n/***/ },\n/* 156 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseGet = __webpack_require__(69);\n\t\n\t/**\n\t * A specialized version of `baseProperty` which supports deep paths.\n\t *\n\t * @private\n\t * @param {Array|string} path The path of the property to get.\n\t * @returns {Function} Returns the new accessor function.\n\t */\n\tfunction basePropertyDeep(path) {\n\t  return function (object) {\n\t    return baseGet(object, path);\n\t  };\n\t}\n\t\n\tmodule.exports = basePropertyDeep;\n\n/***/ },\n/* 157 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar isEmpty = __webpack_require__(51);\n\tvar isNil = __webpack_require__(7);\n\tvar isObject = __webpack_require__(8);\n\tvar isArray = __webpack_require__(25);\n\tvar size = __webpack_require__(158);\n\tvar values = __webpack_require__(31);\n\tvar keys = __webpack_require__(34);\n\tvar first = __webpack_require__(163);\n\tvar filter = __webpack_require__(112);\n\tvar startsWith = __webpack_require__(105);\n\tvar get = __webpack_require__(68);\n\tvar has = __webpack_require__(164);\n\tvar every = __webpack_require__(166);\n\tvar compact = __webpack_require__(107);\n\tvar isString = __webpack_require__(24);\n\tvar helper_service_1 = __webpack_require__(110);\n\tvar util_1 = __webpack_require__(170);\n\tfunction validateQueryStructure(query) {\n\t    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return new Promise(function (resolve, reject) {\n\t        var validationResult = [].concat(_toConsumableArray(validateDatasetStructure(query, options)), _toConsumableArray(validateFromStructure(query, options)), _toConsumableArray(validateSelectStructure(query, options)), _toConsumableArray(validateWhereStructure(query, options)), _toConsumableArray(validateLanguageStructure(query, options)), _toConsumableArray(validateJoinStructure(query, options)), _toConsumableArray(validateOrderByStructure(query, options)));\n\t        var isQueryValid = isEmpty(validationResult);\n\t        if (!isQueryValid) {\n\t            return reject(\"Too many query structure errors: \\n* \" + validationResult.join('\\n* '));\n\t        }\n\t        return resolve();\n\t    });\n\t}\n\texports.validateQueryStructure = validateQueryStructure;\n\tfunction validateDatasetStructure(query, options) {\n\t    var errorMessages = [];\n\t    var datasetClause = get(query, 'dataset');\n\t    var branchClause = get(query, 'branch');\n\t    var commitClause = get(query, 'commit');\n\t    if (!isNil(datasetClause) && !isString(datasetClause)) {\n\t        errorMessages.push(\"'dataset' clause must be string only\");\n\t    }\n\t    if (!isNil(branchClause) && !isString(branchClause)) {\n\t        errorMessages.push(\"'branch' clause must be string only\");\n\t    }\n\t    if (!isNil(commitClause) && !isString(commitClause)) {\n\t        errorMessages.push(\"'commit' clause must be string only\");\n\t    }\n\t    return errorMessages;\n\t}\n\tfunction validateFromStructure(query, options) {\n\t    var errorMessages = [];\n\t    var clause = get(query, 'from', null);\n\t    if (isNil(clause)) {\n\t        errorMessages.push(\"'from' clause couldn't be empty\");\n\t    }\n\t    if (!isString(clause)) {\n\t        errorMessages.push(\"'from' clause must be string only\");\n\t    }\n\t    if (!helper_service_1.AVAILABLE_FROM_CLAUSE_VALUES.has(clause)) {\n\t        var listAvaliableValues = [].concat(_toConsumableArray(helper_service_1.AVAILABLE_FROM_CLAUSE_VALUES));\n\t        errorMessages.push(\"'from' clause must be one of the list: \" + listAvaliableValues.join(', '));\n\t    }\n\t    return errorMessages;\n\t}\n\tfunction validateSelectStructure(query, options) {\n\t    var errorMessages = [];\n\t    var selectClause = get(query, 'select', null);\n\t    var fromClause = get(query, 'from', null);\n\t    var key = get(selectClause, 'key');\n\t    var value = get(selectClause, 'value');\n\t    switch (true) {\n\t        case helper_service_1.isSchemaQuery(query):\n\t            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfSchemasSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n\t            break;\n\t        case helper_service_1.isEntitiesQuery(query):\n\t            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value), checkIfSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n\t            break;\n\t        case helper_service_1.isConceptsQuery(query):\n\t            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value), checkIfSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n\t            break;\n\t        case helper_service_1.isDatapointsQuery(query):\n\t            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfSelectHasInvalidStructure(selectClause, key, value), checkIfDatapointsSelectKeyHasInvalidStructure(fromClause, key), checkIfDatapointsSelectValueHasInvalidStructure(fromClause, value));\n\t            break;\n\t        default:\n\t            errorMessages.push(checkIfSelectIsEmpty(selectClause));\n\t            break;\n\t    }\n\t    return compact(errorMessages);\n\t}\n\tfunction validateWhereStructure(query, options) {\n\t    var errorMessages = [];\n\t    var joinClause = get(query, 'join', null);\n\t    var whereClause = get(query, 'where', null);\n\t    var whereOperators = getWhereOperators(whereClause);\n\t    errorMessages.push(checkIfWhereHasInvalidStructure(whereClause), checkIfWhereHasUnknownOperators(joinClause, whereOperators));\n\t    return compact(errorMessages);\n\t}\n\tfunction validateLanguageStructure(query, options) {\n\t    var errorMessages = [];\n\t    var languageClause = get(query, 'language', null);\n\t    switch (true) {\n\t        case helper_service_1.isSchemaQuery(query):\n\t            errorMessages.push(checkIfSchemaLanguageIsPresent(query));\n\t            break;\n\t        case helper_service_1.isEntitiesQuery(query):\n\t        case helper_service_1.isConceptsQuery(query):\n\t        case helper_service_1.isDatapointsQuery(query):\n\t        default:\n\t            errorMessages.push(checkIfLanguageHasInvalidStructure(languageClause));\n\t            break;\n\t    }\n\t    return compact(errorMessages);\n\t}\n\tfunction validateJoinStructure(query, options) {\n\t    var errorMessages = [];\n\t    var joinClause = get(query, 'join', null);\n\t    switch (true) {\n\t        case helper_service_1.isSchemaQuery(query):\n\t            errorMessages.push(checkIfSchemaJoinIsPresent(query));\n\t            break;\n\t        case helper_service_1.isEntitiesQuery(query):\n\t        case helper_service_1.isConceptsQuery(query):\n\t        case helper_service_1.isDatapointsQuery(query):\n\t        default:\n\t            errorMessages.push(checkIfJoinHasInvalidStructure(joinClause));\n\t            break;\n\t    }\n\t    return compact(errorMessages);\n\t}\n\tfunction validateOrderByStructure(query, options) {\n\t    var errorMessages = [];\n\t    var orderByClause = get(query, 'order_by', null);\n\t    errorMessages.push(checkIfOrderByHasInvalidStructure(orderByClause));\n\t    return compact(errorMessages);\n\t}\n\tfunction checkIfSelectIsEmpty(selectClause) {\n\t    if (isNil(selectClause)) {\n\t        return \"'select' clause couldn't be empty\";\n\t    }\n\t}\n\tfunction checkIfSelectHasInvalidStructure(selectClause, key, value) {\n\t    if (!isObject(selectClause) || !isArray(key) || !isArray(value)) {\n\t        return \"'select' clause must have next structure: { key: [...], value: [...] }\";\n\t    }\n\t}\n\tfunction checkIfJoinHasInvalidStructure(joinClause) {\n\t    if (!isNil(joinClause) && !isStrictObject(joinClause)) {\n\t        return \"'join' clause must be object only\";\n\t    }\n\t}\n\tfunction checkIfLanguageHasInvalidStructure(languageClause) {\n\t    if (!isNil(languageClause) && !isString(languageClause)) {\n\t        return \"'language' clause must be string only\";\n\t    }\n\t}\n\tfunction checkIfWhereHasInvalidStructure(whereClause) {\n\t    if (!isNil(whereClause) && !isStrictObject(whereClause)) {\n\t        return \"'where' clause must be object only\";\n\t    }\n\t}\n\tfunction checkIfWhereHasUnknownOperators(joinClause, operators) {\n\t    var notAllowedOperators = filter(operators, function (operator) {\n\t        return !isAllowedOperator(joinClause, operator);\n\t    }).map(function (operator) {\n\t        return operator.name;\n\t    });\n\t    var allowedOperatorsByDataset = [].concat(_toConsumableArray(helper_service_1.AVAILABLE_QUERY_OPERATORS.values()), _toConsumableArray(keys(joinClause)));\n\t    if (!isEmpty(notAllowedOperators)) {\n\t        return \"'where' clause has unknown operator(s) '\" + notAllowedOperators.join(', ') + \"', replace it with allowed operators: \" + allowedOperatorsByDataset.join(', ');\n\t    }\n\t}\n\tfunction checkIfOrderByHasInvalidStructure(orderByClause) {\n\t    if (!isNil(orderByClause) && !isString(orderByClause) && !isArrayOfStrings(orderByClause) && !isArrayOfSpecialItems(orderByClause, isOrderBySubclause)) {\n\t        return \"'order_by' clause must be string or array of strings || objects only\";\n\t    }\n\t}\n\tfunction isStrictObject(clause) {\n\t    return isObject(clause) && !isArray(clause);\n\t}\n\tfunction isArrayOfStrings(clause) {\n\t    return isArray(clause) && every(clause, isString);\n\t}\n\tfunction isOrderBySubclause(subclause) {\n\t    return isString(subclause) || isStrictObject(subclause) && size(subclause) === 1 && helper_service_1.AVAILABLE_ORDER_BY_CLAUSE_VALUES.has(first(values(subclause)));\n\t}\n\tfunction isArrayOfSpecialItems(clause, isSpecialItem) {\n\t    return isArray(clause) && every(clause, isSpecialItem);\n\t}\n\tfunction isAllowedOperator(joinClause, operator) {\n\t    return isMongoLikeOperator(operator) || isJoinOperator(joinClause, operator);\n\t}\n\tfunction isMongoLikeOperator(operator) {\n\t    return !operator.isLeaf && helper_service_1.AVAILABLE_QUERY_OPERATORS.has(operator.name);\n\t}\n\tfunction isJoinOperator(joinClause, operator) {\n\t    return operator.isLeaf && startsWith(operator.name, '$') && has(joinClause, operator.name);\n\t}\n\tfunction getWhereOperators(whereClause) {\n\t    var operators = [];\n\t    for (var field in whereClause) {\n\t        if (startsWith(field, '$')) {\n\t            operators.push({ name: field, isLeaf: false });\n\t        }\n\t        if (util_1.isPrimitive(whereClause[field])) {\n\t            if (startsWith(whereClause[field], '$')) {\n\t                operators.push({ name: whereClause[field], isLeaf: true });\n\t            }\n\t        } else {\n\t            operators.push.apply(operators, _toConsumableArray(getWhereOperators(whereClause[field])));\n\t        }\n\t    }\n\t    return operators;\n\t}\n\tfunction checkIfDatapointsSelectKeyHasInvalidStructure(fromClause, key) {\n\t    if (size(key) < 2) {\n\t        return \"'select.key' clause for '\" + fromClause + \"' queries must have at least 2 items\";\n\t    }\n\t}\n\tfunction checkIfDatapointsSelectValueHasInvalidStructure(fromClause, value) {\n\t    if (size(value) < 1) {\n\t        return \"'select.value' clause for '\" + fromClause + \"' queries must have at least 1 item\";\n\t    }\n\t}\n\tfunction checkIfSchemasSelectKeyHasInvalidStructure(fromClause, key) {\n\t    if (!isArray(key) || size(key) !== 2) {\n\t        return \"'select.key' clause for '\" + fromClause + \"' queries must have exactly 2 items: 'key', 'value'\";\n\t    }\n\t}\n\tfunction checkIfSelectValueHasInvalidStructure(fromClause, value) {\n\t    if (!isArray(value) && !isNil(value)) {\n\t        return \"'select.value' clause for '\" + fromClause + \"' queries should be array of strings or empty\";\n\t    }\n\t}\n\tfunction checkIfSchemaJoinIsPresent(query) {\n\t    if (has(query, 'join')) {\n\t        return \"'join' clause for '*.schema' queries shouldn't be present in query\";\n\t    }\n\t}\n\tfunction checkIfSchemaLanguageIsPresent(query) {\n\t    if (has(query, 'language')) {\n\t        return \"'language' clause for '*.schema' queries shouldn't be present in query\";\n\t    }\n\t}\n\tfunction checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value) {\n\t    if (!isObject(selectClause) || !isArray(key)) {\n\t        return \"'select' clause must have next structure: { key: [...], value: [...] }\";\n\t    }\n\t}\n\tfunction checkIfSelectKeyHasInvalidStructure(fromClause, key) {\n\t    if (!isArray(key) || size(key) !== 1) {\n\t        return \"'select.key' clause for '\" + fromClause + \"' queries must have only 1 item\";\n\t    }\n\t}\n\t//# sourceMappingURL=structure.service.js.map\n\n/***/ },\n/* 158 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseKeys = __webpack_require__(47),\n\t    getTag = __webpack_require__(52),\n\t    isArrayLike = __webpack_require__(15),\n\t    isString = __webpack_require__(24),\n\t    stringSize = __webpack_require__(159);\n\t\n\t/** `Object#toString` result references. */\n\tvar mapTag = '[object Map]',\n\t    setTag = '[object Set]';\n\t\n\t/**\n\t * Gets the size of `collection` by returning its length for array-like\n\t * values or the number of own enumerable string keyed properties for objects.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object|string} collection The collection to inspect.\n\t * @returns {number} Returns the collection size.\n\t * @example\n\t *\n\t * _.size([1, 2, 3]);\n\t * // => 3\n\t *\n\t * _.size({ 'a': 1, 'b': 2 });\n\t * // => 2\n\t *\n\t * _.size('pebbles');\n\t * // => 7\n\t */\n\tfunction size(collection) {\n\t  if (collection == null) {\n\t    return 0;\n\t  }\n\t  if (isArrayLike(collection)) {\n\t    return isString(collection) ? stringSize(collection) : collection.length;\n\t  }\n\t  var tag = getTag(collection);\n\t  if (tag == mapTag || tag == setTag) {\n\t    return collection.size;\n\t  }\n\t  return baseKeys(collection).length;\n\t}\n\t\n\tmodule.exports = size;\n\n/***/ },\n/* 159 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar asciiSize = __webpack_require__(160),\n\t    hasUnicode = __webpack_require__(161),\n\t    unicodeSize = __webpack_require__(162);\n\t\n\t/**\n\t * Gets the number of symbols in `string`.\n\t *\n\t * @private\n\t * @param {string} string The string to inspect.\n\t * @returns {number} Returns the string size.\n\t */\n\tfunction stringSize(string) {\n\t    return hasUnicode(string) ? unicodeSize(string) : asciiSize(string);\n\t}\n\t\n\tmodule.exports = stringSize;\n\n/***/ },\n/* 160 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseProperty = __webpack_require__(155);\n\t\n\t/**\n\t * Gets the size of an ASCII `string`.\n\t *\n\t * @private\n\t * @param {string} string The string inspect.\n\t * @returns {number} Returns the string size.\n\t */\n\tvar asciiSize = baseProperty('length');\n\t\n\tmodule.exports = asciiSize;\n\n/***/ },\n/* 161 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/** Used to compose unicode character classes. */\n\tvar rsAstralRange = '\\\\ud800-\\\\udfff',\n\t    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n\t    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n\t    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n\t    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n\t    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\t\n\t/** Used to compose unicode capture groups. */\n\tvar rsZWJ = '\\\\u200d';\n\t\n\t/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n\tvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + ']');\n\t\n\t/**\n\t * Checks if `string` contains Unicode symbols.\n\t *\n\t * @private\n\t * @param {string} string The string to inspect.\n\t * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n\t */\n\tfunction hasUnicode(string) {\n\t  return reHasUnicode.test(string);\n\t}\n\t\n\tmodule.exports = hasUnicode;\n\n/***/ },\n/* 162 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/** Used to compose unicode character classes. */\n\tvar rsAstralRange = '\\\\ud800-\\\\udfff',\n\t    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n\t    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n\t    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n\t    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n\t    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\t\n\t/** Used to compose unicode capture groups. */\n\tvar rsAstral = '[' + rsAstralRange + ']',\n\t    rsCombo = '[' + rsComboRange + ']',\n\t    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n\t    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n\t    rsNonAstral = '[^' + rsAstralRange + ']',\n\t    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n\t    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n\t    rsZWJ = '\\\\u200d';\n\t\n\t/** Used to compose unicode regexes. */\n\tvar reOptMod = rsModifier + '?',\n\t    rsOptVar = '[' + rsVarRange + ']?',\n\t    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n\t    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n\t    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\t\n\t/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n\tvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\t\n\t/**\n\t * Gets the size of a Unicode `string`.\n\t *\n\t * @private\n\t * @param {string} string The string inspect.\n\t * @returns {number} Returns the string size.\n\t */\n\tfunction unicodeSize(string) {\n\t    var result = reUnicode.lastIndex = 0;\n\t    while (reUnicode.test(string)) {\n\t        ++result;\n\t    }\n\t    return result;\n\t}\n\t\n\tmodule.exports = unicodeSize;\n\n/***/ },\n/* 163 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(67);\n\n/***/ },\n/* 164 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseHas = __webpack_require__(165),\n\t    hasPath = __webpack_require__(152);\n\t\n\t/**\n\t * Checks if `path` is a direct property of `object`.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path to check.\n\t * @returns {boolean} Returns `true` if `path` exists, else `false`.\n\t * @example\n\t *\n\t * var object = { 'a': { 'b': 2 } };\n\t * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n\t *\n\t * _.has(object, 'a');\n\t * // => true\n\t *\n\t * _.has(object, 'a.b');\n\t * // => true\n\t *\n\t * _.has(object, ['a', 'b']);\n\t * // => true\n\t *\n\t * _.has(other, 'a');\n\t * // => false\n\t */\n\tfunction has(object, path) {\n\t  return object != null && hasPath(object, path, baseHas);\n\t}\n\t\n\tmodule.exports = has;\n\n/***/ },\n/* 165 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * The base implementation of `_.has` without support for deep paths.\n\t *\n\t * @private\n\t * @param {Object} [object] The object to query.\n\t * @param {Array|string} key The key to check.\n\t * @returns {boolean} Returns `true` if `key` exists, else `false`.\n\t */\n\tfunction baseHas(object, key) {\n\t  return object != null && hasOwnProperty.call(object, key);\n\t}\n\t\n\tmodule.exports = baseHas;\n\n/***/ },\n/* 166 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar arrayEvery = __webpack_require__(167),\n\t    baseEvery = __webpack_require__(168),\n\t    baseIteratee = __webpack_require__(120),\n\t    isArray = __webpack_require__(25),\n\t    isIterateeCall = __webpack_require__(169);\n\t\n\t/**\n\t * Checks if `predicate` returns truthy for **all** elements of `collection`.\n\t * Iteration is stopped once `predicate` returns falsey. The predicate is\n\t * invoked with three arguments: (value, index|key, collection).\n\t *\n\t * **Note:** This method returns `true` for\n\t * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n\t * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n\t * elements of empty collections.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} [predicate=_.identity] The function invoked per iteration.\n\t * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n\t * @returns {boolean} Returns `true` if all elements pass the predicate check,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.every([true, 1, null, 'yes'], Boolean);\n\t * // => false\n\t *\n\t * var users = [\n\t *   { 'user': 'barney', 'age': 36, 'active': false },\n\t *   { 'user': 'fred',   'age': 40, 'active': false }\n\t * ];\n\t *\n\t * // The `_.matches` iteratee shorthand.\n\t * _.every(users, { 'user': 'barney', 'active': false });\n\t * // => false\n\t *\n\t * // The `_.matchesProperty` iteratee shorthand.\n\t * _.every(users, ['active', false]);\n\t * // => true\n\t *\n\t * // The `_.property` iteratee shorthand.\n\t * _.every(users, 'active');\n\t * // => false\n\t */\n\tfunction every(collection, predicate, guard) {\n\t  var func = isArray(collection) ? arrayEvery : baseEvery;\n\t  if (guard && isIterateeCall(collection, predicate, guard)) {\n\t    predicate = undefined;\n\t  }\n\t  return func(collection, baseIteratee(predicate, 3));\n\t}\n\t\n\tmodule.exports = every;\n\n/***/ },\n/* 167 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * A specialized version of `_.every` for arrays without support for\n\t * iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array} [array] The array to iterate over.\n\t * @param {Function} predicate The function invoked per iteration.\n\t * @returns {boolean} Returns `true` if all elements pass the predicate check,\n\t *  else `false`.\n\t */\n\tfunction arrayEvery(array, predicate) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length;\n\t\n\t  while (++index < length) {\n\t    if (!predicate(array[index], index, array)) {\n\t      return false;\n\t    }\n\t  }\n\t  return true;\n\t}\n\t\n\tmodule.exports = arrayEvery;\n\n/***/ },\n/* 168 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar baseEach = __webpack_require__(115);\n\t\n\t/**\n\t * The base implementation of `_.every` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} predicate The function invoked per iteration.\n\t * @returns {boolean} Returns `true` if all elements pass the predicate check,\n\t *  else `false`\n\t */\n\tfunction baseEvery(collection, predicate) {\n\t  var result = true;\n\t  baseEach(collection, function (value, index, collection) {\n\t    result = !!predicate(value, index, collection);\n\t    return result;\n\t  });\n\t  return result;\n\t}\n\t\n\tmodule.exports = baseEvery;\n\n/***/ },\n/* 169 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar eq = __webpack_require__(88),\n\t    isArrayLike = __webpack_require__(15),\n\t    isIndex = __webpack_require__(42),\n\t    isObject = __webpack_require__(8);\n\t\n\t/**\n\t * Checks if the given arguments are from an iteratee call.\n\t *\n\t * @private\n\t * @param {*} value The potential iteratee value argument.\n\t * @param {*} index The potential iteratee index or key argument.\n\t * @param {*} object The potential iteratee object argument.\n\t * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n\t *  else `false`.\n\t */\n\tfunction isIterateeCall(value, index, object) {\n\t  if (!isObject(object)) {\n\t    return false;\n\t  }\n\t  var type = typeof index === 'undefined' ? 'undefined' : _typeof(index);\n\t  if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {\n\t    return eq(object[index], value);\n\t  }\n\t  return false;\n\t}\n\t\n\tmodule.exports = isIterateeCall;\n\n/***/ },\n/* 170 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"util\");\n\n/***/ },\n/* 171 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar tslib_1 = __webpack_require__(6);\n\tvar isNil = __webpack_require__(7);\n\tvar includes = __webpack_require__(10);\n\tvar get = __webpack_require__(68);\n\tvar helper_service_1 = __webpack_require__(110);\n\tfunction getDatasetPath(basePath, queryParam) {\n\t    var dataset = queryParam.dataset,\n\t        branch = queryParam.branch,\n\t        commit = queryParam.commit;\n\t\n\t    return \"\" + basePath + dataset + \"/\" + branch + \"-\" + commit;\n\t}\n\texports.getDatasetPath = getDatasetPath;\n\tfunction getDatapackagePath(datasetPath) {\n\t    return datasetPath + '/datapackage.json';\n\t}\n\tfunction isDatasetPathAlreadyInBasePath(fileReader, basePath) {\n\t    return new Promise(function (resolve) {\n\t        fileReader.readText(getDatapackagePath(basePath), function (error) {\n\t            return resolve(!error);\n\t        });\n\t    });\n\t}\n\tfunction extendQueryParamWithDatasetProps(queryParam) {\n\t    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return tslib_1.__awaiter(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n\t        var _get;\n\t\n\t        var datasetsConfig, _datasetsConfig$defau, DEFAULT_DATASET, DEFAULT_BRANCH, DEFAULT_COMMIT, originDataset, originBranch, originCommit, _queryParam$dataset, dataset, _queryParam$branch, branch, _queryParam$commit, commit, basePath, fileReader, datasetName, datasetPath, datapackagePath;\n\t\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t            while (1) {\n\t                switch (_context.prev = _context.next) {\n\t                    case 0:\n\t                        datasetsConfig = get(options, 'datasetsConfig', (_get = {}, _defineProperty(_get, helper_service_1.DEFAULT_DATASET_NAME, _defineProperty({}, helper_service_1.DEFAULT_DATASET_BRANCH, [helper_service_1.DEFAULT_DATASET_COMMIT])), _defineProperty(_get, \"default\", {\n\t                            dataset: helper_service_1.DEFAULT_DATASET_NAME,\n\t                            branch: helper_service_1.DEFAULT_DATASET_BRANCH,\n\t                            commit: helper_service_1.DEFAULT_DATASET_COMMIT\n\t                        }), _get));\n\t                        _datasetsConfig$defau = datasetsConfig['default'], DEFAULT_DATASET = _datasetsConfig$defau.dataset, DEFAULT_BRANCH = _datasetsConfig$defau.branch, DEFAULT_COMMIT = _datasetsConfig$defau.commit;\n\t                        originDataset = queryParam.dataset, originBranch = queryParam.branch, originCommit = queryParam.commit;\n\t                        _queryParam$dataset = queryParam.dataset, dataset = _queryParam$dataset === undefined ? DEFAULT_DATASET : _queryParam$dataset, _queryParam$branch = queryParam.branch, branch = _queryParam$branch === undefined ? DEFAULT_BRANCH : _queryParam$branch, _queryParam$commit = queryParam.commit, commit = _queryParam$commit === undefined ? DEFAULT_COMMIT : _queryParam$commit;\n\t                        basePath = get(options, 'basePath', helper_service_1.DEFAULT_DATASET_DIR);\n\t                        fileReader = get(options, 'fileReader');\n\t                        datasetName = dataset;\n\t\n\t                        if (!isNil(datasetsConfig[dataset])) {\n\t                            _context.next = 9;\n\t                            break;\n\t                        }\n\t\n\t                        throw new Error(\"No \" + (isNil(originDataset) ? 'default ' : '') + \"dataset '\" + dataset + \"' was found\");\n\t\n\t                    case 9:\n\t                        if (!isNil(datasetsConfig[dataset][branch])) {\n\t                            _context.next = 11;\n\t                            break;\n\t                        }\n\t\n\t                        throw new Error(\"No \" + (isNil(originBranch) ? 'default ' : '') + \"branch '\" + branch + \"' in \" + (isNil(originDataset) ? 'default ' : '') + \"dataset '\" + dataset + \"' was found\");\n\t\n\t                    case 11:\n\t                        if (includes(datasetsConfig[dataset][branch], commit)) {\n\t                            _context.next = 13;\n\t                            break;\n\t                        }\n\t\n\t                        throw new Error(\"No \" + (isNil(originCommit) ? 'default ' : '') + \"commit '\" + commit + \"' in \" + (isNil(originBranch) ? 'default ' : '') + \"branch '\" + branch + \"' in \" + (isNil(originDataset) ? 'default ' : '') + \"dataset '\" + dataset + \"' was found\");\n\t\n\t                    case 13:\n\t                        datasetPath = void 0;\n\t                        datapackagePath = void 0;\n\t                        _context.prev = 15;\n\t                        _context.next = 18;\n\t                        return isDatasetPathAlreadyInBasePath(fileReader, basePath);\n\t\n\t                    case 18:\n\t                        if (!_context.sent) {\n\t                            _context.next = 23;\n\t                            break;\n\t                        }\n\t\n\t                        datasetPath = basePath;\n\t                        datapackagePath = getDatapackagePath(basePath);\n\t                        _context.next = 25;\n\t                        break;\n\t\n\t                    case 23:\n\t                        datasetPath = getDatasetPath(basePath, { dataset: dataset, branch: branch, commit: commit });\n\t                        datapackagePath = getDatapackagePath(datasetPath);\n\t\n\t                    case 25:\n\t                        _context.next = 30;\n\t                        break;\n\t\n\t                    case 27:\n\t                        _context.prev = 27;\n\t                        _context.t0 = _context[\"catch\"](15);\n\t                        throw _context.t0;\n\t\n\t                    case 30:\n\t                        Object.assign(queryParam, { dataset: dataset, branch: branch, commit: commit });\n\t                        Object.assign(options, { datasetPath: datasetPath, datapackagePath: datapackagePath, datasetName: datasetName });\n\t                        return _context.abrupt(\"return\", queryParam);\n\t\n\t                    case 33:\n\t                    case \"end\":\n\t                        return _context.stop();\n\t                }\n\t            }\n\t        }, _callee, this, [[15, 27]]);\n\t    }));\n\t}\n\texports.extendQueryParamWithDatasetProps = extendQueryParamWithDatasetProps;\n\t//# sourceMappingURL=extension.service.js.map\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// vizabi-ddfcsv-reader-node.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f458f86848a2bae9b257","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst backend_file_reader_1 = require(\"./file-readers/backend-file-reader\");\nvar backend_file_reader_2 = require(\"./file-readers/backend-file-reader\");\nexports.BackendFileReader = backend_file_reader_2.BackendFileReader;\nconst github_file_reader_1 = require(\"./file-readers/github-file-reader\");\nvar github_file_reader_2 = require(\"./file-readers/github-file-reader\");\nexports.GithubFileReader = github_file_reader_2.GithubFileReader;\nvar ddfcsv_error_1 = require(\"./ddfcsv-error\");\nexports.DdfCsvError = ddfcsv_error_1.DdfCsvError;\nconst ddfcsv_reader_1 = require(\"./ddfcsv-reader\");\nexports.getDDFCsvReaderObject = ddfcsv_reader_1.prepareDDFCsvReaderObject(new backend_file_reader_1.BackendFileReader());\nexports.getGithubDDFCsvReaderObject = ddfcsv_reader_1.prepareDDFCsvReaderObject(new github_file_reader_1.GithubFileReader());\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"fs\");\nclass BackendFileReader {\n    setRecordTransformer(recordTransformer) {\n        this.recordTransformer = recordTransformer;\n    }\n    readText(filePath, onFileRead) {\n        if (!fs.existsSync(filePath)) {\n            return onFileRead('No such file: ' + filePath);\n        }\n        fs.readFile(filePath, 'utf-8', (err, content) => {\n            if (err) {\n                onFileRead(err);\n                return;\n            }\n            onFileRead(null, content.toString());\n        });\n    }\n}\nexports.BackendFileReader = BackendFileReader;\n//# sourceMappingURL=backend-file-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/file-readers/backend-file-reader.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 2\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass GithubFileReader {\n    setRecordTransformer(recordTransformer) {\n        this.recordTransformer = recordTransformer;\n    }\n    readText(filePath, onFileRead) {\n    }\n}\nexports.GithubFileReader = GithubFileReader;\n//# sourceMappingURL=github-file-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/file-readers/github-file-reader.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FILE_READING_ERROR = 'File reading error';\nexports.JSON_PARSING_ERROR = 'JSON parsing error';\nexports.CSV_PARSING_ERROR = 'CSV parsing error';\nexports.DDF_ERROR = 'DDF error';\nclass DdfCsvError extends Error {\n    constructor(message, details, file) {\n        super();\n        this.name = 'DdfCsvError';\n        this.message = `${message} [filepath: ${file}]. ${details}.`;\n        this.details = details;\n        this.file = file;\n    }\n}\nexports.DdfCsvError = DdfCsvError;\n//# sourceMappingURL=ddfcsv-error.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddfcsv-error.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst isNil = require(\"lodash/isNil\");\nconst isObject = require(\"lodash/isObject\");\nconst ddf_csv_1 = require(\"./ddf-csv\");\nconst ddf_query_validator_1 = require(\"./ddf-query-validator\");\nfunction prepareDDFCsvReaderObject(defaultFileReader) {\n    return function (externalFileReader, logger) {\n        return {\n            init(readerInfo) {\n                this._basePath = readerInfo.path;\n                this._lastModified = readerInfo._lastModified;\n                this.fileReader = externalFileReader || defaultFileReader;\n                this.logger = logger;\n                this.resultTransformer = readerInfo.resultTransformer;\n                this.datasetsConfig = readerInfo.datasetsConfig;\n                this.isLocalReader = isNil(this.datasetsConfig) ? true : false;\n                this.isServerReader = !this.isLocalReader;\n                this.reader = ddf_csv_1.ddfCsvReader({\n                    basePath: this._basePath,\n                    fileReader: this.fileReader,\n                    logger: this.logger,\n                    datasetsConfig: this.datasetsConfig\n                });\n            },\n            getAsset(asset) {\n                const isJsonAsset = asset.slice(-'.json'.length) === '.json';\n                let assetPath = `${this._basePath}/${asset}`;\n                if (isObject(asset)) {\n                    assetPath = ddf_query_validator_1.getDatasetPath(this._basePath, asset);\n                }\n                return new Promise((resolve, reject) => {\n                    this.fileReader.readText(assetPath, (err, data) => {\n                        if (err) {\n                            reject(err);\n                            return;\n                        }\n                        if (isJsonAsset) {\n                            try {\n                                resolve(JSON.parse(data));\n                            }\n                            catch (jsonErr) {\n                                reject(err);\n                            }\n                        }\n                        else {\n                            resolve(data);\n                        }\n                    });\n                });\n            },\n            read(queryParam, parsers) {\n                return tslib_1.__awaiter(this, void 0, void 0, function* () {\n                    let result;\n                    try {\n                        result = yield this.reader.query(queryParam);\n                        result = parsers ? this._prettifyData(result, parsers) : result;\n                        if (this.resultTransformer) {\n                            result = this.resultTransformer(result);\n                        }\n                        if (this.logger && this.logger.log) {\n                            logger.log(JSON.stringify(queryParam), result.length);\n                            logger.log(result);\n                        }\n                    }\n                    catch (error) {\n                        throw error;\n                    }\n                    return result;\n                });\n            },\n            _prettifyData(data, parsers) {\n                return data.map(record => {\n                    const keys = Object.keys(record);\n                    keys.forEach(key => {\n                        if (parsers[key]) {\n                            record[key] = parsers[key](record[key]);\n                        }\n                    });\n                    return record;\n                });\n            }\n        };\n    };\n}\nexports.prepareDDFCsvReaderObject = prepareDDFCsvReaderObject;\n//# sourceMappingURL=ddfcsv-reader.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddfcsv-reader.js","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n                t[p[i]] = s[p[i]];\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function (m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    };\r\n\r\n    __values = function (o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result[\"default\"] = mod;\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslib/tslib.js","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isNil.js","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isObject.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst includes = require(\"lodash/includes\");\nconst isEmpty = require(\"lodash/isEmpty\");\nconst query_optimization_plugins_1 = require(\"./query-optimization-plugins\");\nconst ddfcsv_error_1 = require(\"./ddfcsv-error\");\nconst ddf_query_validator_1 = require(\"./ddf-query-validator\");\nconst Papa = require(\"papaparse\");\nconst isValidNumeric = val => typeof val !== 'number' && !val ? false : true;\nfunction ddfCsvReader(readerOptions) {\n    const { basePath, fileReader, logger, datasetsConfig } = readerOptions;\n    const internalConcepts = [\n        { concept: 'concept', concept_type: 'string', domain: null },\n        { concept: 'concept_type', concept_type: 'string', domain: null }\n    ];\n    const operators = new Map([\n        ['$and', (row, predicates) => predicates.every(p => applyFilterRow(row, p))],\n        ['$or', (row, predicates) => predicates.some(p => applyFilterRow(row, p))],\n        ['$not', (row, predicate) => !applyFilterRow(row, predicate)],\n        ['$nor', (row, predicates) => !predicates.some(p => applyFilterRow(row, p))],\n        ['$eq', (rowValue, filterValue) => rowValue == filterValue],\n        ['$ne', (rowValue, filterValue) => rowValue != filterValue],\n        ['$gt', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue > filterValue],\n        ['$gte', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue >= filterValue],\n        ['$lt', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue < filterValue],\n        ['$lte', (rowValue, filterValue) => isValidNumeric(rowValue) && rowValue <= filterValue],\n        ['$in', (rowValue, filterValue) => filterValue.has(rowValue)],\n        ['$nin', (rowValue, filterValue) => !filterValue.has(rowValue)],\n    ]);\n    const baseOptions = {\n        basePath,\n        datasetsConfig,\n        conceptsLookup: new Map(),\n        datapackagePath: '',\n        datasetPath: '',\n        dataset: ''\n    };\n    const keyValueLookup = new Map();\n    const resourcesLookup = new Map();\n    let optimalFilesSet = [];\n    function loadDataPackage(datapackagePath) {\n        return new Promise((resolve, reject) => {\n            fileReader.readText(datapackagePath, (err, data) => {\n                if (err) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, datapackagePath));\n                }\n                let datapackage;\n                try {\n                    datapackage = JSON.parse(data);\n                    optimalFilesSet = [];\n                    buildResourcesLookup(datapackage);\n                    buildKeyValueLookup(datapackage);\n                }\n                catch (parseErr) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.JSON_PARSING_ERROR, parseErr.message, datapackagePath));\n                }\n                resolve(datapackage);\n            });\n        });\n    }\n    function loadConcepts(queryParam, options) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            setConceptsLookup(internalConcepts, options);\n            const conceptQuery = {\n                select: { key: ['concept'], value: ['concept_type', 'domain'] },\n                from: 'concepts',\n                dataset: queryParam.dataset,\n                branch: queryParam.branch,\n                commit: queryParam.commit\n            };\n            let result;\n            try {\n                const concepts = yield queryData(conceptQuery, options);\n                buildConceptsLookup(concepts, options);\n                result = yield reparseConcepts(options);\n            }\n            catch (error) {\n                throw error;\n            }\n            return result;\n        });\n    }\n    function buildConceptsLookup(concepts, options) {\n        const entitySetMembershipConcepts = concepts\n            .filter(concept => concept.concept_type === 'entity_set')\n            .map(concept => ({\n            concept: 'is--' + concept.concept,\n            concept_type: 'boolean',\n            domain: null\n        }));\n        concepts = concepts\n            .concat(entitySetMembershipConcepts)\n            .concat(internalConcepts);\n        setConceptsLookup(concepts, options);\n    }\n    function reparseConcepts({ conceptsLookup }) {\n        const parsingFunctions = new Map([\n            ['boolean', (str) => str === 'true' || str === 'TRUE'],\n            ['measure', (str) => parseFloat(str)]\n        ]);\n        const resources = getResources(['concept']);\n        const resourceUpdates = [...resources].map(resource => {\n            return resource.data.then(response => {\n                const resourceConcepts = Object.keys(response.data[0]);\n                const parsingConcepts = new Map();\n                resourceConcepts.forEach(concept => {\n                    const type = conceptsLookup.get(concept).concept_type;\n                    const fn = parsingFunctions.get(type);\n                    if (fn) {\n                        parsingConcepts.set(concept, fn);\n                    }\n                });\n                return response.data.forEach(row => {\n                    for (const [concept, parseFn] of parsingConcepts) {\n                        row[concept] = parseFn(row[concept]);\n                    }\n                });\n            });\n        });\n        return Promise.all(resourceUpdates);\n    }\n    function setConceptsLookup(concepts, options) {\n        options.conceptsLookup.clear();\n        concepts.forEach(row => options.conceptsLookup.set(row.concept, row));\n    }\n    function query(queryParam) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            let data;\n            try {\n                baseOptions.fileReader = fileReader;\n                yield ddf_query_validator_1.validateQueryStructure(queryParam, baseOptions);\n                yield ddf_query_validator_1.extendQueryParamWithDatasetProps(queryParam, baseOptions);\n                const datapackage = yield loadDataPackage(baseOptions.datapackagePath);\n                baseOptions.datapackage = datapackage;\n                yield loadConcepts(queryParam, baseOptions);\n                yield ddf_query_validator_1.validateQueryDefinitions(queryParam, baseOptions);\n                if (ddf_query_validator_1.isSchemaQuery(queryParam)) {\n                    data = yield querySchema(queryParam, { datapackage });\n                }\n                else {\n                    const appropriatePlugin = query_optimization_plugins_1.getAppropriatePlugin(queryParam, baseOptions);\n                    if (appropriatePlugin) {\n                        optimalFilesSet = [];\n                        const files = yield appropriatePlugin.getOptimalFilesSet();\n                        optimalFilesSet = files;\n                    }\n                    data = yield queryData(queryParam, baseOptions);\n                }\n            }\n            catch (error) {\n                throw error;\n            }\n            return data;\n        });\n    }\n    function queryData(queryParam, options) {\n        const { select: { key = [], value = [] }, from = '', where = {}, join = {}, order_by = [], language } = queryParam;\n        const select = { key, value };\n        const projection = new Set(select.key.concat(select.value));\n        const filterFields = getFilterFields(where).filter(field => !projection.has(field));\n        const resourcesPromise = loadResources(select.key, [...select.value, ...filterFields], language, options);\n        const joinsPromise = getJoinFilters(join, queryParam, options);\n        const entitySetFilterPromise = getEntitySetFilter(select.key, queryParam, options);\n        return Promise.all([resourcesPromise, entitySetFilterPromise, joinsPromise])\n            .then(([resourceResponses, entitySetFilter, joinFilters]) => {\n            const whereResolved = processWhere(where, joinFilters);\n            const filter = mergeFilters(entitySetFilter, whereResolved);\n            const dataTables = resourceResponses\n                .map(response => processResourceResponse(response, select, filterFields, options));\n            const queryResult = joinData(select.key, 'overwrite', ...dataTables)\n                .filter(row => applyFilterRow(row, filter))\n                .map(row => fillMissingValues(row, projection))\n                .map(row => projectRow(row, projection));\n            orderData(queryResult, order_by);\n            return queryResult;\n        });\n    }\n    function orderData(data, orderBy = []) {\n        if (orderBy.length === 0) {\n            return;\n        }\n        const orderNormalized = orderBy.map(orderPart => {\n            if (typeof orderPart === 'string') {\n                return { concept: orderPart, direction: 1 };\n            }\n            else {\n                const concept = Object.keys(orderPart)[0];\n                const direction = (orderPart[concept] === 'asc' ? 1 : -1);\n                return { concept, direction };\n            }\n        });\n        const n = orderNormalized.length;\n        data.sort((a, b) => {\n            for (let i = 0; i < n; i++) {\n                const order = orderNormalized[i];\n                if (a[order.concept] < b[order.concept]) {\n                    return -1 * order.direction;\n                }\n                else if (a[order.concept] > b[order.concept]) {\n                    return 1 * order.direction;\n                }\n            }\n            return 0;\n        });\n    }\n    function processWhere(where, joinFilters) {\n        const result = {};\n        for (const field in where) {\n            const fieldValue = where[field];\n            if (['$and', '$or', '$nor'].includes(field)) {\n                result[field] = fieldValue.map(subFilter => processWhere(subFilter, joinFilters));\n            }\n            else if (field === '$in' || field === '$nin') {\n                result[field] = new Set(fieldValue);\n            }\n            else if (typeof joinFilters[fieldValue] !== 'undefined') {\n                Object.assign(result, joinFilters[fieldValue]);\n            }\n            else if (typeof fieldValue === 'object') {\n                result[field] = processWhere(fieldValue, joinFilters);\n            }\n            else {\n                result[field] = fieldValue;\n            }\n        }\n        return result;\n    }\n    function mergeFilters(...filters) {\n        return filters.reduce((a, b) => {\n            a.$and.push(b);\n            return a;\n        }, { $and: [] });\n    }\n    function querySchema(queryParam, { datapackage }) {\n        const getSchemaFromCollection = collectionPar => {\n            return datapackage.ddfSchema[collectionPar].map(({ primaryKey, value }) => ({ key: primaryKey, value }));\n        };\n        const collection = queryParam.from.split('.')[0];\n        if (datapackage.ddfSchema[collection]) {\n            return getSchemaFromCollection(collection);\n        }\n        else if (collection === '*') {\n            return Object.keys(datapackage.ddfSchema)\n                .map(getSchemaFromCollection)\n                .reduce((a, b) => a.concat(b));\n        }\n        else {\n            throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, `No valid collection (${collection}) for schema query`));\n        }\n    }\n    function fillMissingValues(row, projection) {\n        for (const field of projection) {\n            if (typeof row[field] === 'undefined') {\n                row[field] = null;\n            }\n        }\n        return row;\n    }\n    function applyFilterRow(row, filter) {\n        return Object.keys(filter).every(filterKey => {\n            const operator = operators.get(filterKey);\n            if (operator) {\n                return operator(row, filter[filterKey]);\n            }\n            else if (typeof filter[filterKey] !== 'object') {\n                return operators.get('$eq')(row[filterKey], filter[filterKey]);\n            }\n            else {\n                return applyFilterRow(row[filterKey], filter[filterKey]);\n            }\n        });\n    }\n    function getJoinFilters(join, queryParam, options) {\n        return Promise.all(Object.keys(join).map(joinID => getJoinFilter(joinID, join[joinID], queryParam, options)))\n            .then(results => results.reduce(mergeObjects, {}));\n    }\n    function mergeObjects(a, b) {\n        return Object.assign(a, b);\n    }\n    function getJoinFilter(joinID, join, queryParam, options) {\n        if (options.conceptsLookup.get(join.key).concept_type === 'time') {\n            return Promise.resolve({ [joinID]: join.where });\n        }\n        else {\n            return query({\n                select: { key: [join.key] },\n                where: join.where,\n                from: options.conceptsLookup.has(join.key) ? 'concepts' : 'entities',\n                dataset: queryParam.dataset,\n                branch: queryParam.branch,\n                commit: queryParam.commit\n            })\n                .then(result => ({\n                [joinID]: {\n                    [join.key]: {\n                        $in: new Set(result.map(row => row[join.key]))\n                    }\n                }\n            }));\n        }\n    }\n    function getFilterFields(filter) {\n        const fields = [];\n        for (const field in filter) {\n            if (['$and', '$or', '$not', '$nor'].includes(field)) {\n                filter[field].map(getFilterFields).forEach(subFields => fields.push(...subFields));\n            }\n            else {\n                fields.push(field);\n            }\n        }\n        return fields;\n    }\n    function filterConceptsByType(conceptTypes, queryKey, options) {\n        const conceptStrings = queryKey || Array.from(options.conceptsLookup.keys());\n        const concepts = [];\n        for (const conceptString of conceptStrings) {\n            const concept = options.conceptsLookup.get(conceptString);\n            if (conceptTypes.includes(concept.concept_type)) {\n                concepts.push(concept);\n            }\n        }\n        return concepts;\n    }\n    function getEntityConceptRenameMap(queryKey, resourceKey, options) {\n        const resourceKeySet = new Set(resourceKey);\n        const entityConceptTypes = ['entity_set', 'entity_domain'];\n        const queryEntityConcepts = filterConceptsByType(entityConceptTypes, queryKey, options);\n        if (queryEntityConcepts.length === 0) {\n            return new Map();\n        }\n        const allEntityConcepts = filterConceptsByType(entityConceptTypes, null, options);\n        return queryEntityConcepts\n            .map(concept => allEntityConcepts\n            .filter(lookupConcept => {\n            if (concept.concept_type === 'entity_set') {\n                return resourceKeySet.has(lookupConcept.concept) &&\n                    lookupConcept.concept !== concept.concept &&\n                    (lookupConcept.domain === concept.domain ||\n                        lookupConcept.concept === concept.domain);\n            }\n            else {\n                return resourceKeySet.has(lookupConcept.concept) &&\n                    lookupConcept.concept !== concept.concept &&\n                    lookupConcept.domain === concept.concept;\n            }\n        })\n            .reduce((map, aliasConcept) => map.set(aliasConcept.concept, concept.concept), new Map())).reduce((mapA, mapB) => new Map([...mapA, ...mapB]), new Map());\n    }\n    function getEntitySetFilter(conceptStrings, queryParam, options) {\n        const promises = filterConceptsByType(['entity_set'], conceptStrings, options)\n            .map(concept => query({\n            select: { key: [concept.domain], value: ['is--' + concept.concept] },\n            from: 'entities',\n            dataset: queryParam.dataset,\n            branch: queryParam.branch,\n            commit: queryParam.commit\n        })\n            .then(result => ({\n            [concept.concept]: {\n                $in: new Set(result\n                    .filter(row => row['is--' + concept.concept])\n                    .map(row => row[concept.domain]))\n            }\n        })));\n        return Promise.all(promises).then(results => {\n            return results.reduce((a, b) => Object.assign(a, b), {});\n        });\n    }\n    function getResources(key, value) {\n        if (!value || value.length === 0) {\n            return new Set([...keyValueLookup\n                    .get(createKeyString(key))\n                    .values()\n            ].reduce((a, b) => a.concat(b)));\n        }\n        if (Array.isArray(value)) {\n            return value\n                .map(singleValue => getResources(key, singleValue))\n                .reduce((resultSet, resources) => new Set([...resultSet, ...resources]), new Set());\n        }\n        let oneKeyOneValueResourcesArray = keyValueLookup\n            .get(createKeyString(key))\n            .get(value);\n        if (oneKeyOneValueResourcesArray) {\n            oneKeyOneValueResourcesArray = oneKeyOneValueResourcesArray\n                .filter(v => isEmpty(optimalFilesSet) || includes(optimalFilesSet, v.path));\n        }\n        return new Set(oneKeyOneValueResourcesArray);\n    }\n    function processResourceResponse(response, select, filterFields, options) {\n        const resourcePK = response.resource.schema.primaryKey;\n        const resourceProjection = new Set([...resourcePK, ...select.value, ...filterFields]);\n        const renameMap = getEntityConceptRenameMap(select.key, resourcePK, options);\n        return response.data\n            .map(row => projectRow(row, resourceProjection))\n            .map(row => renameHeaderRow(row, renameMap));\n    }\n    function loadResources(key, value, language, options) {\n        const resources = getResources(key, value);\n        return Promise.all([...resources].map(resource => loadResource(resource, language, options)));\n    }\n    function projectRow(row, projectionSet) {\n        const result = {};\n        for (const concept in row) {\n            if (projectionSet.has(concept)) {\n                result[concept] = row[concept];\n            }\n        }\n        return result;\n    }\n    function renameHeaderRow(row, renameMap) {\n        const result = {};\n        for (const concept in row) {\n            result[renameMap.get(concept) || concept] = row[concept];\n        }\n        return result;\n    }\n    function joinData(key, joinMode, ...data) {\n        if (data.length === 1) {\n            return data[0];\n        }\n        const canonicalKey = key.slice(0).sort();\n        const dataMap = data.reduce((result, dataPar) => {\n            dataPar.forEach(row => {\n                const keyString = canonicalKey.map(concept => row[concept]).join(',');\n                if (result.has(keyString)) {\n                    const resultRow = result.get(keyString);\n                    joinRow(resultRow, row, joinMode);\n                }\n                else {\n                    result.set(keyString, row);\n                }\n            });\n            return result;\n        }, new Map());\n        return [...dataMap.values()];\n    }\n    function joinRow(resultRow, sourceRow, mode) {\n        switch (mode) {\n            case 'overwrite':\n                Object.assign(resultRow, sourceRow);\n                break;\n            case 'translation':\n                for (const concept in sourceRow) {\n                    if (sourceRow[concept] !== '') {\n                        resultRow[concept] = sourceRow[concept];\n                    }\n                }\n                break;\n            case 'overwriteWithError':\n                for (const concept in sourceRow) {\n                    if (resultRow[concept] !== undefined && resultRow[concept] !== sourceRow[concept]) {\n                        const sourceRowStr = JSON.stringify(sourceRow);\n                        const resultRowStr = JSON.stringify(resultRow);\n                        const errStr = `JOIN Error: two resources have different data for \"${concept}\": ${sourceRowStr},${resultRowStr}`;\n                        throwError(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.DDF_ERROR, errStr));\n                    }\n                    else {\n                        resultRow[concept] = sourceRow[concept];\n                    }\n                }\n                break;\n        }\n    }\n    function throwError(error) {\n        const currentLogger = logger || console;\n        currentLogger.error(error.message);\n        throw error;\n    }\n    function createKeyString(key, row = false) {\n        const canonicalKey = key.slice(0).sort();\n        if (!row) {\n            return canonicalKey.join(',');\n        }\n        else {\n            return canonicalKey.map(concept => row[concept]).join(',');\n        }\n    }\n    function loadResource(resource, language, options) {\n        const filePromises = [];\n        if (typeof resource.data === 'undefined') {\n            resource.data = loadFile(options.datasetPath + '/' + resource.path, options);\n        }\n        filePromises.push(resource.data);\n        const languageValid = typeof language !== 'undefined' && getLanguages(options).includes(language);\n        const languageLoaded = typeof resource.translations[language] !== 'undefined';\n        if (languageValid) {\n            if (!languageLoaded) {\n                const translationPath = `${options.datasetPath}/lang/${language}/${resource.path}`;\n                resource.translations[language] = loadFile(translationPath, options).catch(err => Promise.resolve({}));\n            }\n            filePromises.push(resource.translations[language]);\n        }\n        return Promise.all(filePromises).then(fileResponses => {\n            const filesData = fileResponses.map(resp => resp.data || []);\n            const primaryKey = resource.schema.primaryKey;\n            const data = joinData(primaryKey, 'translation', ...filesData);\n            return { data, resource };\n        });\n    }\n    function getLanguages({ datapackage }) {\n        if (!datapackage.translations) {\n            return [];\n        }\n        return datapackage.translations.map(lang => lang.id);\n    }\n    function loadFile(filePath, options) {\n        return new Promise((resolve, reject) => {\n            fileReader.readText(filePath, (err, data) => {\n                if (err) {\n                    return reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.FILE_READING_ERROR, err, filePath));\n                }\n                Papa.parse(data, {\n                    header: true,\n                    skipEmptyLines: true,\n                    dynamicTyping: (headerName) => {\n                        if (!options.conceptsLookup) {\n                            return true;\n                        }\n                        const concept = options.conceptsLookup.get(headerName) || {};\n                        return ['boolean', 'measure'].includes(concept.concept_type);\n                    },\n                    complete: result => resolve(result),\n                    error: error => reject(new ddfcsv_error_1.DdfCsvError(ddfcsv_error_1.CSV_PARSING_ERROR, error, filePath))\n                });\n            });\n        });\n    }\n    function buildResourcesLookup(datapackagePar) {\n        if (resourcesLookup.size > 0) {\n            return resourcesLookup;\n        }\n        datapackagePar.resources.forEach(resource => {\n            if (!Array.isArray(resource.schema.primaryKey)) {\n                resource.schema.primaryKey = [resource.schema.primaryKey];\n            }\n            resource.translations = {};\n            resourcesLookup.set(resource.name, resource);\n        });\n        return resourcesLookup;\n    }\n    function buildKeyValueLookup(datapackagePar) {\n        if (keyValueLookup.size > 0) {\n            return keyValueLookup;\n        }\n        for (const collection in datapackagePar.ddfSchema) {\n            datapackagePar.ddfSchema[collection].map(kvPair => {\n                const key = createKeyString(kvPair.primaryKey);\n                const resources = kvPair.resources.map(resourceName => resourcesLookup.get(resourceName));\n                if (keyValueLookup.has(key)) {\n                    keyValueLookup.get(key).set(kvPair.value, resources);\n                }\n                else {\n                    keyValueLookup.set(key, new Map([[kvPair.value, resources]]));\n                }\n            });\n        }\n        return keyValueLookup;\n    }\n    return {\n        query\n    };\n}\nexports.ddfCsvReader = ddfCsvReader;\n//# sourceMappingURL=ddf-csv.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-csv.js","var baseIndexOf = require('./_baseIndexOf'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    toInteger = require('./toInteger'),\n    values = require('./values');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nmodule.exports = includes;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/includes.js","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIndexOf.js","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFindIndex.js","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsNaN.js","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_strictIndexOf.js","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArrayLike.js","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isFunction.js","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGetTag.js","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Symbol.js","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_root.js","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_freeGlobal.js","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getRawTag.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_objectToString.js","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isLength.js","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isString.js","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArray.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isObjectLike.js","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toInteger.js","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toFinite.js","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toNumber.js","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isSymbol.js","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/values.js","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseValues.js","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayMap.js","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/keys.js","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayLikeKeys.js","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseTimes.js","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isArguments.js","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsArguments.js","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isBuffer.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/stubFalse.js","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isIndex.js","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isTypedArray.js","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsTypedArray.js","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseUnary.js","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nodeUtil.js","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseKeys.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isPrototype.js","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nativeKeys.js","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_overArg.js","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/isEmpty.js","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getTag.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_DataView.js","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getNative.js","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsNative.js","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isMasked.js","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_coreJsData.js","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_toSource.js","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getValue.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Map.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Promise.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Set.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_WeakMap.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst in_clause_under_conjunction_plugin_1 = require(\"./in-clause-under-conjunction-plugin\");\nconst head = require(\"lodash/head\");\nfunction getAppropriatePlugin(queryParam, options) {\n    const plugins = [\n        new in_clause_under_conjunction_plugin_1.InClauseUnderConjunctionPlugin(queryParam, options)\n    ];\n    return head(plugins.filter(plugin => plugin.isMatched()));\n}\nexports.getAppropriatePlugin = getAppropriatePlugin;\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/query-optimization-plugins/index.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst path = require(\"path\");\nconst head = require(\"lodash/head\");\nconst values = require(\"lodash/values\");\nconst keys = require(\"lodash/keys\");\nconst get = require(\"lodash/get\");\nconst flattenDeep = require(\"lodash/flattenDeep\");\nconst isEmpty = require(\"lodash/isEmpty\");\nconst startsWith = require(\"lodash/startsWith\");\nconst includes = require(\"lodash/includes\");\nconst compact = require(\"lodash/compact\");\nconst ddfcsv_error_1 = require(\"../ddfcsv-error\");\nconst Papa = require('papaparse');\nconst WHERE_KEYWORD = 'where';\nconst JOIN_KEYWORD = 'join';\nconst KEY_KEYWORD = 'key';\nconst KEY_IN = '$in';\nconst KEY_AND = '$and';\nconst getFirstConditionClause = clause => head(values(clause));\nconst getFirstKey = obj => head(keys(obj));\nconst isOneKeyBased = obj => keys(obj).length === 1;\nclass InClauseUnderConjunctionPlugin {\n    constructor(queryParam, options) {\n        this.flow = {};\n        this.fileReader = options.fileReader;\n        this.datasetPath = options.datasetPath;\n        this.query = queryParam;\n        this.datapackage = options.datapackage;\n    }\n    isMatched() {\n        this.flow.joinObject = get(this.query, JOIN_KEYWORD);\n        const mainAndClause = get(this.query, WHERE_KEYWORD);\n        const isMainAndClauseCorrect = isOneKeyBased(mainAndClause);\n        const joinKeys = keys(this.flow.joinObject);\n        let areJoinKeysSameAsKeyInWhereClause = true;\n        for (const key of joinKeys) {\n            const joinPart = get(this.flow.joinObject, key, {});\n            const firstKey = getFirstKey(joinPart[WHERE_KEYWORD]);\n            if (joinPart[KEY_KEYWORD] !== firstKey && firstKey !== KEY_AND) {\n                areJoinKeysSameAsKeyInWhereClause = false;\n                break;\n            }\n        }\n        return isMainAndClauseCorrect && !!this.flow.joinObject && areJoinKeysSameAsKeyInWhereClause;\n    }\n    getOptimalFilesSet() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (this.isMatched()) {\n                let result;\n                try {\n                    this.fillResourceToFileHash();\n                    this.collectProcessableClauses();\n                    this.collectEntityFilesNames();\n                    const data = yield this.collectEntities();\n                    this.fillEntityValuesHash(data);\n                    this.getFilesGroupsQueryClause();\n                    result = this.getOptimalFilesGroup();\n                }\n                catch (err) {\n                    return [];\n                }\n                return result;\n            }\n            else {\n                throw new ddfcsv_error_1.DdfCsvError(`Plugin \"InClauseUnderConjunction\" is not matched!`, 'InClauseUnderConjunction plugin');\n            }\n        });\n    }\n    fillResourceToFileHash() {\n        this.flow.resourceToFile = get(this.datapackage, 'resources', []).reduce((hash, resource) => {\n            hash.set(resource.name, resource.path);\n            return hash;\n        }, new Map());\n        return this;\n    }\n    collectProcessableClauses() {\n        const joinKeys = keys(this.flow.joinObject);\n        this.flow.processableClauses = [];\n        for (const joinKey of joinKeys) {\n            const where = get(this.flow.joinObject, `${joinKey}.${WHERE_KEYWORD}`, {});\n            if (this.singleAndField(where)) {\n                this.flow.processableClauses.push(...flattenDeep(where[KEY_AND].map(el => this.getProcessableClauses(el))));\n            }\n            else {\n                this.flow.processableClauses.push(...this.getProcessableClauses(where));\n            }\n        }\n        return this;\n    }\n    collectEntityFilesNames() {\n        this.flow.entityFilesNames = [];\n        this.flow.fileNameToPrimaryKeyHash = new Map();\n        for (const schemaResourceRecord of this.datapackage.ddfSchema.entities) {\n            for (const clause of this.flow.processableClauses) {\n                const primaryKey = getFirstKey(clause);\n                if (head(schemaResourceRecord.primaryKey) === primaryKey) {\n                    for (const resourceName of schemaResourceRecord.resources) {\n                        const file = this.flow.resourceToFile.get(resourceName);\n                        this.flow.entityFilesNames.push(file);\n                        this.flow.fileNameToPrimaryKeyHash.set(file, primaryKey);\n                    }\n                }\n            }\n        }\n        return this;\n    }\n    collectEntities() {\n        const self = this;\n        const actions = self.flow.entityFilesNames.map(file => new Promise((actResolve, actReject) => {\n            self.fileReader.readText(path.resolve(self.datasetPath, file), (err, text) => {\n                if (err) {\n                    return actReject(err);\n                }\n                Papa.parse(text, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: result => actResolve({ file, result }),\n                    error: error => actReject(error)\n                });\n            });\n        }));\n        return Promise.all(actions);\n    }\n    fillEntityValuesHash(entitiesData) {\n        const getSubdomainsFromRecord = record => compact(keys(record)\n            .filter(key => startsWith(key, 'is--') && (record[key] === 'TRUE' || record[key] === 'true'))\n            .map(key => key.replace(/^is--/, '')));\n        this.flow.entityValueToFileHash = new Map();\n        this.flow.entityValueToDomainHash = new Map();\n        for (const entityFileDescriptor of entitiesData) {\n            for (const entityRecord of entityFileDescriptor.result.data) {\n                const primaryKeyForThisFile = this.flow.fileNameToPrimaryKeyHash.get(entityFileDescriptor.file);\n                const primaryKeyCellValue = entityRecord[primaryKeyForThisFile];\n                const domainsForCurrentRecord = [...getSubdomainsFromRecord(entityRecord)];\n                if (isEmpty(domainsForCurrentRecord)) {\n                    domainsForCurrentRecord.push(primaryKeyForThisFile);\n                }\n                this.flow.entityValueToDomainHash.set(primaryKeyCellValue, domainsForCurrentRecord);\n                this.flow.entityValueToFileHash.set(primaryKeyCellValue, entityFileDescriptor.file);\n            }\n        }\n        return this;\n    }\n    getFilesGroupsQueryClause() {\n        const filesGroupsByClause = new Map();\n        for (const clause of this.flow.processableClauses) {\n            const filesGroupByClause = {\n                entities: new Set(),\n                datapoints: new Set(),\n                concepts: new Set()\n            };\n            const entityValuesFromClause = getFirstConditionClause(clause).$in;\n            for (const entityValueFromClause of entityValuesFromClause) {\n                filesGroupByClause.entities.add(this.flow.entityValueToFileHash.get(entityValueFromClause));\n                const entitiesByQuery = this.flow.entityValueToDomainHash.get(entityValueFromClause);\n                for (const entityByQuery of entitiesByQuery) {\n                    for (const schemaResourceRecord of this.datapackage.ddfSchema.datapoints) {\n                        for (const resourceName of schemaResourceRecord.resources) {\n                            if (includes(schemaResourceRecord.primaryKey, entityByQuery)) {\n                                filesGroupByClause.datapoints.add(this.flow.resourceToFile.get(resourceName));\n                            }\n                        }\n                    }\n                }\n            }\n            for (const schemaResourceRecord of this.datapackage.ddfSchema.concepts) {\n                for (const resourceName of schemaResourceRecord.resources) {\n                    filesGroupByClause.concepts.add(this.flow.resourceToFile.get(resourceName));\n                }\n            }\n            filesGroupsByClause.set(clause, filesGroupByClause);\n        }\n        this.flow.filesGroupsByClause = filesGroupsByClause;\n        return this;\n    }\n    getOptimalFilesGroup() {\n        const clauseKeys = this.flow.filesGroupsByClause.keys();\n        let appropriateClauseKey;\n        let appropriateClauseSize;\n        for (const key of clauseKeys) {\n            const size = this.flow.filesGroupsByClause.get(key).datapoints.size +\n                this.flow.filesGroupsByClause.get(key).entities.size +\n                this.flow.filesGroupsByClause.get(key).concepts.size;\n            if (!appropriateClauseKey || size < appropriateClauseSize) {\n                appropriateClauseKey = key;\n                appropriateClauseSize = size;\n            }\n        }\n        return [\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).concepts),\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).entities),\n            ...Array.from(this.flow.filesGroupsByClause.get(appropriateClauseKey).datapoints)\n        ];\n    }\n    getProcessableClauses(clause) {\n        const result = [];\n        const clauseKeys = keys(clause);\n        for (const key of clauseKeys) {\n            if (!startsWith(key, '$') && isOneKeyBased(clause[key])) {\n                const conditionKey = head(keys(clause[key]));\n                if (conditionKey === KEY_IN) {\n                    result.push(clause);\n                }\n            }\n        }\n        return result;\n    }\n    singleAndField(clause) {\n        return isOneKeyBased(clause) && !!get(clause, KEY_AND);\n    }\n}\nexports.InClauseUnderConjunctionPlugin = InClauseUnderConjunctionPlugin;\n//# sourceMappingURL=in-clause-under-conjunction-plugin.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/query-optimization-plugins/in-clause-under-conjunction-plugin.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 66\n// module chunks = 0","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/head.js","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/get.js","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGet.js","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_castPath.js","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isKey.js","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stringToPath.js","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_memoizeCapped.js","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/memoize.js","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_MapCache.js","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheClear.js","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Hash.js","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashClear.js","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_nativeCreate.js","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashDelete.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashGet.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashHas.js","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hashSet.js","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_ListCache.js","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheClear.js","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheDelete.js","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_assocIndexOf.js","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/eq.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheGet.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheHas.js","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_listCacheSet.js","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheDelete.js","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getMapData.js","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isKeyable.js","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheGet.js","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheHas.js","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapCacheSet.js","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/toString.js","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseToString.js","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_toKey.js","var baseFlatten = require('./_baseFlatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/flattenDeep.js","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFlatten.js","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayPush.js","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isFlattenable.js","var baseClamp = require('./_baseClamp'),\n    baseToString = require('./_baseToString'),\n    toInteger = require('./toInteger'),\n    toString = require('./toString');\n\n/**\n * Checks if `string` starts with the given target string.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {string} [target] The string to search for.\n * @param {number} [position=0] The position to search from.\n * @returns {boolean} Returns `true` if `string` starts with `target`,\n *  else `false`.\n * @example\n *\n * _.startsWith('abc', 'a');\n * // => true\n *\n * _.startsWith('abc', 'b');\n * // => false\n *\n * _.startsWith('abc', 'b', 1);\n * // => true\n */\nfunction startsWith(string, target, position) {\n  string = toString(string);\n  position = position == null\n    ? 0\n    : baseClamp(toInteger(position), 0, string.length);\n\n  target = baseToString(target);\n  return string.slice(position, position + target.length) == target;\n}\n\nmodule.exports = startsWith;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/startsWith.js","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseClamp.js","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/compact.js","/*!\n\tPapa Parse\n\tv4.3.6\n\thttps://github.com/mholt/PapaParse\n\tLicense: MIT\n*/\n(function(root, factory)\n{\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t}\n\telse if (typeof module === 'object' && typeof exports !== 'undefined')\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n\telse\n\t{\n\t\t// Browser globals (root is window)\n\t\troot.Papa = factory();\n\t}\n}(this, function()\n{\n\t'use strict';\n\n\tvar global = (function () {\n\t\t// alternative method, similar to `Function('return this')()`\n\t\t// but without using `eval` (which is disabled when\n\t\t// using Content Security Policy).\n\n\t\tif (typeof self !== 'undefined') { return self; }\n\t\tif (typeof window !== 'undefined') { return window; }\n\t\tif (typeof global !== 'undefined') { return global; }\n\n\t\t// When running tests none of the above have been defined\n\t\treturn {};\n\t})();\n\n\n\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\tIS_PAPA_WORKER = IS_WORKER && /(\\?|&)papaworker(=|&|$)/.test(global.location.search),\n\t\tLOADED_SYNC = false, AUTO_SCRIPT_PATH;\n\tvar workers = {}, workerIdCounter = 0;\n\n\tvar Papa = {};\n\n\tPapa.parse = CsvToJson;\n\tPapa.unparse = JsonToCsv;\n\n\tPapa.RECORD_SEP = String.fromCharCode(30);\n\tPapa.UNIT_SEP = String.fromCharCode(31);\n\tPapa.BYTE_ORDER_MARK = '\\ufeff';\n\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\tPapa.SCRIPT_PATH = null;\t// Must be set by your code if you use workers and this lib is loaded asynchronously\n\n\t// Configurable chunk sizes for local and remote files, respectively\n\tPapa.LocalChunkSize = 1024 * 1024 * 10;\t// 10 MB\n\tPapa.RemoteChunkSize = 1024 * 1024 * 5;\t// 5 MB\n\tPapa.DefaultDelimiter = ',';\t\t\t// Used if not specified and detection fails\n\n\t// Exposed for testing and development only\n\tPapa.Parser = Parser;\n\tPapa.ParserHandle = ParserHandle;\n\tPapa.NetworkStreamer = NetworkStreamer;\n\tPapa.FileStreamer = FileStreamer;\n\tPapa.StringStreamer = StringStreamer;\n\tPapa.ReadableStreamStreamer = ReadableStreamStreamer;\n\n\tif (global.jQuery)\n\t{\n\t\tvar $ = global.jQuery;\n\t\t$.fn.parse = function(options)\n\t\t{\n\t\t\tvar config = options.config || {};\n\t\t\tvar queue = [];\n\n\t\t\tthis.each(function(idx)\n\t\t\t{\n\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT'\n\t\t\t\t\t\t\t\t&& $(this).attr('type').toLowerCase() === 'file'\n\t\t\t\t\t\t\t\t&& global.FileReader;\n\n\t\t\t\tif (!supported || !this.files || this.files.length === 0)\n\t\t\t\t\treturn true;\t// continue to next input element\n\n\t\t\t\tfor (var i = 0; i < this.files.length; i++)\n\t\t\t\t{\n\t\t\t\t\tqueue.push({\n\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparseNextFile();\t// begin parsing\n\t\t\treturn this;\t\t// maintains chainability\n\n\n\t\t\tfunction parseNextFile()\n\t\t\t{\n\t\t\t\tif (queue.length === 0)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(options.complete))\n\t\t\t\t\t\toptions.complete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar f = queue[0];\n\n\t\t\t\tif (isFunction(options.before))\n\t\t\t\t{\n\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\n\t\t\t\t\tif (typeof returned === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (returned.action === 'abort')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\treturn;\t// Aborts all queued files immediately\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (returned.action === 'skip')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof returned.config === 'object')\n\t\t\t\t\t\t\tf.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t}\n\t\t\t\t\telse if (returned === 'skip')\n\t\t\t\t\t{\n\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\tf.instanceConfig.complete = function(results)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(userCompleteFunc))\n\t\t\t\t\t\tuserCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\tfileComplete();\n\t\t\t\t};\n\n\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t}\n\n\t\t\tfunction error(name, file, elem, reason)\n\t\t\t{\n\t\t\t\tif (isFunction(options.error))\n\t\t\t\t\toptions.error({name: name}, file, elem, reason);\n\t\t\t}\n\n\t\t\tfunction fileComplete()\n\t\t\t{\n\t\t\t\tqueue.splice(0, 1);\n\t\t\t\tparseNextFile();\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (IS_PAPA_WORKER)\n\t{\n\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t}\n\telse if (Papa.WORKERS_SUPPORTED)\n\t{\n\t\tAUTO_SCRIPT_PATH = getScriptPath();\n\n\t\t// Check if the script was loaded synchronously\n\t\tif (!document.body)\n\t\t{\n\t\t\t// Body doesn't exist yet, must be synchronous\n\t\t\tLOADED_SYNC = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\tLOADED_SYNC = true;\n\t\t\t}, true);\n\t\t}\n\t}\n\n\n\n\n\tfunction CsvToJson(_input, _config)\n\t{\n\t\t_config = _config || {};\n\t\tvar dynamicTyping = _config.dynamicTyping || false;\n\t\tif (isFunction(dynamicTyping)) {\n\t\t\t_config.dynamicTypingFunction = dynamicTyping;\n\t\t\t// Will be filled on first row call\n\t\t\tdynamicTyping = {};\n\t\t}\n\t\t_config.dynamicTyping = dynamicTyping;\n\n\t\tif (_config.worker && Papa.WORKERS_SUPPORTED)\n\t\t{\n\t\t\tvar w = newWorker();\n\n\t\t\tw.userStep = _config.step;\n\t\t\tw.userChunk = _config.chunk;\n\t\t\tw.userComplete = _config.complete;\n\t\t\tw.userError = _config.error;\n\n\t\t\t_config.step = isFunction(_config.step);\n\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t_config.error = isFunction(_config.error);\n\t\t\tdelete _config.worker;\t// prevent infinite loop\n\n\t\t\tw.postMessage({\n\t\t\t\tinput: _input,\n\t\t\t\tconfig: _config,\n\t\t\t\tworkerId: w.id\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar streamer = null;\n\t\tif (typeof _input === 'string')\n\t\t{\n\t\t\tif (_config.download)\n\t\t\t\tstreamer = new NetworkStreamer(_config);\n\t\t\telse\n\t\t\t\tstreamer = new StringStreamer(_config);\n\t\t}\n\t\telse if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))\n\t\t{\n\t\t\tstreamer = new ReadableStreamStreamer(_config);\n\t\t}\n\t\telse if ((global.File && _input instanceof File) || _input instanceof Object)\t// ...Safari. (see issue #106)\n\t\t\tstreamer = new FileStreamer(_config);\n\n\t\treturn streamer.stream(_input);\n\t}\n\n\n\n\n\n\n\tfunction JsonToCsv(_input, _config)\n\t{\n\t\tvar _output = '';\n\t\tvar _fields = [];\n\n\t\t// Default configuration\n\n\t\t/** whether to surround every datum with quotes */\n\t\tvar _quotes = false;\n\n\t\t/** whether to write headers */\n\t\tvar _writeHeader = true;\n\n\t\t/** delimiting character */\n\t\tvar _delimiter = ',';\n\n\t\t/** newline character(s) */\n\t\tvar _newline = '\\r\\n';\n\n\t\t/** quote character */\n\t\tvar _quoteChar = '\"';\n\n\t\tunpackConfig();\n\n\t\tvar quoteCharRegex = new RegExp(_quoteChar, 'g');\n\n\t\tif (typeof _input === 'string')\n\t\t\t_input = JSON.parse(_input);\n\n\t\tif (_input instanceof Array)\n\t\t{\n\t\t\tif (!_input.length || _input[0] instanceof Array)\n\t\t\t\treturn serialize(null, _input);\n\t\t\telse if (typeof _input[0] === 'object')\n\t\t\t\treturn serialize(objectKeys(_input[0]), _input);\n\t\t}\n\t\telse if (typeof _input === 'object')\n\t\t{\n\t\t\tif (typeof _input.data === 'string')\n\t\t\t\t_input.data = JSON.parse(_input.data);\n\n\t\t\tif (_input.data instanceof Array)\n\t\t\t{\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.meta && _input.meta.fields;\n\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.data[0] instanceof Array\n\t\t\t\t\t\t\t\t\t? _input.fields\n\t\t\t\t\t\t\t\t\t: objectKeys(_input.data[0]);\n\n\t\t\t\tif (!(_input.data[0] instanceof Array) && typeof _input.data[0] !== 'object')\n\t\t\t\t\t_input.data = [_input.data];\t// handles input like [1,2,3] or ['asdf']\n\t\t\t}\n\n\t\t\treturn serialize(_input.fields || [], _input.data || []);\n\t\t}\n\n\t\t// Default (any valid paths should return before this)\n\t\tthrow 'exception: Unable to serialize unrecognized input';\n\n\n\t\tfunction unpackConfig()\n\t\t{\n\t\t\tif (typeof _config !== 'object')\n\t\t\t\treturn;\n\n\t\t\tif (typeof _config.delimiter === 'string'\n\t\t\t\t&& _config.delimiter.length === 1\n\t\t\t\t&& Papa.BAD_DELIMITERS.indexOf(_config.delimiter) === -1)\n\t\t\t{\n\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tif (typeof _config.quotes === 'boolean'\n\t\t\t\t|| _config.quotes instanceof Array)\n\t\t\t\t_quotes = _config.quotes;\n\n\t\t\tif (typeof _config.newline === 'string')\n\t\t\t\t_newline = _config.newline;\n\n\t\t\tif (typeof _config.quoteChar === 'string')\n\t\t\t\t_quoteChar = _config.quoteChar;\n\n\t\t\tif (typeof _config.header === 'boolean')\n\t\t\t\t_writeHeader = _config.header;\n\t\t}\n\n\n\t\t/** Turns an object's keys into an array */\n\t\tfunction objectKeys(obj)\n\t\t{\n\t\t\tif (typeof obj !== 'object')\n\t\t\t\treturn [];\n\t\t\tvar keys = [];\n\t\t\tfor (var key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn keys;\n\t\t}\n\n\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\tfunction serialize(fields, data)\n\t\t{\n\t\t\tvar csv = '';\n\n\t\t\tif (typeof fields === 'string')\n\t\t\t\tfields = JSON.parse(fields);\n\t\t\tif (typeof data === 'string')\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\tvar hasHeader = fields instanceof Array && fields.length > 0;\n\t\t\tvar dataKeyedByField = !(data[0] instanceof Array);\n\n\t\t\t// If there a header row, write it first\n\t\t\tif (hasHeader && _writeHeader)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < fields.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t}\n\t\t\t\tif (data.length > 0)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\t// Then write out the data\n\t\t\tfor (var row = 0; row < data.length; row++)\n\t\t\t{\n\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\n\t\t\t\tfor (var col = 0; col < maxCol; col++)\n\t\t\t\t{\n\t\t\t\t\tif (col > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t}\n\n\t\t\t\tif (row < data.length - 1)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\treturn csv;\n\t\t}\n\n\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\tfunction safe(str, col)\n\t\t{\n\t\t\tif (typeof str === 'undefined' || str === null)\n\t\t\t\treturn '';\n\n\t\t\tstr = str.toString().replace(quoteCharRegex, _quoteChar+_quoteChar);\n\n\t\t\tvar needsQuotes = (typeof _quotes === 'boolean' && _quotes)\n\t\t\t\t\t\t\t|| (_quotes instanceof Array && _quotes[col])\n\t\t\t\t\t\t\t|| hasAny(str, Papa.BAD_DELIMITERS)\n\t\t\t\t\t\t\t|| str.indexOf(_delimiter) > -1\n\t\t\t\t\t\t\t|| str.charAt(0) === ' '\n\t\t\t\t\t\t\t|| str.charAt(str.length - 1) === ' ';\n\n\t\t\treturn needsQuotes ? _quoteChar + str + _quoteChar : str;\n\t\t}\n\n\t\tfunction hasAny(str, substrings)\n\t\t{\n\t\t\tfor (var i = 0; i < substrings.length; i++)\n\t\t\t\tif (str.indexOf(substrings[i]) > -1)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\tfunction ChunkStreamer(config)\n\t{\n\t\tthis._handle = null;\n\t\tthis._paused = false;\n\t\tthis._finished = false;\n\t\tthis._input = null;\n\t\tthis._baseIndex = 0;\n\t\tthis._partialLine = '';\n\t\tthis._rowCount = 0;\n\t\tthis._start = 0;\n\t\tthis._nextChunk = null;\n\t\tthis.isFirstChunk = true;\n\t\tthis._completeResults = {\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\t\treplaceConfig.call(this, config);\n\n\t\tthis.parseChunk = function(chunk)\n\t\t{\n\t\t\t// First chunk pre-processing\n\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))\n\t\t\t{\n\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\tif (modifiedChunk !== undefined)\n\t\t\t\t\tchunk = modifiedChunk;\n\t\t\t}\n\t\t\tthis.isFirstChunk = false;\n\n\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\tthis._partialLine = '';\n\n\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\n\t\t\tif (this._handle.paused() || this._handle.aborted())\n\t\t\t\treturn;\n\n\t\t\tvar lastIndex = results.meta.cursor;\n\n\t\t\tif (!this._finished)\n\t\t\t{\n\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t}\n\n\t\t\tif (results && results.data)\n\t\t\t\tthis._rowCount += results.data.length;\n\n\t\t\tvar finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);\n\n\t\t\tif (IS_PAPA_WORKER)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tresults: results,\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (isFunction(this._config.chunk))\n\t\t\t{\n\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\tif (this._paused)\n\t\t\t\t\treturn;\n\t\t\t\tresults = undefined;\n\t\t\t\tthis._completeResults = undefined;\n\t\t\t}\n\n\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t}\n\n\t\t\tif (finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted))\n\t\t\t\tthis._config.complete(this._completeResults, this._input);\n\n\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused))\n\t\t\t\tthis._nextChunk();\n\n\t\t\treturn results;\n\t\t};\n\n\t\tthis._sendError = function(error)\n\t\t{\n\t\t\tif (isFunction(this._config.error))\n\t\t\t\tthis._config.error(error);\n\t\t\telse if (IS_PAPA_WORKER && this._config.error)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\terror: error,\n\t\t\t\t\tfinished: false\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction replaceConfig(config)\n\t\t{\n\t\t\t// Deep-copy the config so we can edit it\n\t\t\tvar configCopy = copy(config);\n\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize);\t// parseInt VERY important so we don't concatenate strings!\n\t\t\tif (!config.step && !config.chunk)\n\t\t\t\tconfigCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\tthis._handle.streamer = this;\n\t\t\tthis._config = configCopy;\t// persist the copy to the caller\n\t\t}\n\t}\n\n\n\tfunction NetworkStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.RemoteChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar xhr;\n\n\t\tif (IS_WORKER)\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t\tthis._chunkLoaded();\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t};\n\t\t}\n\n\t\tthis.stream = function(url)\n\t\t{\n\t\t\tthis._input = url;\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tif (this._finished)\n\t\t\t{\n\t\t\t\tthis._chunkLoaded();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\tif (this._config.withCredentials)\n\t\t\t{\n\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t}\n\n\t\t\tif (!IS_WORKER)\n\t\t\t{\n\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\n\t\t\txhr.open('GET', this._input, !IS_WORKER);\n\t\t\t// Headers can only be set when once the request state is OPENED\n\t\t\tif (this._config.downloadRequestHeaders)\n\t\t\t{\n\t\t\t\tvar headers = this._config.downloadRequestHeaders;\n\n\t\t\t\tfor (var headerName in headers)\n\t\t\t\t{\n\t\t\t\t\txhr.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = this._start + this._config.chunkSize - 1;\t// minus one because byte range is inclusive\n\t\t\t\txhr.setRequestHeader('Range', 'bytes='+this._start+'-'+end);\n\t\t\t\txhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis._chunkError(err.message);\n\t\t\t}\n\n\t\t\tif (IS_WORKER && xhr.status === 0)\n\t\t\t\tthis._chunkError();\n\t\t\telse\n\t\t\t\tthis._start += this._config.chunkSize;\n\t\t}\n\n\t\tthis._chunkLoaded = function()\n\t\t{\n\t\t\tif (xhr.readyState != 4)\n\t\t\t\treturn;\n\n\t\t\tif (xhr.status < 200 || xhr.status >= 400)\n\t\t\t{\n\t\t\t\tthis._chunkError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._finished = !this._config.chunkSize || this._start > getFileSize(xhr);\n\t\t\tthis.parseChunk(xhr.responseText);\n\t\t}\n\n\t\tthis._chunkError = function(errorMessage)\n\t\t{\n\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\tthis._sendError(errorText);\n\t\t}\n\n\t\tfunction getFileSize(xhr)\n\t\t{\n\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\tif (contentRange === null) { // no content range, then finish!\n\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\treturn parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));\n\t\t}\n\t}\n\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\n\n\tfunction FileStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.LocalChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar reader, slice;\n\n\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\tvar usingAsyncReader = typeof FileReader !== 'undefined';\t// Safari doesn't consider it a function - see issue #105\n\n\t\tthis.stream = function(file)\n\t\t{\n\t\t\tthis._input = file;\n\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\n\t\t\tif (usingAsyncReader)\n\t\t\t{\n\t\t\t\treader = new FileReader();\t\t// Preferred method of reading files, even in workers\n\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\t\t\telse\n\t\t\t\treader = new FileReaderSync();\t// Hack for running in a web worker in Firefox\n\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))\n\t\t\t\tthis._readChunk();\n\t\t}\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tvar input = this._input;\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t}\n\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\tif (!usingAsyncReader)\n\t\t\t\tthis._chunkLoaded({ target: { result: txt } });\t// mimic the async signature\n\t\t}\n\n\t\tthis._chunkLoaded = function(event)\n\t\t{\n\t\t\t// Very important to increment start each time before handling results\n\t\t\tthis._start += this._config.chunkSize;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\tthis.parseChunk(event.target.result);\n\t\t}\n\n\t\tthis._chunkError = function()\n\t\t{\n\t\t\tthis._sendError(reader.error);\n\t\t}\n\n\t}\n\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tFileStreamer.prototype.constructor = FileStreamer;\n\n\n\tfunction StringStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar string;\n\t\tvar remaining;\n\t\tthis.stream = function(s)\n\t\t{\n\t\t\tstring = s;\n\t\t\tremaining = s;\n\t\t\treturn this._nextChunk();\n\t\t}\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (this._finished) return;\n\t\t\tvar size = this._config.chunkSize;\n\t\t\tvar chunk = size ? remaining.substr(0, size) : remaining;\n\t\t\tremaining = size ? remaining.substr(size) : '';\n\t\t\tthis._finished = !remaining;\n\t\t\treturn this.parseChunk(chunk);\n\t\t}\n\t}\n\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\tStringStreamer.prototype.constructor = StringStreamer;\n\n\n\tfunction ReadableStreamStreamer(config)\n\t{\n\t\tconfig = config || {};\n\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar queue = [];\n\t\tvar parseOnData = true;\n\n\t\tthis.stream = function(stream)\n\t\t{\n\t\t\tthis._input = stream;\n\n\t\t\tthis._input.on('data', this._streamData);\n\t\t\tthis._input.on('end', this._streamEnd);\n\t\t\tthis._input.on('error', this._streamError);\n\t\t}\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (queue.length)\n\t\t\t{\n\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparseOnData = true;\n\t\t\t}\n\t\t}\n\n\t\tthis._streamData = bindFunction(function(chunk)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tqueue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));\n\n\t\t\t\tif (parseOnData)\n\t\t\t\t{\n\t\t\t\t\tparseOnData = false;\n\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tthis._streamError(error);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis._streamError = bindFunction(function(error)\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._sendError(error.message);\n\t\t}, this);\n\n\t\tthis._streamEnd = bindFunction(function()\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._finished = true;\n\t\t\tthis._streamData('');\n\t\t}, this);\n\n\t\tthis._streamCleanUp = bindFunction(function()\n\t\t{\n\t\t\tthis._input.removeListener('data', this._streamData);\n\t\t\tthis._input.removeListener('end', this._streamEnd);\n\t\t\tthis._input.removeListener('error', this._streamError);\n\t\t}, this);\n\t}\n\tReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;\n\n\n\t// Use one ParserHandle per entire CSV file or string\n\tfunction ParserHandle(_config)\n\t{\n\t\t// One goal is to minimize the use of regular expressions...\n\t\tvar FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\n\t\tvar self = this;\n\t\tvar _stepCounter = 0;\t// Number of times step was called (number of rows parsed)\n\t\tvar _input;\t\t\t\t// The input being parsed\n\t\tvar _parser;\t\t\t// The core parser being used\n\t\tvar _paused = false;\t// Whether we are paused or not\n\t\tvar _aborted = false;\t// Whether the parser has aborted or not\n\t\tvar _delimiterError;\t// Temporary state between delimiter detection and processing results\n\t\tvar _fields = [];\t\t// Fields are from the header row of the input, if there is one\n\t\tvar _results = {\t\t// The last results returned from the parser\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\n\t\tif (isFunction(_config.step))\n\t\t{\n\t\t\tvar userStep = _config.step;\n\t\t\t_config.step = function(results)\n\t\t\t{\n\t\t\t\t_results = results;\n\n\t\t\t\tif (needsHeaderRow())\n\t\t\t\t\tprocessResults();\n\t\t\t\telse\t// only call user's step function after header row\n\t\t\t\t{\n\t\t\t\t\tprocessResults();\n\n\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\tif (_results.data.length === 0)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview)\n\t\t\t\t\t\t_parser.abort();\n\t\t\t\t\telse\n\t\t\t\t\t\tuserStep(_results, self);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t\t * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t\t * when an input comes in multiple chunks, like from a file.\n\t\t */\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\tif (!_config.newline)\n\t\t\t\t_config.newline = guessLineEndings(input);\n\n\t\t\t_delimiterError = false;\n\t\t\tif (!_config.delimiter)\n\t\t\t{\n\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines);\n\t\t\t\tif (delimGuess.successful)\n\t\t\t\t\t_config.delimiter = delimGuess.bestDelimiter;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_delimiterError = true;\t// add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t}\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\t\t\telse if(isFunction(_config.delimiter))\n\t\t\t{\n\t\t\t\t_config.delimiter = _config.delimiter(input);\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tvar parserConfig = copy(_config);\n\t\t\tif (_config.preview && _config.header)\n\t\t\t\tparserConfig.preview++;\t// to compensate for header row\n\n\t\t\t_input = input;\n\t\t\t_parser = new Parser(parserConfig);\n\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\tprocessResults();\n\t\t\treturn _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });\n\t\t};\n\n\t\tthis.paused = function()\n\t\t{\n\t\t\treturn _paused;\n\t\t};\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\t_paused = true;\n\t\t\t_parser.abort();\n\t\t\t_input = _input.substr(_parser.getCharIndex());\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\t_paused = false;\n\t\t\tself.streamer.parseChunk(_input);\n\t\t};\n\n\t\tthis.aborted = function ()\n\t\t{\n\t\t\treturn _aborted;\n\t\t};\n\n\t\tthis.abort = function()\n\t\t{\n\t\t\t_aborted = true;\n\t\t\t_parser.abort();\n\t\t\t_results.meta.aborted = true;\n\t\t\tif (isFunction(_config.complete))\n\t\t\t\t_config.complete(_results);\n\t\t\t_input = '';\n\t\t};\n\n\t\tfunction processResults()\n\t\t{\n\t\t\tif (_results && _delimiterError)\n\t\t\t{\n\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\''+Papa.DefaultDelimiter+'\\'');\n\t\t\t\t_delimiterError = false;\n\t\t\t}\n\n\t\t\tif (_config.skipEmptyLines)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t\t\tif (_results.data[i].length === 1 && _results.data[i][0] === '')\n\t\t\t\t\t\t_results.data.splice(i--, 1);\n\t\t\t}\n\n\t\t\tif (needsHeaderRow())\n\t\t\t\tfillHeaderFields();\n\n\t\t\treturn applyHeaderAndDynamicTyping();\n\t\t}\n\n\t\tfunction needsHeaderRow()\n\t\t{\n\t\t\treturn _config.header && _fields.length === 0;\n\t\t}\n\n\t\tfunction fillHeaderFields()\n\t\t{\n\t\t\tif (!_results)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++)\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t\t_fields.push(_results.data[i][j]);\n\t\t\t_results.data.splice(0, 1);\n\t\t}\n\n\t\tfunction shouldApplyDynamicTyping(field) {\n\t\t\t// Cache function values to avoid calling it for each row\n\t\t\tif (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {\n\t\t\t\t_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);\n\t\t\t}\n\t\t\treturn (_config.dynamicTyping[field] || _config.dynamicTyping) === true\n\t\t}\n\n\t\tfunction parseDynamic(field, value)\n\t\t{\n\t\t\tif (shouldApplyDynamicTyping(field))\n\t\t\t{\n\t\t\t\tif (value === 'true' || value === 'TRUE')\n\t\t\t\t\treturn true;\n\t\t\t\telse if (value === 'false' || value === 'FALSE')\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\treturn tryParseFloat(value);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction applyHeaderAndDynamicTyping()\n\t\t{\n\t\t\tif (!_results || (!_config.header && !_config.dynamicTyping))\n\t\t\t\treturn _results;\n\n\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t{\n\t\t\t\tvar row = _config.header ? {} : [];\n\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar field = j;\n\t\t\t\t\tvar value = _results.data[i][j];\n\n\t\t\t\t\tif (_config.header)\n\t\t\t\t\t\tfield = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\n\t\t\t\t\tvalue = parseDynamic(field, value);\n\n\t\t\t\t\tif (field === '__parsed_extra')\n\t\t\t\t\t{\n\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\trow[field] = value;\n\t\t\t\t}\n\n\t\t\t\t_results.data[i] = row;\n\n\t\t\t\tif (_config.header)\n\t\t\t\t{\n\t\t\t\t\tif (j > _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t\telse if (j < _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_config.header && _results.meta)\n\t\t\t\t_results.meta.fields = _fields;\n\t\t\treturn _results;\n\t\t}\n\n\t\tfunction guessDelimiter(input, newline, skipEmptyLines)\n\t\t{\n\t\t\tvar delimChoices = [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow;\n\n\t\t\tfor (var i = 0; i < delimChoices.length; i++)\n\t\t\t{\n\t\t\t\tvar delim = delimChoices[i];\n\t\t\t\tvar delta = 0, avgFieldCount = 0, emptyLinesCount = 0;\n\t\t\t\tfieldCountPrevRow = undefined;\n\n\t\t\t\tvar preview = new Parser({\n\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\tnewline: newline,\n\t\t\t\t\tpreview: 10\n\t\t\t\t}).parse(input);\n\n\t\t\t\tfor (var j = 0; j < preview.data.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (skipEmptyLines && preview.data[j].length === 1 && preview.data[j][0].length === 0) {\n\t\t\t\t\t\temptyLinesCount++\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t}\n\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\tavgFieldCount += fieldCount;\n\n\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (fieldCount > 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (preview.data.length > 0)\n\t\t\t\t\tavgFieldCount /= (preview.data.length - emptyLinesCount);\n\n\t\t\t\tif ((typeof bestDelta === 'undefined' || delta < bestDelta)\n\t\t\t\t\t&& avgFieldCount > 1.99)\n\t\t\t\t{\n\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\tbestDelim = delim;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_config.delimiter = bestDelim;\n\n\t\t\treturn {\n\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\tbestDelimiter: bestDelim\n\t\t\t}\n\t\t}\n\n\t\tfunction guessLineEndings(input)\n\t\t{\n\t\t\tinput = input.substr(0, 1024*1024);\t// max length 1 MB\n\n\t\t\tvar r = input.split('\\r');\n\n\t\t\tvar n = input.split('\\n');\n\n\t\t\tvar nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);\n\n\t\t\tif (r.length === 1 || nAppearsFirst)\n\t\t\t\treturn '\\n';\n\n\t\t\tvar numWithN = 0;\n\t\t\tfor (var i = 0; i < r.length; i++)\n\t\t\t{\n\t\t\t\tif (r[i][0] === '\\n')\n\t\t\t\t\tnumWithN++;\n\t\t\t}\n\n\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t}\n\n\t\tfunction tryParseFloat(val)\n\t\t{\n\t\t\tvar isNumber = FLOAT.test(val);\n\t\t\treturn isNumber ? parseFloat(val) : val;\n\t\t}\n\n\t\tfunction addError(type, code, msg, row)\n\t\t{\n\t\t\t_results.errors.push({\n\t\t\t\ttype: type,\n\t\t\t\tcode: code,\n\t\t\t\tmessage: msg,\n\t\t\t\trow: row\n\t\t\t});\n\t\t}\n\t}\n\n\n\n\n\n\t/** The core parser implements speedy and correct CSV parsing */\n\tfunction Parser(config)\n\t{\n\t\t// Unpack the config object\n\t\tconfig = config || {};\n\t\tvar delim = config.delimiter;\n\t\tvar newline = config.newline;\n\t\tvar comments = config.comments;\n\t\tvar step = config.step;\n\t\tvar preview = config.preview;\n\t\tvar fastMode = config.fastMode;\n\t\tvar quoteChar = config.quoteChar || '\"';\n\n\t\t// Delimiter must be valid\n\t\tif (typeof delim !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)\n\t\t\tdelim = ',';\n\n\t\t// Comment character must be valid\n\t\tif (comments === delim)\n\t\t\tthrow 'Comment character same as delimiter';\n\t\telse if (comments === true)\n\t\t\tcomments = '#';\n\t\telse if (typeof comments !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)\n\t\t\tcomments = false;\n\n\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\tif (newline != '\\n' && newline != '\\r' && newline != '\\r\\n')\n\t\t\tnewline = '\\n';\n\n\t\t// We're gonna need these at the Parser scope\n\t\tvar cursor = 0;\n\t\tvar aborted = false;\n\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\tif (typeof input !== 'string')\n\t\t\t\tthrow 'Input must be a string';\n\n\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t// but having them in a more local scope seems to perform better\n\t\t\tvar inputLen = input.length,\n\t\t\t\tdelimLen = delim.length,\n\t\t\t\tnewlineLen = newline.length,\n\t\t\t\tcommentsLen = comments.length;\n\t\t\tvar stepIsFunction = isFunction(step);\n\n\t\t\t// Establish starting state\n\t\t\tcursor = 0;\n\t\t\tvar data = [], errors = [], row = [], lastCursor = 0;\n\n\t\t\tif (!input)\n\t\t\t\treturn returnable();\n\n\t\t\tif (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))\n\t\t\t{\n\t\t\t\tvar rows = input.split(newline);\n\t\t\t\tfor (var i = 0; i < rows.length; i++)\n\t\t\t\t{\n\t\t\t\t\tvar row = rows[i];\n\t\t\t\t\tcursor += row.length;\n\t\t\t\t\tif (i !== rows.length - 1)\n\t\t\t\t\t\tcursor += newline.length;\n\t\t\t\t\telse if (ignoreLastRow)\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tif (comments && row.substr(0, commentsLen) === comments)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\tif (preview && i >= preview)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\tvar quoteCharRegex = new RegExp(quoteChar+quoteChar, 'g');\n\n\t\t\t// Parser loop\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\t// Field has opening quote\n\t\t\t\tif (input[cursor] === quoteChar)\n\t\t\t\t{\n\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\tvar quoteSearch = cursor;\n\n\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\tcursor++;\n\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\tvar quoteSearch = input.indexOf(quoteChar, quoteSearch+1);\n\n\t\t\t\t\t\t//No other quotes are found - no other delimiters\n\t\t\t\t\t\tif (quoteSearch === -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\tif (quoteSearch === inputLen-1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\tif (input[quoteSearch+1] === quoteChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote followed by delimiter\n\t\t\t\t\t\tif (input[quoteSearch+1] === delim)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tcursor = quoteSearch + 1 + delimLen;\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote followed by newline\n\t\t\t\t\t\tif (input.substr(quoteSearch+1, newlineLen) === newline)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + newlineLen);\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\t// because we may have skipped the nextDelim in the quoted field\n\n\t\t\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t// Checks for valid closing quotes are complete (escaped quotes or quote followed by EOF/delimiter/newline) -- assume these quotes are part of an invalid text string\n\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\tcode: 'InvalidQuotes',\n\t\t\t\t\t\t\tmessage: 'Trailing quote on quoted field is malformed',\n\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment found at start of new line\n\t\t\t\tif (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments)\n\t\t\t\t{\n\t\t\t\t\tif (nextNewline === -1)\t// Comment ends at EOF\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// End of row\n\t\t\t\tif (nextNewline !== -1)\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\n\t\t\treturn finish();\n\n\n\t\t\tfunction pushRow(row)\n\t\t\t{\n\t\t\t\tdata.push(row);\n\t\t\t\tlastCursor = cursor;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the remaining input from cursor to the end into\n\t\t\t * row, saves the row, calls step, and returns the results.\n\t\t\t */\n\t\t\tfunction finish(value)\n\t\t\t{\n\t\t\t\tif (ignoreLastRow)\n\t\t\t\t\treturn returnable();\n\t\t\t\tif (typeof value === 'undefined')\n\t\t\t\t\tvalue = input.substr(cursor);\n\t\t\t\trow.push(value);\n\t\t\t\tcursor = inputLen;\t// important in case parsing is paused\n\t\t\t\tpushRow(row);\n\t\t\t\tif (stepIsFunction)\n\t\t\t\t\tdoStep();\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the current row to the results. It sets the cursor\n\t\t\t * to newCursor and finds the nextNewline. The caller should\n\t\t\t * take care to execute user's step function and check for\n\t\t\t * preview and end parsing if necessary.\n\t\t\t */\n\t\t\tfunction saveRow(newCursor)\n\t\t\t{\n\t\t\t\tcursor = newCursor;\n\t\t\t\tpushRow(row);\n\t\t\t\trow = [];\n\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t}\n\n\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\tfunction returnable(stopped)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\tfunction doStep()\n\t\t\t{\n\t\t\t\tstep(returnable());\n\t\t\t\tdata = [], errors = [];\n\t\t\t}\n\t\t};\n\n\t\t/** Sets the abort flag */\n\t\tthis.abort = function()\n\t\t{\n\t\t\taborted = true;\n\t\t};\n\n\t\t/** Gets the cursor position */\n\t\tthis.getCharIndex = function()\n\t\t{\n\t\t\treturn cursor;\n\t\t};\n\t}\n\n\n\t// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code\n\t// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358\n\tfunction getScriptPath()\n\t{\n\t\tvar scripts = document.getElementsByTagName('script');\n\t\treturn scripts.length ? scripts[scripts.length - 1].src : '';\n\t}\n\n\tfunction newWorker()\n\t{\n\t\tif (!Papa.WORKERS_SUPPORTED)\n\t\t\treturn false;\n\t\tif (!LOADED_SYNC && Papa.SCRIPT_PATH === null)\n\t\t\tthrow new Error(\n\t\t\t\t'Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' +\n\t\t\t\t'You need to set Papa.SCRIPT_PATH manually.'\n\t\t\t);\n\t\tvar workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;\n\t\t// Append 'papaworker' to the search string to tell papaparse that this is our worker.\n\t\tworkerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';\n\t\tvar w = new global.Worker(workerUrl);\n\t\tw.onmessage = mainThreadReceivedMessage;\n\t\tw.id = workerIdCounter++;\n\t\tworkers[w.id] = w;\n\t\treturn w;\n\t}\n\n\t/** Callback when main thread receives a message */\n\tfunction mainThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\t\tvar worker = workers[msg.workerId];\n\t\tvar aborted = false;\n\n\t\tif (msg.error)\n\t\t\tworker.userError(msg.error, msg.file);\n\t\telse if (msg.results && msg.results.data)\n\t\t{\n\t\t\tvar abort = function() {\n\t\t\t\taborted = true;\n\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t};\n\n\t\t\tvar handle = {\n\t\t\t\tabort: abort,\n\t\t\t\tpause: notImplemented,\n\t\t\t\tresume: notImplemented\n\t\t\t};\n\n\t\t\tif (isFunction(worker.userStep))\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\tdata: [msg.results.data[i]],\n\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t}, handle);\n\t\t\t\t\tif (aborted)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelete msg.results;\t// free memory ASAP\n\t\t\t}\n\t\t\telse if (isFunction(worker.userChunk))\n\t\t\t{\n\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\tdelete msg.results;\n\t\t\t}\n\t\t}\n\n\t\tif (msg.finished && !aborted)\n\t\t\tcompleteWorker(msg.workerId, msg.results);\n\t}\n\n\tfunction completeWorker(workerId, results) {\n\t\tvar worker = workers[workerId];\n\t\tif (isFunction(worker.userComplete))\n\t\t\tworker.userComplete(results);\n\t\tworker.terminate();\n\t\tdelete workers[workerId];\n\t}\n\n\tfunction notImplemented() {\n\t\tthrow 'Not implemented.';\n\t}\n\n\t/** Callback when worker thread receives a message */\n\tfunction workerThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\n\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg)\n\t\t\tPapa.WORKER_ID = msg.workerId;\n\n\t\tif (typeof msg.input === 'string')\n\t\t{\n\t\t\tglobal.postMessage({\n\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\tfinished: true\n\t\t\t});\n\t\t}\n\t\telse if ((global.File && msg.input instanceof File) || msg.input instanceof Object)\t// thank you, Safari (see issue #106)\n\t\t{\n\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\tif (results)\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: results,\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/** Makes a deep copy of an array or object (mostly) */\n\tfunction copy(obj)\n\t{\n\t\tif (typeof obj !== 'object')\n\t\t\treturn obj;\n\t\tvar cpy = obj instanceof Array ? [] : {};\n\t\tfor (var key in obj)\n\t\t\tcpy[key] = copy(obj[key]);\n\t\treturn cpy;\n\t}\n\n\tfunction bindFunction(f, self)\n\t{\n\t\treturn function() { f.apply(self, arguments); };\n\t}\n\n\tfunction isFunction(func)\n\t{\n\t\treturn typeof func === 'function';\n\t}\n\n\treturn Papa;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/papaparse/papaparse.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./helper.service\"), exports);\ntslib_1.__exportStar(require(\"./definition.service\"), exports);\ntslib_1.__exportStar(require(\"./structure.service\"), exports);\ntslib_1.__exportStar(require(\"./extension.service\"), exports);\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/index.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get = require(\"lodash/get\");\nconst includes = require(\"lodash/includes\");\nexports.SCHEMAS = new Set(['concepts.schema', 'entities.schema', 'datapoints.schema', '*.schema']);\nexports.DATAPOINTS = 'datapoints';\nexports.ENTITIES = 'entities';\nexports.CONCEPTS = 'concepts';\nexports.AVAILABLE_QUERY_OPERATORS = new Set([\n    '$eq', '$gt', '$gte', '$lt', '$lte', '$ne', '$in', '$nin',\n    '$or', '$and', '$not', '$nor', '$size', '$all', '$elemMatch'\n]);\nexports.AVAILABLE_FROM_CLAUSE_VALUES = new Set([\n    exports.CONCEPTS, exports.ENTITIES, exports.DATAPOINTS, ...exports.SCHEMAS\n]);\nexports.AVAILABLE_ORDER_BY_CLAUSE_VALUES = new Set([\n    'asc', 'desc', 1, -1\n]);\nexports.DEFAULT_DATASET_NAME = process.env.DEFAULT_DATASET_NAME || 'systema_globalis';\nexports.DEFAULT_DATASET_BRANCH = process.env.DEFAULT_DATASET_BRANCH || 'master';\nexports.DEFAULT_DATASET_COMMIT = 'HEAD';\nexports.DEFAULT_DATASET_DIR = process.env.DEFAULT_DATASET_DIR || './datasets';\nexports.MAX_AMOUNT_OF_MEASURES_IN_SELECT = 5;\nfunction isSchemaQuery(query) {\n    const fromClause = get(query, 'from');\n    return exports.SCHEMAS.has(fromClause);\n}\nexports.isSchemaQuery = isSchemaQuery;\nfunction isDatapointsQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.DATAPOINTS;\n}\nexports.isDatapointsQuery = isDatapointsQuery;\nfunction isEntitiesQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.ENTITIES;\n}\nexports.isEntitiesQuery = isEntitiesQuery;\nfunction isConceptsQuery(query) {\n    const fromClause = get(query, 'from');\n    return fromClause === exports.CONCEPTS;\n}\nexports.isConceptsQuery = isConceptsQuery;\nfunction isEntityDomainOrSet(conceptType) {\n    return includes(['entity_domain', 'entity_set', 'time'], conceptType);\n}\nexports.isEntityDomainOrSet = isEntityDomainOrSet;\nfunction isMeasure(conceptType) {\n    return includes(['measure', 'string'], conceptType);\n}\nexports.isMeasure = isMeasure;\n//# sourceMappingURL=helper.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/helper.service.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isEmpty = require(\"lodash/isEmpty\");\nconst isNil = require(\"lodash/isNil\");\nconst filter = require(\"lodash/filter\");\nconst get = require(\"lodash/get\");\nconst compact = require(\"lodash/compact\");\nconst helper_service_1 = require(\"./helper.service\");\nfunction validateQueryDefinitions(query, options = {}) {\n    return new Promise((resolve, reject) => {\n        const validationResult = [\n            ...validateSelectDefinitions(query, options),\n        ];\n        const isQueryValid = isEmpty(validationResult);\n        if (!isQueryValid) {\n            return reject(`Too many query definition errors: \\n* ${validationResult.join('\\n* ')}`);\n        }\n        return resolve();\n    });\n}\nexports.validateQueryDefinitions = validateQueryDefinitions;\nfunction validateSelectDefinitions(query, options) {\n    const errorMessages = [];\n    const selectClause = get(query, 'select', null);\n    const fromClause = get(query, 'from', null);\n    const key = get(selectClause, 'key');\n    const value = get(selectClause, 'value');\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(...[]);\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n            errorMessages.push(...[]);\n            break;\n        case (helper_service_1.isConceptsQuery(query)):\n            errorMessages.push(...[]);\n            break;\n        case (helper_service_1.isDatapointsQuery(query)):\n            errorMessages.push(checkIfSelectKeyHasInvalidDefinitions(query, key, options), checkIfSelectValueHasInvalidDefinitions(query, value, options));\n            break;\n        default:\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction checkIfSelectKeyHasInvalidDefinitions(query, key, options) {\n    const fromClause = get(query, 'from', null);\n    const unavailableKeys = getUnavailableSelectKeys(key, options);\n    if (!isEmpty(unavailableKeys)) {\n        return `'select.key' clause for '${fromClause}' queries contains unavailable item(s): ${unavailableKeys.join(', ')} [repo: ${query.dataset}]`;\n    }\n}\nfunction checkIfSelectValueHasInvalidDefinitions(query, value, options) {\n    const fromClause = get(query, 'from', null);\n    const unavailableValues = getUnavailableSelectValues(value, options);\n    if (!isEmpty(unavailableValues)) {\n        return `'select.value' clause for '${fromClause}' queries contains unavailable item(s): ${unavailableValues.join(', ')} [repo: ${query.dataset}]`;\n    }\n}\nfunction getUnavailableSelectKeys(key, options) {\n    return filter(key, (keyItem) => {\n        const concept = options.conceptsLookup.get(keyItem);\n        if (isNil(concept) || !helper_service_1.isEntityDomainOrSet(concept.concept_type)) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction getUnavailableSelectValues(value, options) {\n    return filter(value, (valueItem) => {\n        const concept = options.conceptsLookup.get(valueItem);\n        if (isNil(concept) || !helper_service_1.isMeasure(concept.concept_type)) {\n            return true;\n        }\n        return false;\n    });\n}\n//# sourceMappingURL=definition.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/definition.service.js","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/filter.js","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayFilter.js","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFilter.js","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseEach.js","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseForOwn.js","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseFor.js","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_createBaseFor.js","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_createBaseEach.js","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIteratee.js","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseMatches.js","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsMatch.js","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Stack.js","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackClear.js","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackDelete.js","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackGet.js","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackHas.js","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stackSet.js","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsEqual.js","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseIsEqualDeep.js","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalArrays.js","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_SetCache.js","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setCacheAdd.js","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setCacheHas.js","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arraySome.js","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_cacheHas.js","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalByTag.js","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_Uint8Array.js","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_mapToArray.js","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_setToArray.js","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_equalObjects.js","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getAllKeys.js","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseGetAllKeys.js","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getSymbols.js","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/stubArray.js","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_getMatchData.js","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isStrictComparable.js","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_matchesStrictComparable.js","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseMatchesProperty.js","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/hasIn.js","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseHasIn.js","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hasPath.js","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/identity.js","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/property.js","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseProperty.js","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_basePropertyDeep.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isEmpty = require(\"lodash/isEmpty\");\nconst isNil = require(\"lodash/isNil\");\nconst isObject = require(\"lodash/isObject\");\nconst isArray = require(\"lodash/isArray\");\nconst size = require(\"lodash/size\");\nconst values = require(\"lodash/values\");\nconst keys = require(\"lodash/keys\");\nconst first = require(\"lodash/first\");\nconst filter = require(\"lodash/filter\");\nconst startsWith = require(\"lodash/startsWith\");\nconst get = require(\"lodash/get\");\nconst has = require(\"lodash/has\");\nconst every = require(\"lodash/every\");\nconst compact = require(\"lodash/compact\");\nconst isString = require(\"lodash/isString\");\nconst helper_service_1 = require(\"./helper.service\");\nconst util_1 = require(\"util\");\nfunction validateQueryStructure(query, options = {}) {\n    return new Promise((resolve, reject) => {\n        const validationResult = [\n            ...validateDatasetStructure(query, options),\n            ...validateFromStructure(query, options),\n            ...validateSelectStructure(query, options),\n            ...validateWhereStructure(query, options),\n            ...validateLanguageStructure(query, options),\n            ...validateJoinStructure(query, options),\n            ...validateOrderByStructure(query, options)\n        ];\n        const isQueryValid = isEmpty(validationResult);\n        if (!isQueryValid) {\n            return reject(`Too many query structure errors: \\n* ${validationResult.join('\\n* ')}`);\n        }\n        return resolve();\n    });\n}\nexports.validateQueryStructure = validateQueryStructure;\nfunction validateDatasetStructure(query, options) {\n    const errorMessages = [];\n    const datasetClause = get(query, 'dataset');\n    const branchClause = get(query, 'branch');\n    const commitClause = get(query, 'commit');\n    if (!isNil(datasetClause) && !isString(datasetClause)) {\n        errorMessages.push(`'dataset' clause must be string only`);\n    }\n    if (!isNil(branchClause) && !isString(branchClause)) {\n        errorMessages.push(`'branch' clause must be string only`);\n    }\n    if (!isNil(commitClause) && !isString(commitClause)) {\n        errorMessages.push(`'commit' clause must be string only`);\n    }\n    return errorMessages;\n}\nfunction validateFromStructure(query, options) {\n    const errorMessages = [];\n    const clause = get(query, 'from', null);\n    if (isNil(clause)) {\n        errorMessages.push(`'from' clause couldn't be empty`);\n    }\n    if (!isString(clause)) {\n        errorMessages.push(`'from' clause must be string only`);\n    }\n    if (!helper_service_1.AVAILABLE_FROM_CLAUSE_VALUES.has(clause)) {\n        const listAvaliableValues = [...helper_service_1.AVAILABLE_FROM_CLAUSE_VALUES];\n        errorMessages.push(`'from' clause must be one of the list: ${listAvaliableValues.join(', ')}`);\n    }\n    return errorMessages;\n}\nfunction validateSelectStructure(query, options) {\n    const errorMessages = [];\n    const selectClause = get(query, 'select', null);\n    const fromClause = get(query, 'from', null);\n    const key = get(selectClause, 'key');\n    const value = get(selectClause, 'value');\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfSchemasSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value), checkIfSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isConceptsQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value), checkIfSelectKeyHasInvalidStructure(fromClause, key), checkIfSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        case (helper_service_1.isDatapointsQuery(query)):\n            errorMessages.push(checkIfSelectIsEmpty(selectClause), checkIfSelectHasInvalidStructure(selectClause, key, value), checkIfDatapointsSelectKeyHasInvalidStructure(fromClause, key), checkIfDatapointsSelectValueHasInvalidStructure(fromClause, value));\n            break;\n        default:\n            errorMessages.push(checkIfSelectIsEmpty(selectClause));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateWhereStructure(query, options) {\n    const errorMessages = [];\n    const joinClause = get(query, 'join', null);\n    const whereClause = get(query, 'where', null);\n    const whereOperators = getWhereOperators(whereClause);\n    errorMessages.push(checkIfWhereHasInvalidStructure(whereClause), checkIfWhereHasUnknownOperators(joinClause, whereOperators));\n    return compact(errorMessages);\n}\nfunction validateLanguageStructure(query, options) {\n    const errorMessages = [];\n    const languageClause = get(query, 'language', null);\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(checkIfSchemaLanguageIsPresent(query));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n        case (helper_service_1.isConceptsQuery(query)):\n        case (helper_service_1.isDatapointsQuery(query)):\n        default:\n            errorMessages.push(checkIfLanguageHasInvalidStructure(languageClause));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateJoinStructure(query, options) {\n    const errorMessages = [];\n    const joinClause = get(query, 'join', null);\n    switch (true) {\n        case (helper_service_1.isSchemaQuery(query)):\n            errorMessages.push(checkIfSchemaJoinIsPresent(query));\n            break;\n        case (helper_service_1.isEntitiesQuery(query)):\n        case (helper_service_1.isConceptsQuery(query)):\n        case (helper_service_1.isDatapointsQuery(query)):\n        default:\n            errorMessages.push(checkIfJoinHasInvalidStructure(joinClause));\n            break;\n    }\n    return compact(errorMessages);\n}\nfunction validateOrderByStructure(query, options) {\n    const errorMessages = [];\n    const orderByClause = get(query, 'order_by', null);\n    errorMessages.push(checkIfOrderByHasInvalidStructure(orderByClause));\n    return compact(errorMessages);\n}\nfunction checkIfSelectIsEmpty(selectClause) {\n    if (isNil(selectClause)) {\n        return `'select' clause couldn't be empty`;\n    }\n}\nfunction checkIfSelectHasInvalidStructure(selectClause, key, value) {\n    if (!isObject(selectClause) || !isArray(key) || !isArray(value)) {\n        return `'select' clause must have next structure: { key: [...], value: [...] }`;\n    }\n}\nfunction checkIfJoinHasInvalidStructure(joinClause) {\n    if (!isNil(joinClause) && !isStrictObject(joinClause)) {\n        return `'join' clause must be object only`;\n    }\n}\nfunction checkIfLanguageHasInvalidStructure(languageClause) {\n    if (!isNil(languageClause) && !isString(languageClause)) {\n        return `'language' clause must be string only`;\n    }\n}\nfunction checkIfWhereHasInvalidStructure(whereClause) {\n    if (!isNil(whereClause) && !isStrictObject(whereClause)) {\n        return `'where' clause must be object only`;\n    }\n}\nfunction checkIfWhereHasUnknownOperators(joinClause, operators) {\n    const notAllowedOperators = filter(operators, (operator) => !isAllowedOperator(joinClause, operator)).map((operator) => operator.name);\n    const allowedOperatorsByDataset = [...helper_service_1.AVAILABLE_QUERY_OPERATORS.values(), ...keys(joinClause)];\n    if (!isEmpty(notAllowedOperators)) {\n        return `'where' clause has unknown operator(s) '${notAllowedOperators.join(', ')}', replace it with allowed operators: ${allowedOperatorsByDataset.join(', ')}`;\n    }\n}\nfunction checkIfOrderByHasInvalidStructure(orderByClause) {\n    if (!isNil(orderByClause) && !isString(orderByClause) && !isArrayOfStrings(orderByClause) && !isArrayOfSpecialItems(orderByClause, isOrderBySubclause)) {\n        return `'order_by' clause must be string or array of strings || objects only`;\n    }\n}\nfunction isStrictObject(clause) {\n    return isObject(clause) && !isArray(clause);\n}\nfunction isArrayOfStrings(clause) {\n    return isArray(clause) && every(clause, isString);\n}\nfunction isOrderBySubclause(subclause) {\n    return isString(subclause) || (isStrictObject(subclause) && size(subclause) === 1 && helper_service_1.AVAILABLE_ORDER_BY_CLAUSE_VALUES.has(first(values(subclause))));\n}\nfunction isArrayOfSpecialItems(clause, isSpecialItem) {\n    return isArray(clause) && every(clause, isSpecialItem);\n}\nfunction isAllowedOperator(joinClause, operator) {\n    return isMongoLikeOperator(operator) || isJoinOperator(joinClause, operator);\n}\nfunction isMongoLikeOperator(operator) {\n    return !operator.isLeaf && helper_service_1.AVAILABLE_QUERY_OPERATORS.has(operator.name);\n}\nfunction isJoinOperator(joinClause, operator) {\n    return operator.isLeaf && startsWith(operator.name, '$') && has(joinClause, operator.name);\n}\nfunction getWhereOperators(whereClause) {\n    const operators = [];\n    for (const field in whereClause) {\n        if (startsWith(field, '$')) {\n            operators.push({ name: field, isLeaf: false });\n        }\n        if (util_1.isPrimitive(whereClause[field])) {\n            if (startsWith(whereClause[field], '$')) {\n                operators.push({ name: whereClause[field], isLeaf: true });\n            }\n        }\n        else {\n            operators.push(...getWhereOperators(whereClause[field]));\n        }\n    }\n    return operators;\n}\nfunction checkIfDatapointsSelectKeyHasInvalidStructure(fromClause, key) {\n    if (size(key) < 2) {\n        return `'select.key' clause for '${fromClause}' queries must have at least 2 items`;\n    }\n}\nfunction checkIfDatapointsSelectValueHasInvalidStructure(fromClause, value) {\n    if (size(value) < 1) {\n        return `'select.value' clause for '${fromClause}' queries must have at least 1 item`;\n    }\n}\nfunction checkIfSchemasSelectKeyHasInvalidStructure(fromClause, key) {\n    if (!isArray(key) || size(key) !== 2) {\n        return `'select.key' clause for '${fromClause}' queries must have exactly 2 items: 'key', 'value'`;\n    }\n}\nfunction checkIfSelectValueHasInvalidStructure(fromClause, value) {\n    if (!isArray(value) && !isNil(value)) {\n        return `'select.value' clause for '${fromClause}' queries should be array of strings or empty`;\n    }\n}\nfunction checkIfSchemaJoinIsPresent(query) {\n    if (has(query, 'join')) {\n        return `'join' clause for '*.schema' queries shouldn't be present in query`;\n    }\n}\nfunction checkIfSchemaLanguageIsPresent(query) {\n    if (has(query, 'language')) {\n        return `'language' clause for '*.schema' queries shouldn't be present in query`;\n    }\n}\nfunction checkIfEntitiesOrConceptsSelectHasInvalidStructure(selectClause, key, value) {\n    if (!isObject(selectClause) || !isArray(key)) {\n        return `'select' clause must have next structure: { key: [...], value: [...] }`;\n    }\n}\nfunction checkIfSelectKeyHasInvalidStructure(fromClause, key) {\n    if (!isArray(key) || size(key) !== 1) {\n        return `'select.key' clause for '${fromClause}' queries must have only 1 item`;\n    }\n}\n//# sourceMappingURL=structure.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/structure.service.js","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    stringSize = require('./_stringSize');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    return isString(collection) ? stringSize(collection) : collection.length;\n  }\n  var tag = getTag(collection);\n  if (tag == mapTag || tag == setTag) {\n    return collection.size;\n  }\n  return baseKeys(collection).length;\n}\n\nmodule.exports = size;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/size.js","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_stringSize.js","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_asciiSize.js","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_hasUnicode.js","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_unicodeSize.js","module.exports = require('./head');\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/first.js","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/has.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseHas.js","var arrayEvery = require('./_arrayEvery'),\n    baseEvery = require('./_baseEvery'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * **Note:** This method returns `true` for\n * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n * elements of empty collections.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = every;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/every.js","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_arrayEvery.js","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_baseEvery.js","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash/_isIterateeCall.js","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 170\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst isNil = require(\"lodash/isNil\");\nconst includes = require(\"lodash/includes\");\nconst get = require(\"lodash/get\");\nconst helper_service_1 = require(\"./helper.service\");\nfunction getDatasetPath(basePath, queryParam) {\n    const { dataset, branch, commit } = queryParam;\n    return `${basePath}${dataset}/${branch}-${commit}`;\n}\nexports.getDatasetPath = getDatasetPath;\nfunction getDatapackagePath(datasetPath) {\n    return datasetPath + '/datapackage.json';\n}\nfunction isDatasetPathAlreadyInBasePath(fileReader, basePath) {\n    return new Promise((resolve) => {\n        fileReader.readText(getDatapackagePath(basePath), (error) => resolve(!error));\n    });\n}\nfunction extendQueryParamWithDatasetProps(queryParam, options = {}) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const datasetsConfig = get(options, 'datasetsConfig', {\n            [helper_service_1.DEFAULT_DATASET_NAME]: { [helper_service_1.DEFAULT_DATASET_BRANCH]: [helper_service_1.DEFAULT_DATASET_COMMIT] },\n            default: {\n                dataset: helper_service_1.DEFAULT_DATASET_NAME,\n                branch: helper_service_1.DEFAULT_DATASET_BRANCH,\n                commit: helper_service_1.DEFAULT_DATASET_COMMIT\n            }\n        });\n        const { 'default': { dataset: DEFAULT_DATASET, branch: DEFAULT_BRANCH, commit: DEFAULT_COMMIT } } = datasetsConfig;\n        const { dataset: originDataset, branch: originBranch, commit: originCommit } = queryParam;\n        const { dataset = DEFAULT_DATASET, branch = DEFAULT_BRANCH, commit = DEFAULT_COMMIT } = queryParam;\n        const basePath = get(options, 'basePath', helper_service_1.DEFAULT_DATASET_DIR);\n        const fileReader = get(options, 'fileReader');\n        const datasetName = dataset;\n        if (isNil(datasetsConfig[dataset])) {\n            throw new Error(`No ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        if (isNil(datasetsConfig[dataset][branch])) {\n            throw new Error(`No ${isNil(originBranch) ? 'default ' : ''}branch '${branch}' in ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        if (!includes(datasetsConfig[dataset][branch], commit)) {\n            throw new Error(`No ${isNil(originCommit) ? 'default ' : ''}commit '${commit}' in ${isNil(originBranch) ? 'default ' : ''}branch '${branch}' in ${isNil(originDataset) ? 'default ' : ''}dataset '${dataset}' was found`);\n        }\n        let datasetPath;\n        let datapackagePath;\n        try {\n            if (yield isDatasetPathAlreadyInBasePath(fileReader, basePath)) {\n                datasetPath = basePath;\n                datapackagePath = getDatapackagePath(basePath);\n            }\n            else {\n                datasetPath = getDatasetPath(basePath, { dataset, branch, commit });\n                datapackagePath = getDatapackagePath(datasetPath);\n            }\n        }\n        catch (error) {\n            throw error;\n        }\n        Object.assign(queryParam, { dataset, branch, commit });\n        Object.assign(options, { datasetPath, datapackagePath, datasetName });\n        return queryParam;\n    });\n}\nexports.extendQueryParamWithDatasetProps = extendQueryParamWithDatasetProps;\n//# sourceMappingURL=extension.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./lib/ddf-query-validator/extension.service.js"],"sourceRoot":""}