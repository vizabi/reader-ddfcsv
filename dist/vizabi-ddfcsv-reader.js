var DDFCsvReader=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=46)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n=1/0,r=9007199254740991,o=1.7976931348623157e308,i=NaN,u="[object Arguments]",a="[object Function]",c="[object GeneratorFunction]",s="[object String]",f="[object Symbol]",l=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,d=/^0o[0-7]+$/i,y=/^(?:0|[1-9]\d*)$/,_=parseInt;function v(t){return t!=t}function b(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,function(e){return t[e]})}var g,m,j=Object.prototype,w=j.hasOwnProperty,O=j.toString,E=j.propertyIsEnumerable,S=(g=Object.keys,m=Object,function(t){return g(m(t))}),A=Math.max;function T(t,e){var n=P(t)||function(t){return function(t){return D(t)&&C(t)}(t)&&w.call(t,"callee")&&(!E.call(t,"callee")||O.call(t)==u)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!w.call(t,i)||o&&("length"==i||R(i,r))||n.push(i);return n}function k(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||j,e!==r)return S(t);var e,n,r,o=[];for(var i in Object(t))w.call(t,i)&&"constructor"!=i&&o.push(i);return o}function R(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||y.test(t))&&t>-1&&t%1==0&&t<e}var P=Array.isArray;function C(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=$(t)?O.call(t):"";return e==a||e==c}(t)}function $(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function D(t){return!!t&&"object"==typeof t}t.exports=function(t,e,r,u){var a;t=C(t)?t:(a=t)?b(a,function(t){return C(t)?T(t):k(t)}(a)):[],r=r&&!u?function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||D(t)&&O.call(t)==f}(t))return i;if($(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=h.test(t);return n||d.test(t)?_(t.slice(2),n?2:8):p.test(t)?i:+t}(t))===n||t===-n){var e=t<0?-1:1;return e*o}return t==t?t:0}(t),r=e%1;return e==e?r?e-r:e:0}(r):0;var c=t.length;return r<0&&(r=A(c+r,0)),function(t){return"string"==typeof t||!P(t)&&D(t)&&O.call(t)==s}(t)?r<=c&&t.indexOf(e,r)>-1:!!c&&function(t,e,n){if(e!=e)return function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,v,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,r)>-1}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const r=n(4),o=n(2);e.SCHEMAS=new Set(["concepts.schema","entities.schema","datapoints.schema","*.schema"]),e.DATAPOINTS="datapoints",e.ENTITIES="entities",e.CONCEPTS="concepts",e.CONCEPT_TYPE_MEASURE="measure",e.CONCEPT_TYPE_STRING="string",e.CONCEPT_TYPE_ENTITY_DOMAIN="entity_domain",e.CONCEPT_TYPE_ENTITY_SET="entity_set",e.CONCEPT_TYPE_TIME="time",e.RESERVED_CONCEPT="concept",e.RESERVED_CONCEPT_TYPE="concept_type",e.RESERVED_DOMAIN="domain",e.RESERVED_UNIT="unit",e.RESERVED_DRILL_UP="drill_up",e.RESERVED_KEY="key",e.RESERVED_VALUE="value",e.AVAILABLE_QUERY_OPERATORS=new Set(["$eq","$gt","$gte","$lt","$lte","$ne","$in","$nin","$or","$and","$not","$nor","$size","$all","$elemMatch"]),e.AVAILABLE_FROM_CLAUSE_VALUES=new Set([e.CONCEPTS,e.ENTITIES,e.DATAPOINTS,...e.SCHEMAS]),e.AVAILABLE_ORDER_BY_CLAUSE_VALUES=new Set(["asc","desc",1,-1]),e.DEFAULT_DATASET_NAME=t.env.DEFAULT_DATASET_NAME||"systema_globalis",e.DEFAULT_DATASET_BRANCH=t.env.DEFAULT_DATASET_BRANCH||"master",e.DEFAULT_DATASET_COMMIT="HEAD",e.DEFAULT_DATASET_DIR=t.env.DEFAULT_DATASET_DIR||"./datasets",e.isSchemaQuery=function(t){const n=r(t,"from");return e.SCHEMAS.has(n)},e.isDatapointsQuery=function(t){return r(t,"from")===e.DATAPOINTS},e.isEntitiesQuery=function(t){return r(t,"from")===e.ENTITIES},e.isConceptsQuery=function(t){return r(t,"from")===e.CONCEPTS},e.isEntityDomainOrSet=function(t,e){return o(e,t)},e.isMeasure=function(t){return o([e.CONCEPT_TYPE_MEASURE],t)},e.isIndicator=function(t){return o([e.CONCEPT_TYPE_MEASURE,e.CONCEPT_TYPE_STRING],t)}}).call(this,n(12))},function(t,e,n){(function(e){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,i="[object Function]",u="[object GeneratorFunction]",a="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,f=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,d="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,_=d||y||Function("return this")();var v,b=Array.prototype,g=Function.prototype,m=Object.prototype,j=_["__core-js_shared__"],w=(v=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",O=g.toString,E=m.hasOwnProperty,S=m.toString,A=RegExp("^"+O.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=_.Symbol,k=b.splice,R=U(_,"Map"),P=U(Object,"create"),C=T?T.prototype:void 0,$=C?C.toString:void 0;function D(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function x(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function I(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function M(t,e){for(var n,r=0,o=(e=function(t,e){if(H(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||q(t))return!0;return s.test(t)||!c.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:H(n=e)?n:z(n)).length;null!=t&&r<o;)t=t[B(e[r++])];return r&&r==o?t:void 0}function L(t){return!(!W(t)||w&&w in t)&&(function(t){var e=W(t)?S.call(t):"";return e==i||e==u}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?A:h).test(function(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function N(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function U(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return L(n)?n:void 0}D.prototype.clear=function(){this.__data__=P?P(null):{}},D.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},D.prototype.get=function(t){var e=this.__data__;if(P){var n=e[t];return n===r?void 0:n}return E.call(e,t)?e[t]:void 0},D.prototype.has=function(t){var e=this.__data__;return P?void 0!==e[t]:E.call(e,t)},D.prototype.set=function(t,e){return this.__data__[t]=P&&void 0===e?r:e,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(t){var e=this.__data__,n=I(e,t);return!(n<0||(n==e.length-1?e.pop():k.call(e,n,1),0))},x.prototype.get=function(t){var e=this.__data__,n=I(e,t);return n<0?void 0:e[n][1]},x.prototype.has=function(t){return I(this.__data__,t)>-1},x.prototype.set=function(t,e){var n=this.__data__,r=I(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},F.prototype.clear=function(){this.__data__={hash:new D,map:new(R||x),string:new D}},F.prototype.delete=function(t){return N(this,t).delete(t)},F.prototype.get=function(t){return N(this,t).get(t)},F.prototype.has=function(t){return N(this,t).has(t)},F.prototype.set=function(t,e){return N(this,t).set(t,e),this};var z=V(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(q(t))return $?$.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return f.test(t)&&n.push(""),t.replace(l,function(t,e,r,o){n.push(r?o.replace(p,"$1"):e||t)}),n});function B(t){if("string"==typeof t||q(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function V(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u),u};return r.cache=new(V.Cache||F),r}V.Cache=F;var H=Array.isArray;function W(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function q(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&S.call(t)==a}t.exports=function(t,e,n){var r=null==t?void 0:M(t,e);return void 0===r?n:r}}).call(this,n(0))},function(t,e,n){(function(t,n){var r=9007199254740991,o="[object Arguments]",i="[object Function]",u="[object GeneratorFunction]",a="[object Map]",c="[object Set]",s=/^\[object .+?Constructor\]$/,f="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,p=f||l||Function("return this")(),h="object"==typeof e&&e&&!e.nodeType&&e,d=h&&"object"==typeof n&&n&&!n.nodeType&&n,y=d&&d.exports===h;var _,v,b,g=Function.prototype,m=Object.prototype,j=p["__core-js_shared__"],w=(_=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",O=g.toString,E=m.hasOwnProperty,S=m.toString,A=RegExp("^"+O.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=y?p.Buffer:void 0,k=m.propertyIsEnumerable,R=T?T.isBuffer:void 0,P=(v=Object.keys,b=Object,function(t){return v(b(t))}),C=V(p,"DataView"),$=V(p,"Map"),D=V(p,"Promise"),x=V(p,"Set"),F=V(p,"WeakMap"),I=!k.call({valueOf:1},"valueOf"),M=W(C),L=W($),N=W(D),U=W(x),z=W(F);function B(t){return!(!J(t)||w&&w in t)&&(K(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?A:s).test(W(t))}function V(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return B(n)?n:void 0}var H=function(t){return S.call(t)};function W(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function q(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&G(t)}(t)&&E.call(t,"callee")&&(!k.call(t,"callee")||S.call(t)==o)}(C&&"[object DataView]"!=H(new C(new ArrayBuffer(1)))||$&&H(new $)!=a||D&&"[object Promise]"!=H(D.resolve())||x&&H(new x)!=c||F&&"[object WeakMap]"!=H(new F))&&(H=function(t){var e=S.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?W(n):void 0;if(r)switch(r){case M:return"[object DataView]";case L:return a;case N:return"[object Promise]";case U:return c;case z:return"[object WeakMap]"}return e});var Q=Array.isArray;function G(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!K(t)}var Y=R||function(){return!1};function K(t){var e=J(t)?S.call(t):"";return e==i||e==u}function J(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}n.exports=function(t){if(G(t)&&(Q(t)||"string"==typeof t||"function"==typeof t.splice||Y(t)||q(t)))return!t.length;var e=H(t);if(e==a||e==c)return!t.size;if(I||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||m)}(t))return!P(t).length;for(var n in t)if(E.call(t,n))return!1;return!0}}).call(this,n(0),n(1)(t))},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(20);r.__exportStar(n(3),e),r.__exportStar(n(37),e),r.__exportStar(n(32),e),r.__exportStar(n(24),e),r.__exportStar(n(23),e),r.__exportStar(n(16),e)},function(t,e){t.exports=function(t){for(var e=-1,n=t?t.length:0,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}},function(t,e,n){(function(e){var n=1/0,r=1.7976931348623157e308,o=NaN,i="[object Symbol]",u=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,p="object"==typeof self&&self&&self.Object===Object&&self,h=l||p||Function("return this")(),d=Object.prototype.toString,y=h.Symbol,_=y?y.prototype:void 0,v=_?_.toString:void 0;function b(t){if("string"==typeof t)return t;if(m(t))return v?v.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==i}function j(t){return t?(t=function(t){if("number"==typeof t)return t;if(m(t))return o;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=c.test(t);return n||s.test(t)?f(t.slice(2),n?2:8):a.test(t)?o:+t}(t))===n||t===-n?(t<0?-1:1)*r:t==t?t:0:0===t?t:0}t.exports=function(t,e,n){var r,o,i,u;return t=null==(r=t)?"":b(r),o=function(t){var e=j(t),n=e%1;return e==e?n?e-n:e:0}(n),i=0,u=t.length,o==o&&(void 0!==u&&(o=o<=u?o:u),void 0!==i&&(o=o>=i?o:i)),n=o,e=b(e),t.slice(n,n+e.length)==e}}).call(this,n(0))},function(t,e){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",u=/^(?:0|[1-9]\d*)$/;var a,c,s=Object.prototype,f=s.hasOwnProperty,l=s.toString,p=s.propertyIsEnumerable,h=(a=Object.keys,c=Object,function(t){return a(c(t))});function d(t,e){var n=v(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&b(t)}(t)&&f.call(t,"callee")&&(!p.call(t,"callee")||l.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var u in t)!e&&!f.call(t,u)||i&&("length"==u||_(u,o))||n.push(u);return n}function y(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||s,e!==r)return h(t);var e,n,r,o=[];for(var i in Object(t))f.call(t,i)&&"constructor"!=i&&o.push(i);return o}function _(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||u.test(t))&&t>-1&&t%1==0&&t<e}var v=Array.isArray;function b(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?l.call(t):"";return e==o||e==i}(t)}t.exports=function(t){return b(t)?d(t):y(t)}},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,s=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&h())}function h(){if(!f){var t=a(p);f=!0;for(var e=s.length;e;){for(c=s,s=[];++l<e;)c&&c[l].run();l=-1,e=s.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new d(t,e)),1!==s.length||f||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FILE_READING_ERROR="File reading error",e.JSON_PARSING_ERROR="JSON parsing error",e.CSV_PARSING_ERROR="CSV parsing error",e.DDF_ERROR="DDF error";e.DdfCsvError=class extends Error{constructor(t,e,n){super(),this.name="DdfCsvError",this.message=`${t} [filepath: ${n}]. ${e}.`,this.details=e,this.file=n}}},function(t,e,n){var r,o,i;
/*!
	Papa Parse
	v4.3.6
	https://github.com/mholt/PapaParse
	License: MIT
*/o=[],void 0===(i="function"==typeof(r=function(){"use strict";var t,e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,o=r&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),i=!1,u={},a=0,c={parse:function(e,r){var o=(r=r||{}).dynamicTyping||!1;if(w(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.worker&&c.WORKERS_SUPPORTED){var s=function(){if(!c.WORKERS_SUPPORTED)return!1;if(!i&&null===c.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=c.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var r=new n.Worker(e);return r.onmessage=v,r.id=a++,u[r.id]=r,r}();return s.userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void s.postMessage({input:e,config:r,workerId:s.id})}var f=null;return"string"==typeof e?f=r.download?new l(r):new h(r):!0===e.readable&&w(e.read)&&w(e.on)?f=new d(r):(n.File&&e instanceof File||e instanceof Object)&&(f=new p(r)),f.stream(e)},unparse:function(t,e){var n=!1,r=!0,o=",",i="\r\n",u='"';"object"==typeof e&&("string"==typeof e.delimiter&&1===e.delimiter.length&&-1===c.BAD_DELIMITERS.indexOf(e.delimiter)&&(o=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(n=e.quotes),"string"==typeof e.newline&&(i=e.newline),"string"==typeof e.quoteChar&&(u=e.quoteChar),"boolean"==typeof e.header&&(r=e.header));var a=new RegExp(u,"g");if("string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return f(null,t);if("object"==typeof t[0])return f(s(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=t.data[0]instanceof Array?t.fields:s(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),f(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input";function s(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function f(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var u=t instanceof Array&&t.length>0,a=!(e[0]instanceof Array);if(u&&r){for(var c=0;c<t.length;c++)c>0&&(n+=o),n+=l(t[c],c);e.length>0&&(n+=i)}for(var s=0;s<e.length;s++){for(var f=u?t.length:e[s].length,p=0;p<f;p++){p>0&&(n+=o);var h=u&&a?t[p]:p;n+=l(e[s][h],p)}s<e.length-1&&(n+=i)}return n}function l(t,e){if(void 0===t||null===t)return"";t=t.toString().replace(a,u+u);var r="boolean"==typeof n&&n||n instanceof Array&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}(t,c.BAD_DELIMITERS)||t.indexOf(o)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return r?u+t+u:t}}};if(c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\ufeff",c.BAD_DELIMITERS=["\r","\n",'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!r&&!!n.Worker,c.SCRIPT_PATH=null,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=_,c.ParserHandle=y,c.NetworkStreamer=l,c.FileStreamer=p,c.StringStreamer=h,c.ReadableStreamStreamer=d,n.jQuery){var s=n.jQuery;s.fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(t){var o="INPUT"===s(this).prop("tagName").toUpperCase()&&"file"===s(this).attr("type").toLowerCase()&&n.FileReader;if(!o||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},e)})}),o(),this;function o(){if(0!==r.length){var e,n,o,u,a=r[0];if(w(t.before)){var f=t.before(a.file,a.inputElem);if("object"==typeof f){if("abort"===f.action)return e="AbortError",n=a.file,o=a.inputElem,u=f.reason,void(w(t.error)&&t.error({name:e},n,o,u));if("skip"===f.action)return void i();"object"==typeof f.config&&(a.instanceConfig=s.extend(a.instanceConfig,f.config))}else if("skip"===f)return void i()}var l=a.instanceConfig.complete;a.instanceConfig.complete=function(t){w(l)&&l(t,a.file,a.inputElem),i()},c.parse(a.file,a.instanceConfig)}else w(t.complete)&&t.complete()}function i(){r.splice(0,1),o()}}}function f(t){this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=m(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new y(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var e=this._config.beforeFirstChunk(t);void 0!==e&&(t=e)}this.isFirstChunk=!1;var r=this._partialLine+t;this._partialLine="";var i=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=i.meta.cursor;this._finished||(this._partialLine=r.substring(u-this._baseIndex),this._baseIndex=u),i&&i.data&&(this._rowCount+=i.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)n.postMessage({results:i,workerId:c.WORKER_ID,finished:a});else if(w(this._config.chunk)){if(this._config.chunk(i,this._handle),this._paused)return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),!a||!w(this._config.complete)||i&&i.meta.aborted||this._config.complete(this._completeResults,this._input),a||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(t){w(this._config.error)?this._config.error(t):o&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=c.RemoteChunkSize),f.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=j(this._chunkLoaded,this),e.onerror=j(this._chunkError,this)),e.open("GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}r&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4==e.readyState&&(e.status<200||e.status>=400?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(n)}}function p(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=c.LocalChunkSize),f.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=j(this._chunkLoaded,this),e.onerror=j(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,o)}var i=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;t=t||{},f.call(this,t),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function d(t){t=t||{},f.call(this,t);var e=[],n=!0;this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._nextChunk=function(){e.length?this.parseChunk(e.shift()):n=!0},this._streamData=j(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=j(function(t){this._streamCleanUp(),this._sendError(t.message)},this),this._streamEnd=j(function(){this._streamCleanUp(),this._finished=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(t){var e,n,r,o=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,i=this,u=0,a=!1,s=!1,f=[],l={data:[],errors:[],meta:{}};if(w(t.step)){var p=t.step;t.step=function(e){if(l=e,d())h();else{if(h(),0===l.data.length)return;u+=e.data.length,t.preview&&u>t.preview?n.abort():p(l,i)}}}function h(){if(l&&r&&(v("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<l.data.length;e++)1===l.data[e].length&&""===l.data[e][0]&&l.data.splice(e--,1);return d()&&function(){if(l){for(var t=0;d()&&t<l.data.length;t++)for(var e=0;e<l.data[t].length;e++)f.push(l.data[t][e]);l.data.splice(0,1)}}(),function(){if(!l||!t.header&&!t.dynamicTyping)return l;for(var e=0;e<l.data.length;e++){for(var n=t.header?{}:[],r=0;r<l.data[e].length;r++){var o=r,i=l.data[e][r];t.header&&(o=r>=f.length?"__parsed_extra":f[r]),i=y(o,i),"__parsed_extra"===o?(n[o]=n[o]||[],n[o].push(i)):n[o]=i}l.data[e]=n,t.header&&(r>f.length?v("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+r,e):r<f.length&&v("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+r,e))}return t.header&&l.meta&&(l.meta.fields=f),l}()}function d(){return t.header&&0===f.length}function y(e,n){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(r=n,o.test(r)?parseFloat(r):r):n;var r}function v(t,e,n,r){l.errors.push({type:t,code:e,message:n,row:r})}this.parse=function(o,i,u){if(t.newline||(t.newline=function(t){var e=(t=t.substr(0,1048576)).split("\r"),n=t.split("\n"),r=n.length>1&&n[0].length<e[0].length;if(1===e.length||r)return"\n";for(var o=0,i=0;i<e.length;i++)"\n"===e[i][0]&&o++;return o>=e.length/2?"\r\n":"\r"}(o)),r=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(o),l.meta.delimiter=t.delimiter);else{var s=function(e,n,r){for(var o,i,u,a=[",","\t","|",";",c.RECORD_SEP,c.UNIT_SEP],s=0;s<a.length;s++){var f=a[s],l=0,p=0,h=0;u=void 0;for(var d=new _({delimiter:f,newline:n,preview:10}).parse(e),y=0;y<d.data.length;y++)if(r&&1===d.data[y].length&&0===d.data[y][0].length)h++;else{var v=d.data[y].length;p+=v,void 0!==u?v>1&&(l+=Math.abs(v-u),u=v):u=v}d.data.length>0&&(p/=d.data.length-h),(void 0===i||l<i)&&p>1.99&&(i=l,o=f)}return t.delimiter=o,{successful:!!o,bestDelimiter:o}}(o,t.newline,t.skipEmptyLines);s.successful?t.delimiter=s.bestDelimiter:(r=!0,t.delimiter=c.DefaultDelimiter),l.meta.delimiter=t.delimiter}var f=m(t);return t.preview&&t.header&&f.preview++,e=o,n=new _(f),l=n.parse(e,i,u),h(),a?{meta:{paused:!0}}:l||{meta:{paused:!1}}},this.paused=function(){return a},this.pause=function(){a=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){a=!1,i.streamer.parseChunk(e)},this.aborted=function(){return s},this.abort=function(){s=!0,n.abort(),l.meta.aborted=!0,w(t.complete)&&t.complete(l),e=""}}function _(t){var e=(t=t||{}).delimiter,n=t.newline,r=t.comments,o=t.step,i=t.preview,u=t.fastMode,a=t.quoteChar||'"';if(("string"!=typeof e||c.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||c.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,f=!1;this.parse=function(t,c,l){if("string"!=typeof t)throw"Input must be a string";var p=t.length,h=e.length,d=n.length,y=r.length,_=w(o);s=0;var v=[],b=[],g=[],m=0;if(!t)return $();if(u||!1!==u&&-1===t.indexOf(a)){for(var j=t.split(n),O=0;O<j.length;O++){var g=j[O];if(s+=g.length,O!==j.length-1)s+=n.length;else if(l)return $();if(!r||g.substr(0,y)!==r){if(_){if(v=[],R(g.split(e)),D(),f)return $()}else R(g.split(e));if(i&&O>=i)return v=v.slice(0,i),$(!0)}}return $()}for(var E=t.indexOf(e,s),S=t.indexOf(n,s),A=new RegExp(a+a,"g");;)if(t[s]!==a)if(r&&0===g.length&&t.substr(s,y)===r){if(-1===S)return $();s=S+d,S=t.indexOf(n,s),E=t.indexOf(e,s)}else if(-1!==E&&(E<S||-1===S))g.push(t.substring(s,E)),s=E+h,E=t.indexOf(e,s);else{if(-1===S)break;if(g.push(t.substring(s,S)),C(S+d),_&&(D(),f))return $();if(i&&v.length>=i)return $(!0)}else{var T=s;for(s++;;){var T=t.indexOf(a,T+1);if(-1===T)return l||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:s}),P();if(T===p-1){var k=t.substring(s,T).replace(A,a);return P(k)}if(t[T+1]!==a){if(t[T+1]===e){g.push(t.substring(s,T).replace(A,a)),s=T+1+h,E=t.indexOf(e,s),S=t.indexOf(n,s);break}if(t.substr(T+1,d)===n){if(g.push(t.substring(s,T).replace(A,a)),C(T+1+d),E=t.indexOf(e,s),_&&(D(),f))return $();if(i&&v.length>=i)return $(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:s}),T++}else T++}}return P();function R(t){v.push(t),m=s}function P(e){return l?$():(void 0===e&&(e=t.substr(s)),g.push(e),s=p,R(g),_&&D(),$())}function C(e){s=e,R(g),g=[],S=t.indexOf(n,s)}function $(t){return{data:v,errors:b,meta:{delimiter:e,linebreak:n,aborted:f,truncated:!!t,cursor:m+(c||0)}}}function D(){o($()),v=[],b=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return s}}function v(t){var e=t.data,n=u[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,b(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:g,resume:g};if(w(n.userStep)){for(var i=0;i<e.results.data.length&&(n.userStep({data:[e.results.data[i]],errors:e.results.errors,meta:e.results.meta},o),!r);i++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&b(e.workerId,e.results)}function b(t,e){var n=u[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete u[t]}function g(){throw"Not implemented."}function m(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=m(t[n]);return e}function j(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return o?n.onmessage=function(t){var e=t.data;if(void 0===c.WORKER_ID&&e&&(c.WORKER_ID=e.workerId),"string"==typeof e.input)n.postMessage({workerId:c.WORKER_ID,results:c.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var r=c.parse(e.input,e.config);r&&n.postMessage({workerId:c.WORKER_ID,results:r,finished:!0})}}:c.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){i=!0},!0):i=!0),l.prototype=Object.create(f.prototype),l.prototype.constructor=l,p.prototype=Object.create(f.prototype),p.prototype.constructor=p,h.prototype=Object.create(h.prototype),h.prototype.constructor=h,d.prototype=Object.create(f.prototype),d.prototype.constructor=d,c})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.WhereClauseBasedOnConjunction="WhereClauseBasedOnConjunction",t.ConjunctionPartFromWhereClauseCorrespondsToJoin="ConjunctionPartFromWhereClauseCorrespondsToJoin"}(e.QueryFeature||(e.QueryFeature={}))},function(t,e,n){(function(t,r){var o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,u=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),c=r[n];n<i;c=r[++n])y(c)||!m(c)?u+=" "+c:u+=" "+a(c);return u},e.deprecate=function(n,o){if(b(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}};var i,u={};function a(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),f(r,t,r.depth)}function c(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function s(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return v(o)||(o=f(t,o,r)),o}var i=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(_(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(i)return i;var u=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),w(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return l(n);if(0===u.length){if(O(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(g(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return l(n)}var s,m="",E=!1,S=["{","}"];(h(n)&&(E=!0,S=["[","]"]),O(n))&&(m=" [Function"+(n.name?": "+n.name:"")+"]");return g(n)&&(m=" "+RegExp.prototype.toString.call(n)),j(n)&&(m=" "+Date.prototype.toUTCString.call(n)),w(n)&&(m=" "+l(n)),0!==u.length||E&&0!=n.length?r<0?g(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),s=E?function(t,e,n,r,o){for(var i=[],u=0,a=e.length;u<a;++u)T(e,String(u))?i.push(p(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}(t,n,r,a,u):u.map(function(e){return p(t,n,r,a,e,E)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(s,m,S)):S[0]+m+S[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o,i){var u,a,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),T(r,o)||(u="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(n)?f(t,c.value,null):f(t,c.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),b(u)){if(i&&o.match(/^\d+$/))return a;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+a}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function _(t){return"number"==typeof t}function v(t){return"string"==typeof t}function b(t){return void 0===t}function g(t){return m(t)&&"[object RegExp]"===E(t)}function m(t){return"object"==typeof t&&null!==t}function j(t){return m(t)&&"[object Date]"===E(t)}function w(t){return m(t)&&("[object Error]"===E(t)||t instanceof Error)}function O(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(b(i)&&(i=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!u[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=r.pid;u[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else u[t]=function(){};return u[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=_,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=g,e.isObject=m,e.isDate=j,e.isError=w,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(34);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),A[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(33),e._extend=function(t,e){if(!e||!m(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,n(0),n(12))},function(t,e,n){(function(t,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",u=1,a=2,c=1/0,s=9007199254740991,f="[object Arguments]",l="[object Array]",p="[object Boolean]",h="[object Date]",d="[object Error]",y="[object Function]",_="[object GeneratorFunction]",v="[object Map]",b="[object Number]",g="[object Object]",m="[object RegExp]",j="[object Set]",w="[object String]",O="[object Symbol]",E="[object ArrayBuffer]",S="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,k=/^\./,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,C=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[f]=D[l]=D[E]=D[p]=D[S]=D[h]=D[d]=D[y]=D[v]=D[b]=D[g]=D[m]=D[j]=D[w]=D["[object WeakMap]"]=!1;var x="object"==typeof t&&t&&t.Object===Object&&t,F="object"==typeof self&&self&&self.Object===Object&&self,I=x||F||Function("return this")(),M="object"==typeof e&&e&&!e.nodeType&&e,L=M&&"object"==typeof n&&n&&!n.nodeType&&n,N=L&&L.exports===M&&x.process,U=function(){try{return N&&N.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function B(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function V(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function H(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Q,G,Y,K=Array.prototype,J=Function.prototype,X=Object.prototype,Z=I["__core-js_shared__"],tt=(Q=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",et=J.toString,nt=X.hasOwnProperty,rt=X.toString,ot=RegExp("^"+et.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=I.Symbol,ut=I.Uint8Array,at=X.propertyIsEnumerable,ct=K.splice,st=(G=Object.keys,Y=Object,function(t){return G(Y(t))}),ft=Wt(I,"DataView"),lt=Wt(I,"Map"),pt=Wt(I,"Promise"),ht=Wt(I,"Set"),dt=Wt(I,"WeakMap"),yt=Wt(Object,"create"),_t=Zt(ft),vt=Zt(lt),bt=Zt(pt),gt=Zt(ht),mt=Zt(dt),jt=it?it.prototype:void 0,wt=jt?jt.valueOf:void 0,Ot=jt?jt.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.__data__=new At;++e<n;)this.add(t[e])}function kt(t){this.__data__=new St(t)}function Rt(t,e){var n=re(t)||ne(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!nt.call(t,i)||o&&("length"==i||Qt(i,r))||n.push(i);return n}function Pt(t,e){for(var n=t.length;n--;)if(ee(t[n][0],e))return n;return-1}Et.prototype.clear=function(){this.__data__=yt?yt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===i?void 0:n}return nt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:nt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=Pt(e,t);return!(n<0||(n==e.length-1?e.pop():ct.call(e,n,1),0))},St.prototype.get=function(t){var e=this.__data__,n=Pt(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Pt(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Pt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Et,map:new(lt||St),string:new Et}},At.prototype.delete=function(t){return Ht(this,t).delete(t)},At.prototype.get=function(t){return Ht(this,t).get(t)},At.prototype.has=function(t){return Ht(this,t).has(t)},At.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,i),this},Tt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.clear=function(){this.__data__=new St},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var o=n.__data__;if(!lt||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new At(o)}return n.set(t,e),this};var Ct,$t,Dt=(Ct=function(t,e){return t&&xt(t,e,le)},function(t,e){if(null==t)return t;if(!oe(t))return Ct(t,e);for(var n=t.length,r=$t?n:-1,o=Object(t);($t?r--:++r<n)&&!1!==e(o[r],r,o););return t}),xt=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}();function Ft(t,e){for(var n=0,r=(e=Gt(e,t)?[e]:Bt(e)).length;null!=t&&n<r;)t=t[Xt(e[n++])];return n&&n==r?t:void 0}function It(t,e){return null!=t&&e in Object(t)}function Mt(t,e,n,r,o){return t===e||(null==t||null==e||!ae(t)&&!ce(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var c=re(t),s=re(e),y=l,_=l;c||(y=(y=qt(t))==f?g:y);s||(_=(_=qt(e))==f?g:_);var A=y==g&&!H(t),T=_==g&&!H(e),k=y==_;if(k&&!A)return i||(i=new kt),c||fe(t)?Vt(t,e,n,r,o,i):function(t,e,n,r,o,i,c){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!r(new ut(t),new ut(e)));case p:case h:case b:return ee(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case w:return t==e+"";case v:var s=W;case j:var f=i&a;if(s||(s=q),t.size!=e.size&&!f)return!1;var l=c.get(t);if(l)return l==e;i|=u,c.set(t,e);var y=Vt(s(t),s(e),r,o,i,c);return c.delete(t),y;case O:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,y,n,r,o,i);if(!(o&a)){var R=A&&nt.call(t,"__wrapped__"),P=T&&nt.call(e,"__wrapped__");if(R||P){var C=R?t.value():t,$=P?e.value():e;return i||(i=new kt),n(C,$,r,o,i)}}if(!k)return!1;return i||(i=new kt),function(t,e,n,r,o,i){var u=o&a,c=le(t),s=c.length,f=le(e).length;if(s!=f&&!u)return!1;for(var l=s;l--;){var p=c[l];if(!(u?p in e:nt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<s;){p=c[l];var _=t[p],v=e[p];if(r)var b=u?r(v,_,p,e,t,i):r(_,v,p,t,e,i);if(!(void 0===b?_===v||n(_,v,r,o,i):b)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Mt,n,r,o))}function Lt(t){return!(!ae(t)||tt&&tt in t)&&(ie(t)||H(t)?ot:C).test(Zt(t))}function Nt(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?re(t)?function(t,e){if(Gt(t)&&Yt(e))return Kt(Xt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Ft(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Gt(e,t)?[e]:Bt(e)).length;for(;++o<i;){var u=Xt(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;return!!(i=t?t.length:0)&&ue(i)&&Qt(u,i)&&(re(t)||ne(t))}(t,e,It)}(n,t):Mt(e,r,void 0,u|a)}}(t[0],t[1]):function(t){var e=function(t){var e=le(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Yt(o)]}return e}(t);if(1==e.length&&e[0][2])return Kt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,c=!r;if(null==t)return!i;for(t=Object(t);o--;){var s=n[o];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var f=(s=n[o])[0],l=t[f],p=s[1];if(c&&s[2]){if(void 0===l&&!(f in t))return!1}else{var h=new kt;if(r)var d=r(l,p,f,t,e,h);if(!(void 0===d?Mt(p,l,r,u|a,h):d))return!1}}return!0}(n,t,e)}}(t):Gt(e=t)?(n=Xt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Ft(e,t)}}(e);var e,n}function Ut(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||X,e!==r)return st(t);var e,n,r,o=[];for(var i in Object(t))nt.call(t,i)&&"constructor"!=i&&o.push(i);return o}function zt(t,e){var n=-1,r=oe(t)?Array(t.length):[];return Dt(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function Bt(t){return re(t)?t:Jt(t)}function Vt(t,e,n,r,o,i){var c=o&a,s=t.length,f=e.length;if(s!=f&&!(c&&f>s))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,h=!0,d=o&u?new Tt:void 0;for(i.set(t,e),i.set(e,t);++p<s;){var y=t[p],_=e[p];if(r)var v=c?r(_,y,p,e,t,i):r(y,_,p,t,e,i);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!V(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(y!==_&&!n(y,_,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Ht(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Wt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Lt(n)?n:void 0}var qt=function(t){return rt.call(t)};function Qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function Gt(t,e){if(re(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!se(t))||(T.test(t)||!A.test(t)||null!=e&&t in Object(e))}function Yt(t){return t==t&&!ae(t)}function Kt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ft&&qt(new ft(new ArrayBuffer(1)))!=S||lt&&qt(new lt)!=v||pt&&"[object Promise]"!=qt(pt.resolve())||ht&&qt(new ht)!=j||dt&&"[object WeakMap]"!=qt(new dt))&&(qt=function(t){var e=rt.call(t),n=e==g?t.constructor:void 0,r=n?Zt(n):void 0;if(r)switch(r){case _t:return S;case vt:return v;case bt:return"[object Promise]";case gt:return j;case mt:return"[object WeakMap]"}return e});var Jt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(se(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}(e);var n=[];return k.test(t)&&n.push(""),t.replace(R,function(t,e,r,o){n.push(r?o.replace(P,"$1"):e||t)}),n});function Xt(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function Zt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(te.Cache||At),n}function ee(t,e){return t===e||t!=t&&e!=e}function ne(t){return function(t){return ce(t)&&oe(t)}(t)&&nt.call(t,"callee")&&(!at.call(t,"callee")||rt.call(t)==f)}te.Cache=At;var re=Array.isArray;function oe(t){return null!=t&&ue(t.length)&&!ie(t)}function ie(t){var e=ae(t)?rt.call(t):"";return e==y||e==_}function ue(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function ae(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ce(t){return!!t&&"object"==typeof t}function se(t){return"symbol"==typeof t||ce(t)&&rt.call(t)==O}var fe=z?function(t){return function(e){return t(e)}}(z):function(t){return ce(t)&&ue(t.length)&&!!D[rt.call(t)]};function le(t){return oe(t)?Rt(t):Ut(t)}function pe(t){return t}n.exports=function(t,e){return(re(t)?B:zt)(t,Nt(e))}}).call(this,n(0),n(1)(t))},function(t,e,n){(function(t,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",u=1,a=2,c=1/0,s=9007199254740991,f="[object Arguments]",l="[object Array]",p="[object Boolean]",h="[object Date]",d="[object Error]",y="[object Function]",_="[object GeneratorFunction]",v="[object Map]",b="[object Number]",g="[object Object]",m="[object RegExp]",j="[object Set]",w="[object String]",O="[object Symbol]",E="[object ArrayBuffer]",S="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,k=/^\./,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,C=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[f]=D[l]=D[E]=D[p]=D[S]=D[h]=D[d]=D[y]=D[v]=D[b]=D[g]=D[m]=D[j]=D[w]=D["[object WeakMap]"]=!1;var x="object"==typeof t&&t&&t.Object===Object&&t,F="object"==typeof self&&self&&self.Object===Object&&self,I=x||F||Function("return this")(),M="object"==typeof e&&e&&!e.nodeType&&e,L=M&&"object"==typeof n&&n&&!n.nodeType&&n,N=L&&L.exports===M&&x.process,U=function(){try{return N&&N.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function B(t,e){for(var n=-1,r=t?t.length:0,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}function V(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function H(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Q,G,Y,K=Array.prototype,J=Function.prototype,X=Object.prototype,Z=I["__core-js_shared__"],tt=(Q=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",et=J.toString,nt=X.hasOwnProperty,rt=X.toString,ot=RegExp("^"+et.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=I.Symbol,ut=I.Uint8Array,at=X.propertyIsEnumerable,ct=K.splice,st=(G=Object.keys,Y=Object,function(t){return G(Y(t))}),ft=Wt(I,"DataView"),lt=Wt(I,"Map"),pt=Wt(I,"Promise"),ht=Wt(I,"Set"),dt=Wt(I,"WeakMap"),yt=Wt(Object,"create"),_t=Zt(ft),vt=Zt(lt),bt=Zt(pt),gt=Zt(ht),mt=Zt(dt),jt=it?it.prototype:void 0,wt=jt?jt.valueOf:void 0,Ot=jt?jt.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.__data__=new At;++e<n;)this.add(t[e])}function kt(t){this.__data__=new St(t)}function Rt(t,e){var n=re(t)||ne(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!nt.call(t,i)||o&&("length"==i||Qt(i,r))||n.push(i);return n}function Pt(t,e){for(var n=t.length;n--;)if(ee(t[n][0],e))return n;return-1}Et.prototype.clear=function(){this.__data__=yt?yt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===i?void 0:n}return nt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:nt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=Pt(e,t);return!(n<0||(n==e.length-1?e.pop():ct.call(e,n,1),0))},St.prototype.get=function(t){var e=this.__data__,n=Pt(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Pt(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Pt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Et,map:new(lt||St),string:new Et}},At.prototype.delete=function(t){return Ht(this,t).delete(t)},At.prototype.get=function(t){return Ht(this,t).get(t)},At.prototype.has=function(t){return Ht(this,t).has(t)},At.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,i),this},Tt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.clear=function(){this.__data__=new St},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var o=n.__data__;if(!lt||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new At(o)}return n.set(t,e),this};var Ct,$t,Dt=(Ct=function(t,e){return t&&Ft(t,e,le)},function(t,e){if(null==t)return t;if(!oe(t))return Ct(t,e);for(var n=t.length,r=$t?n:-1,o=Object(t);($t?r--:++r<n)&&!1!==e(o[r],r,o););return t});function xt(t,e){var n=[];return Dt(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}var Ft=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}();function It(t,e){for(var n=0,r=(e=Gt(e,t)?[e]:Bt(e)).length;null!=t&&n<r;)t=t[Xt(e[n++])];return n&&n==r?t:void 0}function Mt(t,e){return null!=t&&e in Object(t)}function Lt(t,e,n,r,o){return t===e||(null==t||null==e||!ae(t)&&!ce(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var c=re(t),s=re(e),y=l,_=l;c||(y=(y=qt(t))==f?g:y);s||(_=(_=qt(e))==f?g:_);var A=y==g&&!H(t),T=_==g&&!H(e),k=y==_;if(k&&!A)return i||(i=new kt),c||fe(t)?Vt(t,e,n,r,o,i):function(t,e,n,r,o,i,c){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!r(new ut(t),new ut(e)));case p:case h:case b:return ee(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case w:return t==e+"";case v:var s=W;case j:var f=i&a;if(s||(s=q),t.size!=e.size&&!f)return!1;var l=c.get(t);if(l)return l==e;i|=u,c.set(t,e);var y=Vt(s(t),s(e),r,o,i,c);return c.delete(t),y;case O:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,y,n,r,o,i);if(!(o&a)){var R=A&&nt.call(t,"__wrapped__"),P=T&&nt.call(e,"__wrapped__");if(R||P){var C=R?t.value():t,$=P?e.value():e;return i||(i=new kt),n(C,$,r,o,i)}}if(!k)return!1;return i||(i=new kt),function(t,e,n,r,o,i){var u=o&a,c=le(t),s=c.length,f=le(e).length;if(s!=f&&!u)return!1;for(var l=s;l--;){var p=c[l];if(!(u?p in e:nt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<s;){p=c[l];var _=t[p],v=e[p];if(r)var b=u?r(v,_,p,e,t,i):r(_,v,p,t,e,i);if(!(void 0===b?_===v||n(_,v,r,o,i):b)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Lt,n,r,o))}function Nt(t){return!(!ae(t)||tt&&tt in t)&&(ie(t)||H(t)?ot:C).test(Zt(t))}function Ut(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?re(t)?function(t,e){if(Gt(t)&&Yt(e))return Kt(Xt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:It(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Gt(e,t)?[e]:Bt(e)).length;for(;++o<i;){var u=Xt(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;return!!(i=t?t.length:0)&&ue(i)&&Qt(u,i)&&(re(t)||ne(t))}(t,e,Mt)}(n,t):Lt(e,r,void 0,u|a)}}(t[0],t[1]):function(t){var e=function(t){var e=le(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Yt(o)]}return e}(t);if(1==e.length&&e[0][2])return Kt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,c=!r;if(null==t)return!i;for(t=Object(t);o--;){var s=n[o];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var f=(s=n[o])[0],l=t[f],p=s[1];if(c&&s[2]){if(void 0===l&&!(f in t))return!1}else{var h=new kt;if(r)var d=r(l,p,f,t,e,h);if(!(void 0===d?Lt(p,l,r,u|a,h):d))return!1}}return!0}(n,t,e)}}(t):Gt(e=t)?(n=Xt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return It(e,t)}}(e);var e,n}function zt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||X,e!==r)return st(t);var e,n,r,o=[];for(var i in Object(t))nt.call(t,i)&&"constructor"!=i&&o.push(i);return o}function Bt(t){return re(t)?t:Jt(t)}function Vt(t,e,n,r,o,i){var c=o&a,s=t.length,f=e.length;if(s!=f&&!(c&&f>s))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,h=!0,d=o&u?new Tt:void 0;for(i.set(t,e),i.set(e,t);++p<s;){var y=t[p],_=e[p];if(r)var v=c?r(_,y,p,e,t,i):r(y,_,p,t,e,i);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!V(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(y!==_&&!n(y,_,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Ht(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Wt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Nt(n)?n:void 0}var qt=function(t){return rt.call(t)};function Qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function Gt(t,e){if(re(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!se(t))||(T.test(t)||!A.test(t)||null!=e&&t in Object(e))}function Yt(t){return t==t&&!ae(t)}function Kt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ft&&qt(new ft(new ArrayBuffer(1)))!=S||lt&&qt(new lt)!=v||pt&&"[object Promise]"!=qt(pt.resolve())||ht&&qt(new ht)!=j||dt&&"[object WeakMap]"!=qt(new dt))&&(qt=function(t){var e=rt.call(t),n=e==g?t.constructor:void 0,r=n?Zt(n):void 0;if(r)switch(r){case _t:return S;case vt:return v;case bt:return"[object Promise]";case gt:return j;case mt:return"[object WeakMap]"}return e});var Jt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(se(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}(e);var n=[];return k.test(t)&&n.push(""),t.replace(R,function(t,e,r,o){n.push(r?o.replace(P,"$1"):e||t)}),n});function Xt(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function Zt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(te.Cache||At),n}function ee(t,e){return t===e||t!=t&&e!=e}function ne(t){return function(t){return ce(t)&&oe(t)}(t)&&nt.call(t,"callee")&&(!at.call(t,"callee")||rt.call(t)==f)}te.Cache=At;var re=Array.isArray;function oe(t){return null!=t&&ue(t.length)&&!ie(t)}function ie(t){var e=ae(t)?rt.call(t):"";return e==y||e==_}function ue(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function ae(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ce(t){return!!t&&"object"==typeof t}function se(t){return"symbol"==typeof t||ce(t)&&rt.call(t)==O}var fe=z?function(t){return function(e){return t(e)}}(z):function(t){return ce(t)&&ue(t.length)&&!!D[rt.call(t)]};function le(t){return oe(t)?Rt(t):zt(t)}function pe(t){return t}n.exports=function(t,e){return(re(t)?B:xt)(t,Ut(e))}}).call(this,n(0),n(1)(t))},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return o}),n.d(e,"__assign",function(){return i}),n.d(e,"__rest",function(){return u}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return c}),n.d(e,"__metadata",function(){return s}),n.d(e,"__awaiter",function(){return f}),n.d(e,"__generator",function(){return l}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return h}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return _}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return g}),n.d(e,"__makeTemplateObject",function(){return m}),n.d(e,"__importStar",function(){return j}),n.d(e,"__importDefault",function(){return w});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n}function a(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u}function c(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})}function l(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=o[t](e)).value instanceof _?Promise.resolve(n.value.v).then(c,s):f(i[0][2],n)}catch(t){f(i[0][3],t)}var n}function c(t){a("next",t)}function s(t){a("throw",t)}function f(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function g(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,o,(e=t[n](e)).done,e.value)})}}}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function j(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}},function(t,e){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",u=/^(?:0|[1-9]\d*)$/;function a(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,function(e){return t[e]})}var c,s,f=Object.prototype,l=f.hasOwnProperty,p=f.toString,h=f.propertyIsEnumerable,d=(c=Object.keys,s=Object,function(t){return c(s(t))});function y(t,e){var n=b(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&g(t)}(t)&&l.call(t,"callee")&&(!h.call(t,"callee")||p.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var u in t)!e&&!l.call(t,u)||i&&("length"==u||v(u,o))||n.push(u);return n}function _(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||f,e!==r)return d(t);var e,n,r,o=[];for(var i in Object(t))l.call(t,i)&&"constructor"!=i&&o.push(i);return o}function v(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||u.test(t))&&t>-1&&t%1==0&&t<e}var b=Array.isArray;function g(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?p.call(t):"";return e==o||e==i}(t)}t.exports=function(t){return t?a(t,function(t){return g(t)?y(t):_(t)}(t)):[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(45);e.FrontendFileReader=class{setRecordTransformer(t){this.recordTransformer=t}readText(t,e){fetch(t).then(t=>t.text()).then(t=>{e(null,t)}).catch(n=>{e(`${t} read error: ${n}`)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(10),o=n(13),i=n(11),u=n(3),a=n(16);function c(t){return u.isDatapointsQuery(t)&&1===r(t.where).length&&o(t.where)&&t.where.$and?a.QueryFeature.WhereClauseBasedOnConjunction:null}e.featureDetectors=[c,(t,e)=>{if(!c(t))return null;for(const n of t.where.$and){const o=r(n);if(1===o.length){const u=i(o),c=n[u];if(t.join&&t.join[c]){const n=t.join[c],o=n.where,s=i(r(o));if(n.key===u&&n.key===s&&1===r(o).length){const t=o[s],i=e.get(n.key);if(1===r(t).length&&t.$in&&("entity_set"===i.concept_type||"entity_domain"===i.concept_type))return a.QueryFeature.ConjunctionPartFromWhereClauseCorrespondsToJoin}}}}return null}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(20),o=n(6),i=n(2),u=n(4),a=n(3);function c(t,e){const{dataset:n,branch:r,commit:o}=e;return`${t}${n}/${r}-${o}`}function s(t){return t+"/datapackage.json"}e.getDatasetPath=c,e.extendQueryParamWithDatasetProps=function(t,e={}){return r.__awaiter(this,void 0,void 0,function*(){const n=u(e,"datasetsConfig",{[a.DEFAULT_DATASET_NAME]:{[a.DEFAULT_DATASET_BRANCH]:[a.DEFAULT_DATASET_COMMIT]},default:{dataset:a.DEFAULT_DATASET_NAME,branch:a.DEFAULT_DATASET_BRANCH,commit:a.DEFAULT_DATASET_COMMIT}}),{default:{dataset:r,branch:f,commit:l}}=n,{dataset:p,branch:h,commit:d}=t,{dataset:y=r,branch:_=f,commit:v=l}=t,b=u(e,"basePath",a.DEFAULT_DATASET_DIR),g=u(e,"fileReader"),m=y;if(o(n[y]))throw new Error(`No ${o(p)?"default ":""}dataset '${y}' was found`);if(o(n[y][_]))throw new Error(`No ${o(h)?"default ":""}branch '${_}' in ${o(p)?"default ":""}dataset '${y}' was found`);if(!i(n[y][_],v))throw new Error(`No ${o(d)?"default ":""}commit '${v}' in ${o(h)?"default ":""}branch '${_}' in ${o(p)?"default ":""}dataset '${y}' was found`);let j,w;try{(yield function(t,e){return new Promise(n=>{t.readText(s(e),t=>n(!t))})}(g,b))?(j=b,w=s(b)):w=s(j=c(b,{dataset:y,branch:_,commit:v}))}catch(t){throw t}return Object.assign(t,{dataset:y,branch:_,commit:v}),Object.assign(e,{datasetPath:j,datapackagePath:w,datasetName:m}),t})}},function(t,e,n){(function(e){var n=200,r="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",u=/^\[object .+?Constructor\]$/,a="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,s=a||c||Function("return this")();function f(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,p,n);var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function l(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function p(t){return t!=t}function h(t,e){return t.has(e)}function d(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var y,_=Array.prototype,v=Function.prototype,b=Object.prototype,g=s["__core-js_shared__"],m=(y=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",j=v.toString,w=b.hasOwnProperty,O=b.toString,E=RegExp("^"+j.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=_.splice,A=M(s,"Map"),T=M(s,"Set"),k=M(Object,"create");function R(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function P(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $(t){var e=-1,n=t?t.length:0;for(this.__data__=new C;++e<n;)this.add(t[e])}function D(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function x(t){return!(!L(t)||m&&m in t)&&(function(t){var e=L(t)?O.call(t):"";return e==o||e==i}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?E:u).test(function(t){if(null!=t){try{return j.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}R.prototype.clear=function(){this.__data__=k?k(null):{}},R.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},R.prototype.get=function(t){var e=this.__data__;if(k){var n=e[t];return n===r?void 0:n}return w.call(e,t)?e[t]:void 0},R.prototype.has=function(t){var e=this.__data__;return k?void 0!==e[t]:w.call(e,t)},R.prototype.set=function(t,e){return this.__data__[t]=k&&void 0===e?r:e,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(t){var e=this.__data__,n=D(e,t);return!(n<0||(n==e.length-1?e.pop():S.call(e,n,1),0))},P.prototype.get=function(t){var e=this.__data__,n=D(e,t);return n<0?void 0:e[n][1]},P.prototype.has=function(t){return D(this.__data__,t)>-1},P.prototype.set=function(t,e){var n=this.__data__,r=D(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},C.prototype.clear=function(){this.__data__={hash:new R,map:new(A||P),string:new R}},C.prototype.delete=function(t){return I(this,t).delete(t)},C.prototype.get=function(t){return I(this,t).get(t)},C.prototype.has=function(t){return I(this,t).has(t)},C.prototype.set=function(t,e){return I(this,t).set(t,e),this},$.prototype.add=$.prototype.push=function(t){return this.__data__.set(t,r),this},$.prototype.has=function(t){return this.__data__.has(t)};var F=T&&1/d(new T([,-0]))[1]==1/0?function(t){return new T(t)}:function(){};function I(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function M(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return x(n)?n:void 0}function L(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t){return t&&t.length?function(t,e,r){var o=-1,i=f,u=t.length,a=!0,c=[],s=c;if(r)a=!1,i=l;else if(u>=n){var p=e?null:F(t);if(p)return d(p);a=!1,i=h,s=new $}else s=e?[]:c;t:for(;++o<u;){var y=t[o],_=e?e(y):y;if(y=r||0!==y?y:0,a&&_==_){for(var v=s.length;v--;)if(s[v]===_)continue t;e&&s.push(_),c.push(y)}else i(s,_,r)||(s!==c&&s.push(_),c.push(y))}return c}(t):[]}}).call(this,n(0))},function(t,e){var n="[object String]",r=Object.prototype.toString,o=Array.isArray;t.exports=function(t){return"string"==typeof t||!o(t)&&function(t){return!!t&&"object"==typeof t}(t)&&r.call(t)==n}},function(t,e,n){(function(t,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",u=1,a=2,c=1/0,s=9007199254740991,f="[object Arguments]",l="[object Array]",p="[object Boolean]",h="[object Date]",d="[object Error]",y="[object Function]",_="[object GeneratorFunction]",v="[object Map]",b="[object Number]",g="[object Object]",m="[object RegExp]",j="[object Set]",w="[object String]",O="[object Symbol]",E="[object ArrayBuffer]",S="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,k=/^\./,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,C=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[f]=D[l]=D[E]=D[p]=D[S]=D[h]=D[d]=D[y]=D[v]=D[b]=D[g]=D[m]=D[j]=D[w]=D["[object WeakMap]"]=!1;var x="object"==typeof t&&t&&t.Object===Object&&t,F="object"==typeof self&&self&&self.Object===Object&&self,I=x||F||Function("return this")(),M="object"==typeof e&&e&&!e.nodeType&&e,L=M&&"object"==typeof n&&n&&!n.nodeType&&n,N=L&&L.exports===M&&x.process,U=function(){try{return N&&N.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function B(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function V(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function H(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Q,G,Y,K=Array.prototype,J=Function.prototype,X=Object.prototype,Z=I["__core-js_shared__"],tt=(Q=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",et=J.toString,nt=X.hasOwnProperty,rt=X.toString,ot=RegExp("^"+et.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=I.Symbol,ut=I.Uint8Array,at=X.propertyIsEnumerable,ct=K.splice,st=(G=Object.keys,Y=Object,function(t){return G(Y(t))}),ft=Wt(I,"DataView"),lt=Wt(I,"Map"),pt=Wt(I,"Promise"),ht=Wt(I,"Set"),dt=Wt(I,"WeakMap"),yt=Wt(Object,"create"),_t=Zt(ft),vt=Zt(lt),bt=Zt(pt),gt=Zt(ht),mt=Zt(dt),jt=it?it.prototype:void 0,wt=jt?jt.valueOf:void 0,Ot=jt?jt.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.__data__=new At;++e<n;)this.add(t[e])}function kt(t){this.__data__=new St(t)}function Rt(t,e){var n=re(t)||ne(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!nt.call(t,i)||o&&("length"==i||Qt(i,r))||n.push(i);return n}function Pt(t,e){for(var n=t.length;n--;)if(ee(t[n][0],e))return n;return-1}Et.prototype.clear=function(){this.__data__=yt?yt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===i?void 0:n}return nt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:nt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=Pt(e,t);return!(n<0||(n==e.length-1?e.pop():ct.call(e,n,1),0))},St.prototype.get=function(t){var e=this.__data__,n=Pt(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Pt(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Pt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Et,map:new(lt||St),string:new Et}},At.prototype.delete=function(t){return Ht(this,t).delete(t)},At.prototype.get=function(t){return Ht(this,t).get(t)},At.prototype.has=function(t){return Ht(this,t).has(t)},At.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,i),this},Tt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.clear=function(){this.__data__=new St},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var o=n.__data__;if(!lt||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new At(o)}return n.set(t,e),this};var Ct,$t,Dt=(Ct=function(t,e){return t&&Ft(t,e,le)},function(t,e){if(null==t)return t;if(!oe(t))return Ct(t,e);for(var n=t.length,r=$t?n:-1,o=Object(t);($t?r--:++r<n)&&!1!==e(o[r],r,o););return t});function xt(t,e){var n=!0;return Dt(t,function(t,r,o){return n=!!e(t,r,o)}),n}var Ft=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}();function It(t,e){for(var n=0,r=(e=Gt(e,t)?[e]:Bt(e)).length;null!=t&&n<r;)t=t[Xt(e[n++])];return n&&n==r?t:void 0}function Mt(t,e){return null!=t&&e in Object(t)}function Lt(t,e,n,r,o){return t===e||(null==t||null==e||!ae(t)&&!ce(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var c=re(t),s=re(e),y=l,_=l;c||(y=(y=qt(t))==f?g:y);s||(_=(_=qt(e))==f?g:_);var A=y==g&&!H(t),T=_==g&&!H(e),k=y==_;if(k&&!A)return i||(i=new kt),c||fe(t)?Vt(t,e,n,r,o,i):function(t,e,n,r,o,i,c){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!r(new ut(t),new ut(e)));case p:case h:case b:return ee(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case w:return t==e+"";case v:var s=W;case j:var f=i&a;if(s||(s=q),t.size!=e.size&&!f)return!1;var l=c.get(t);if(l)return l==e;i|=u,c.set(t,e);var y=Vt(s(t),s(e),r,o,i,c);return c.delete(t),y;case O:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,y,n,r,o,i);if(!(o&a)){var R=A&&nt.call(t,"__wrapped__"),P=T&&nt.call(e,"__wrapped__");if(R||P){var C=R?t.value():t,$=P?e.value():e;return i||(i=new kt),n(C,$,r,o,i)}}if(!k)return!1;return i||(i=new kt),function(t,e,n,r,o,i){var u=o&a,c=le(t),s=c.length,f=le(e).length;if(s!=f&&!u)return!1;for(var l=s;l--;){var p=c[l];if(!(u?p in e:nt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<s;){p=c[l];var _=t[p],v=e[p];if(r)var b=u?r(v,_,p,e,t,i):r(_,v,p,t,e,i);if(!(void 0===b?_===v||n(_,v,r,o,i):b)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Lt,n,r,o))}function Nt(t){return!(!ae(t)||tt&&tt in t)&&(ie(t)||H(t)?ot:C).test(Zt(t))}function Ut(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?re(t)?function(t,e){if(Gt(t)&&Yt(e))return Kt(Xt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:It(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Gt(e,t)?[e]:Bt(e)).length;for(;++o<i;){var u=Xt(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;return!!(i=t?t.length:0)&&ue(i)&&Qt(u,i)&&(re(t)||ne(t))}(t,e,Mt)}(n,t):Lt(e,r,void 0,u|a)}}(t[0],t[1]):function(t){var e=function(t){var e=le(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Yt(o)]}return e}(t);if(1==e.length&&e[0][2])return Kt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,c=!r;if(null==t)return!i;for(t=Object(t);o--;){var s=n[o];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var f=(s=n[o])[0],l=t[f],p=s[1];if(c&&s[2]){if(void 0===l&&!(f in t))return!1}else{var h=new kt;if(r)var d=r(l,p,f,t,e,h);if(!(void 0===d?Lt(p,l,r,u|a,h):d))return!1}}return!0}(n,t,e)}}(t):Gt(e=t)?(n=Xt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return It(e,t)}}(e);var e,n}function zt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||X,e!==r)return st(t);var e,n,r,o=[];for(var i in Object(t))nt.call(t,i)&&"constructor"!=i&&o.push(i);return o}function Bt(t){return re(t)?t:Jt(t)}function Vt(t,e,n,r,o,i){var c=o&a,s=t.length,f=e.length;if(s!=f&&!(c&&f>s))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,h=!0,d=o&u?new Tt:void 0;for(i.set(t,e),i.set(e,t);++p<s;){var y=t[p],_=e[p];if(r)var v=c?r(_,y,p,e,t,i):r(y,_,p,t,e,i);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!V(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(y!==_&&!n(y,_,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Ht(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Wt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Nt(n)?n:void 0}var qt=function(t){return rt.call(t)};function Qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function Gt(t,e){if(re(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!se(t))||(T.test(t)||!A.test(t)||null!=e&&t in Object(e))}function Yt(t){return t==t&&!ae(t)}function Kt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ft&&qt(new ft(new ArrayBuffer(1)))!=S||lt&&qt(new lt)!=v||pt&&"[object Promise]"!=qt(pt.resolve())||ht&&qt(new ht)!=j||dt&&"[object WeakMap]"!=qt(new dt))&&(qt=function(t){var e=rt.call(t),n=e==g?t.constructor:void 0,r=n?Zt(n):void 0;if(r)switch(r){case _t:return S;case vt:return v;case bt:return"[object Promise]";case gt:return j;case mt:return"[object WeakMap]"}return e});var Jt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(se(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}(e);var n=[];return k.test(t)&&n.push(""),t.replace(R,function(t,e,r,o){n.push(r?o.replace(P,"$1"):e||t)}),n});function Xt(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function Zt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(te.Cache||At),n}function ee(t,e){return t===e||t!=t&&e!=e}function ne(t){return function(t){return ce(t)&&oe(t)}(t)&&nt.call(t,"callee")&&(!at.call(t,"callee")||rt.call(t)==f)}te.Cache=At;var re=Array.isArray;function oe(t){return null!=t&&ue(t.length)&&!ie(t)}function ie(t){var e=ae(t)?rt.call(t):"";return e==y||e==_}function ue(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function ae(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ce(t){return!!t&&"object"==typeof t}function se(t){return"symbol"==typeof t||ce(t)&&rt.call(t)==O}var fe=z?function(t){return function(e){return t(e)}}(z):function(t){return ce(t)&&ue(t.length)&&!!D[rt.call(t)]};function le(t){return oe(t)?Rt(t):zt(t)}function pe(t){return t}n.exports=function(t,e,n){var r=re(t)?B:xt;return n&&function(t,e,n){if(!ae(n))return!1;var r=typeof e;return!!("number"==r?oe(n)&&Qt(e,n.length):"string"==r&&e in n)&&ee(n[e],t)}(t,e,n)&&(e=void 0),r(t,Ut(e))}}).call(this,n(0),n(1)(t))},function(t,e,n){(function(e){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,i=9007199254740991,u="[object Arguments]",a="[object Function]",c="[object GeneratorFunction]",s="[object Symbol]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,p=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,v="object"==typeof e&&e&&e.Object===Object&&e,b="object"==typeof self&&self&&self.Object===Object&&self,g=v||b||Function("return this")();var m,j=Array.prototype,w=Function.prototype,O=Object.prototype,E=g["__core-js_shared__"],S=(m=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",A=w.toString,T=O.hasOwnProperty,k=O.toString,R=RegExp("^"+A.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=g.Symbol,C=O.propertyIsEnumerable,$=j.splice,D=H(g,"Map"),x=H(Object,"create"),F=P?P.prototype:void 0,I=F?F.toString:void 0;function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function L(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function U(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function z(t,e){return null!=t&&T.call(t,e)}function B(t){return!(!X(t)||S&&S in t)&&(K(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?R:y).test(function(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function V(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function H(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return B(n)?n:void 0}function W(t,e,n){for(var r,o,a=-1,c=(e=function(t,e){if(Y(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||tt(t))return!0;return l.test(t)||!f.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:Y(r=e)?r:q(r)).length;++a<c;){var s=Q(e[a]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||!!(c=t?t.length:0)&&J(c)&&function(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||_.test(t))&&t>-1&&t%1==0&&t<e}(s,c)&&(Y(t)||function(t){return function(t){return Z(t)&&function(t){return null!=t&&J(t.length)&&!K(t)}(t)}(t)&&T.call(t,"callee")&&(!C.call(t,"callee")||k.call(t)==u)}(t))}M.prototype.clear=function(){this.__data__=x?x(null):{}},M.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},M.prototype.get=function(t){var e=this.__data__;if(x){var n=e[t];return n===r?void 0:n}return T.call(e,t)?e[t]:void 0},M.prototype.has=function(t){var e=this.__data__;return x?void 0!==e[t]:T.call(e,t)},M.prototype.set=function(t,e){return this.__data__[t]=x&&void 0===e?r:e,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(t){var e=this.__data__,n=U(e,t);return!(n<0||(n==e.length-1?e.pop():$.call(e,n,1),0))},L.prototype.get=function(t){var e=this.__data__,n=U(e,t);return n<0?void 0:e[n][1]},L.prototype.has=function(t){return U(this.__data__,t)>-1},L.prototype.set=function(t,e){var n=this.__data__,r=U(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},N.prototype.clear=function(){this.__data__={hash:new M,map:new(D||L),string:new M}},N.prototype.delete=function(t){return V(this,t).delete(t)},N.prototype.get=function(t){return V(this,t).get(t)},N.prototype.has=function(t){return V(this,t).has(t)},N.prototype.set=function(t,e){return V(this,t).set(t,e),this};var q=G(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(tt(t))return I?I.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return p.test(t)&&n.push(""),t.replace(h,function(t,e,r,o){n.push(r?o.replace(d,"$1"):e||t)}),n});function Q(t){if("string"==typeof t||tt(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function G(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u),u};return r.cache=new(G.Cache||N),r}G.Cache=N;var Y=Array.isArray;function K(t){var e=X(t)?k.call(t):"";return e==a||e==c}function J(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function X(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Z(t){return!!t&&"object"==typeof t}function tt(t){return"symbol"==typeof t||Z(t)&&k.call(t)==s}t.exports=function(t,e){return null!=t&&W(t,e,z)}}).call(this,n(0))},function(t,e){t.exports=function(t){return t?t[0]:void 0}},function(t,e,n){(function(e){var n,r=9007199254740991,o="[object Function]",i="[object GeneratorFunction]",u="[object Map]",a="[object Set]",c="[object String]",s=/^\[object .+?Constructor\]$/,f="[\\ud800-\\udfff]",l="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",p="\\ud83c[\\udffb-\\udfff]",h="[^\\ud800-\\udfff]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="(?:"+l+"|"+p+")"+"?",v="[\\ufe0e\\ufe0f]?"+_+("(?:\\u200d(?:"+[h,d,y].join("|")+")[\\ufe0e\\ufe0f]?"+_+")*"),b="(?:"+[h+l+"?",l,d,y,f].join("|")+")",g=RegExp(p+"(?="+p+")|"+b+v,"g"),m=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),j="object"==typeof e&&e&&e.Object===Object&&e,w="object"==typeof self&&self&&self.Object===Object&&self,O=j||w||Function("return this")(),E=(n="length",function(t){return null==t?void 0:t[n]});function S(t){return function(t){return m.test(t)}(t)?function(t){var e=g.lastIndex=0;for(;g.test(t);)e++;return e}(t):E(t)}var A,T,k,R=Function.prototype,P=Object.prototype,C=O["__core-js_shared__"],$=(A=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",D=R.toString,x=P.hasOwnProperty,F=P.toString,I=RegExp("^"+D.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=(T=Object.keys,k=Object,function(t){return T(k(t))}),L=K(O,"DataView"),N=K(O,"Map"),U=K(O,"Promise"),z=K(O,"Set"),B=K(O,"WeakMap"),V=X(L),H=X(N),W=X(U),q=X(z),Q=X(B);function G(t){return!(!et(t)||$&&$ in t)&&(tt(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?I:s).test(X(t))}function Y(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||P,e!==r)return M(t);var e,n,r,o=[];for(var i in Object(t))x.call(t,i)&&"constructor"!=i&&o.push(i);return o}function K(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return G(n)?n:void 0}var J=function(t){return F.call(t)};function X(t){if(null!=t){try{return D.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(L&&"[object DataView]"!=J(new L(new ArrayBuffer(1)))||N&&J(new N)!=u||U&&"[object Promise]"!=J(U.resolve())||z&&J(new z)!=a||B&&"[object WeakMap]"!=J(new B))&&(J=function(t){var e=F.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?X(n):void 0;if(r)switch(r){case V:return"[object DataView]";case H:return u;case W:return"[object Promise]";case q:return a;case Q:return"[object WeakMap]"}return e});var Z=Array.isArray;function tt(t){var e=et(t)?F.call(t):"";return e==o||e==i}function et(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t){if(null==t)return 0;if(null!=(e=t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(e.length)&&!tt(e))return function(t){return"string"==typeof t||!Z(t)&&function(t){return!!t&&"object"==typeof t}(t)&&F.call(t)==c}(t)?S(t):t.length;var e,n=J(t);return n==u||n==a?t.size:Y(t).length}}).call(this,n(0))},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5),o=n(6),i=n(13),u=n(31),a=n(30),c=n(21),s=n(10),f=n(18),l=n(29),p=n(19),h=n(9),d=n(4),y=n(28),_=n(27),v=n(8),b=n(26),g=n(2),m=n(25),j=n(3),w=n(17);function O(t){if(o(t))return"'select' clause couldn't be empty"}function E(t){return i(t)&&!u(t)}function S(t){return b(t)||E(t)&&1===a(t)&&j.AVAILABLE_ORDER_BY_CLAUSE_VALUES.has(l(c(t)))}function A(t){return d(t,"joinID",!1)?`join.${t.joinID}.`:""}function T(t,e){if(!u(e)&&!o(e))return`'select.value' clause for '${t}' queries should be array of strings or empty`}function k(t,e,n){if(!i(t)||!u(e))return"'select' clause must have next structure: { key: [...], value: [...] }"}function R(t,e){if(!u(e)||1!==a(e))return`'select.key' clause for '${t}' queries must have only 1 item`}e.validateQueryStructure=function(t,e={}){return new Promise((n,c)=>{const l=[...function(t,e){const n=[],r=d(t,"dataset"),i=d(t,"branch"),u=d(t,"commit");return o(r)||b(r)||n.push("'dataset' clause must be string only"),o(i)||b(i)||n.push("'branch' clause must be string only"),o(u)||b(u)||n.push("'commit' clause must be string only"),n}(t),...function(t,e){const n=[],r=d(t,"from",null);if(o(r)&&n.push("'from' clause couldn't be empty"),b(r)||n.push("'from' clause must be string only"),!j.AVAILABLE_FROM_CLAUSE_VALUES.has(r)){const t=[...j.AVAILABLE_FROM_CLAUSE_VALUES];n.push(`'from' clause must be one of the list: ${t.join(", ")}`)}return n}(t),...function(t,e){const n=[],r=d(t,"select",null),o=d(t,"from",null),c=d(r,"key"),s=d(r,"value");switch(!0){case j.isSchemaQuery(t):n.push(O(r),function(t,e){if(!u(e)||2!==a(e))return`'select.key' clause for '${t}' queries must have exactly 2 items: 'key', 'value'`}(o,c),T(o,s));break;case j.isEntitiesQuery(t):case j.isConceptsQuery(t):n.push(O(r),k(r,c,s),R(o,c),T(o,s));break;case j.isDatapointsQuery(t):n.push(O(r),function(t,e,n){if(!i(t)||!u(e)||!u(n))return"'select' clause must have next structure: { key: [...], value: [...] }"}(r,c,s),function(t,e){if(a(e)<2)return`'select.key' clause for '${t}' queries must have at least 2 items`}(o,c),function(t,e){const n=p(e,(t,e,n)=>g(n,t,e+1));if(a(n)>0)return`'select.key' clause for '${t}' queries contains duplicates: ${m(n).join(",")}`}(o,c),function(t,e){if(a(e)<1)return`'select.value' clause for '${t}' queries must have at least 1 item`}(o,s));break;default:n.push(O(r))}return v(n)}(t),...function(t,e){const n=[],i=d(t,"join",null),u=d(t,"where",null),a=function t(e){const n=[];for(const r in e)h(r,"$")&&n.push({name:r,isLeaf:!1}),w.isPrimitive(e[r])?h(e[r],"$")&&n.push({name:e[r],isLeaf:!0}):n.push(...t(e[r]));return n}(u);return n.push(function(t,e){if(!o(t)&&!E(t))return`'${e}where' clause must be object only`}(u,A(e)),function(t,e,n){const o=p(e,e=>!function(t,e){return function(t){return!t.isLeaf&&j.AVAILABLE_QUERY_OPERATORS.has(t.name)}(e)||function(t,e){return e.isLeaf&&h(e.name,"$")&&y(t,e.name)}(t,e)}(t,e)).map(t=>t.name),i=[...j.AVAILABLE_QUERY_OPERATORS.values(),...s(t)];if(!r(o))return`'${n}where' clause has unknown operator(s) '${o.join(", ")}', replace it with allowed operators: ${i.join(", ")}`}(i,a,A(e))),v(n)}(t,e),...function(t,e){const n=[],r=d(t,"language",null);switch(!0){case j.isSchemaQuery(t):n.push(function(t){if(y(t,"language"))return"'language' clause for '*.schema' queries shouldn't be present in query"}(t));break;case j.isEntitiesQuery(t):case j.isConceptsQuery(t):case j.isDatapointsQuery(t):default:n.push(function(t){if(!o(t)&&!b(t))return"'language' clause must be string only"}(r))}return v(n)}(t),...function(t,e){const n=[],r=d(t,"join",null);switch(!0){case j.isSchemaQuery(t):case j.isConceptsQuery(t):n.push(function(t){if(y(t,"join"))return`'join' clause for '${t.from}' queries shouldn't be present in query`}(t));break;case j.isEntitiesQuery(t):case j.isDatapointsQuery(t):default:n.push(function(t){if(!o(t)&&!E(t))return"'join' clause must be object only"}(r),...f(r,(t,e)=>(function(t,e){if(!o(t.key)&&!b(t.key))return`'${e}key' clause must be string only`})(t,A({joinID:e}))))}return v(n)}(t),...function(t,e){const n=[],r=d(t,"order_by",null);return n.push(function(t){if(!(o(t)||b(t)||(e=t,u(e)&&_(e,b))||function(t,e){return u(t)&&_(t,e)}(t,S)))return"'order_by' clause must be string or array of strings || objects only";var e}(r)),v(n)}(t)];return r(l)?n():c(`Too many query structure errors: \n* ${l.join("\n* ")}`)})}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",u=1,a=2,c=1/0,s=9007199254740991,f="[object Arguments]",l="[object Array]",p="[object Boolean]",h="[object Date]",d="[object Error]",y="[object Function]",_="[object GeneratorFunction]",v="[object Map]",b="[object Number]",g="[object Object]",m="[object RegExp]",j="[object Set]",w="[object String]",O="[object Symbol]",E="[object ArrayBuffer]",S="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,k=/^\./,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,C=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[f]=D[l]=D[E]=D[p]=D[S]=D[h]=D[d]=D[y]=D[v]=D[b]=D[g]=D[m]=D[j]=D[w]=D["[object WeakMap]"]=!1;var x="object"==typeof t&&t&&t.Object===Object&&t,F="object"==typeof self&&self&&self.Object===Object&&self,I=x||F||Function("return this")(),M="object"==typeof e&&e&&!e.nodeType&&e,L=M&&"object"==typeof n&&n&&!n.nodeType&&n,N=L&&L.exports===M&&x.process,U=function(){try{return N&&N.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function B(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function V(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function H(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var G,Y,K,J=Array.prototype,X=Function.prototype,Z=Object.prototype,tt=I["__core-js_shared__"],et=(G=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",nt=X.toString,rt=Z.hasOwnProperty,ot=Z.toString,it=RegExp("^"+nt.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=I.Symbol,at=I.Uint8Array,ct=Z.propertyIsEnumerable,st=J.splice,ft=ut?ut.isConcatSpreadable:void 0,lt=(Y=Object.keys,K=Object,function(t){return Y(K(t))}),pt=Qt(I,"DataView"),ht=Qt(I,"Map"),dt=Qt(I,"Promise"),yt=Qt(I,"Set"),_t=Qt(I,"WeakMap"),vt=Qt(Object,"create"),bt=ne(pt),gt=ne(ht),mt=ne(dt),jt=ne(yt),wt=ne(_t),Ot=ut?ut.prototype:void 0,Et=Ot?Ot.valueOf:void 0,St=Ot?Ot.toString:void 0;function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.__data__=new kt;++e<n;)this.add(t[e])}function Pt(t){this.__data__=new Tt(t)}function Ct(t,e){var n=ue(t)||ie(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!rt.call(t,i)||o&&("length"==i||Kt(i,r))||n.push(i);return n}function $t(t,e){for(var n=t.length;n--;)if(oe(t[n][0],e))return n;return-1}At.prototype.clear=function(){this.__data__=vt?vt(null):{}},At.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},At.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===i?void 0:n}return rt.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:rt.call(e,t)},At.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?i:e,this},Tt.prototype.clear=function(){this.__data__=[]},Tt.prototype.delete=function(t){var e=this.__data__,n=$t(e,t);return!(n<0||(n==e.length-1?e.pop():st.call(e,n,1),0))},Tt.prototype.get=function(t){var e=this.__data__,n=$t(e,t);return n<0?void 0:e[n][1]},Tt.prototype.has=function(t){return $t(this.__data__,t)>-1},Tt.prototype.set=function(t,e){var n=this.__data__,r=$t(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new At,map:new(ht||Tt),string:new At}},kt.prototype.delete=function(t){return qt(this,t).delete(t)},kt.prototype.get=function(t){return qt(this,t).get(t)},kt.prototype.has=function(t){return qt(this,t).has(t)},kt.prototype.set=function(t,e){return qt(this,t).set(t,e),this},Rt.prototype.add=Rt.prototype.push=function(t){return this.__data__.set(t,i),this},Rt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.clear=function(){this.__data__=new Tt},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Tt){var o=n.__data__;if(!ht||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new kt(o)}return n.set(t,e),this};var Dt,xt,Ft=(Dt=function(t,e){return t&&It(t,e,de)},function(t,e){if(null==t)return t;if(!ae(t))return Dt(t,e);for(var n=t.length,r=xt?n:-1,o=Object(t);(xt?r--:++r<n)&&!1!==e(o[r],r,o););return t});var It=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}();function Mt(t,e){for(var n=0,r=(e=Jt(e,t)?[e]:Ht(e)).length;null!=t&&n<r;)t=t[ee(e[n++])];return n&&n==r?t:void 0}function Lt(t,e){return null!=t&&e in Object(t)}function Nt(t,e,n,r,o){return t===e||(null==t||null==e||!fe(t)&&!le(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var c=ue(t),s=ue(e),y=l,_=l;c||(y=(y=Gt(t))==f?g:y);s||(_=(_=Gt(e))==f?g:_);var A=y==g&&!W(t),T=_==g&&!W(e),k=y==_;if(k&&!A)return i||(i=new Pt),c||he(t)?Wt(t,e,n,r,o,i):function(t,e,n,r,o,i,c){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!r(new at(t),new at(e)));case p:case h:case b:return oe(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case w:return t==e+"";case v:var s=q;case j:var f=i&a;if(s||(s=Q),t.size!=e.size&&!f)return!1;var l=c.get(t);if(l)return l==e;i|=u,c.set(t,e);var y=Wt(s(t),s(e),r,o,i,c);return c.delete(t),y;case O:if(Et)return Et.call(t)==Et.call(e)}return!1}(t,e,y,n,r,o,i);if(!(o&a)){var R=A&&rt.call(t,"__wrapped__"),P=T&&rt.call(e,"__wrapped__");if(R||P){var C=R?t.value():t,$=P?e.value():e;return i||(i=new Pt),n(C,$,r,o,i)}}if(!k)return!1;return i||(i=new Pt),function(t,e,n,r,o,i){var u=o&a,c=de(t),s=c.length,f=de(e).length;if(s!=f&&!u)return!1;for(var l=s;l--;){var p=c[l];if(!(u?p in e:rt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<s;){p=c[l];var _=t[p],v=e[p];if(r)var b=u?r(v,_,p,e,t,i):r(_,v,p,t,e,i);if(!(void 0===b?_===v||n(_,v,r,o,i):b)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Nt,n,r,o))}function Ut(t){return!(!fe(t)||et&&et in t)&&(ce(t)||W(t)?it:C).test(ne(t))}function zt(t){return"function"==typeof t?t:null==t?ye:"object"==typeof t?ue(t)?function(t,e){if(Jt(t)&&Xt(e))return Zt(ee(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Mt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Jt(e,t)?[e]:Ht(e)).length;for(;++o<i;){var u=ee(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;return!!(i=t?t.length:0)&&se(i)&&Kt(u,i)&&(ue(t)||ie(t))}(t,e,Lt)}(n,t):Nt(e,r,void 0,u|a)}}(t[0],t[1]):function(t){var e=function(t){var e=de(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Xt(o)]}return e}(t);if(1==e.length&&e[0][2])return Zt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,c=!r;if(null==t)return!i;for(t=Object(t);o--;){var s=n[o];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var f=(s=n[o])[0],l=t[f],p=s[1];if(c&&s[2]){if(void 0===l&&!(f in t))return!1}else{var h=new Pt;if(r)var d=r(l,p,f,t,e,h);if(!(void 0===d?Nt(p,l,r,u|a,h):d))return!1}}return!0}(n,t,e)}}(t):Jt(e=t)?(n=ee(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Mt(e,t)}}(e);var e,n}function Bt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||Z,e!==r)return lt(t);var e,n,r,o=[];for(var i in Object(t))rt.call(t,i)&&"constructor"!=i&&o.push(i);return o}function Vt(t,e){var n=-1,r=ae(t)?Array(t.length):[];return Ft(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function Ht(t){return ue(t)?t:te(t)}function Wt(t,e,n,r,o,i){var c=o&a,s=t.length,f=e.length;if(s!=f&&!(c&&f>s))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,h=!0,d=o&u?new Rt:void 0;for(i.set(t,e),i.set(e,t);++p<s;){var y=t[p],_=e[p];if(r)var v=c?r(_,y,p,e,t,i):r(y,_,p,t,e,i);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!H(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(y!==_&&!n(y,_,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function qt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Qt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ut(n)?n:void 0}var Gt=function(t){return ot.call(t)};function Yt(t){return ue(t)||ie(t)||!!(ft&&t&&t[ft])}function Kt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||$.test(t))&&t>-1&&t%1==0&&t<e}function Jt(t,e){if(ue(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!pe(t))||(T.test(t)||!A.test(t)||null!=e&&t in Object(e))}function Xt(t){return t==t&&!fe(t)}function Zt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(pt&&Gt(new pt(new ArrayBuffer(1)))!=S||ht&&Gt(new ht)!=v||dt&&"[object Promise]"!=Gt(dt.resolve())||yt&&Gt(new yt)!=j||_t&&"[object WeakMap]"!=Gt(new _t))&&(Gt=function(t){var e=ot.call(t),n=e==g?t.constructor:void 0,r=n?ne(n):void 0;if(r)switch(r){case bt:return S;case gt:return v;case mt:return"[object Promise]";case jt:return j;case wt:return"[object WeakMap]"}return e});var te=re(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(pe(t))return St?St.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}(e);var n=[];return k.test(t)&&n.push(""),t.replace(R,function(t,e,r,o){n.push(r?o.replace(P,"$1"):e||t)}),n});function ee(t){if("string"==typeof t||pe(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function ne(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function re(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(re.Cache||kt),n}function oe(t,e){return t===e||t!=t&&e!=e}function ie(t){return function(t){return le(t)&&ae(t)}(t)&&rt.call(t,"callee")&&(!ct.call(t,"callee")||ot.call(t)==f)}re.Cache=kt;var ue=Array.isArray;function ae(t){return null!=t&&se(t.length)&&!ce(t)}function ce(t){var e=fe(t)?ot.call(t):"";return e==y||e==_}function se(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function fe(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function le(t){return!!t&&"object"==typeof t}function pe(t){return"symbol"==typeof t||le(t)&&ot.call(t)==O}var he=z?function(t){return function(e){return t(e)}}(z):function(t){return le(t)&&se(t.length)&&!!D[ot.call(t)]};function de(t){return ae(t)?Ct(t):Bt(t)}function ye(t){return t}n.exports=function(t,e){return function t(e,n,r,o,i){var u=-1,a=e.length;for(r||(r=Yt),i||(i=[]);++u<a;){var c=e[u];n>0&&r(c)?n>1?t(c,n-1,r,o,i):V(i,c):o||(i[i.length]=c)}return i}(function(t,e){return(ue(t)?B:Vt)(t,zt(e))}(t,e),1)}}).call(this,n(0),n(1)(t))},function(t,e,n){(function(e){var n=1/0,r="[object Symbol]",o=/^\s+/,i="[\\ud800-\\udfff]",u="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",a="\\ud83c[\\udffb-\\udfff]",c="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+u+"|"+a+")"+"?",p="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[c,s,f].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),h="(?:"+[c+u+"?",u,s,f,i].join("|")+")",d=RegExp(a+"(?="+a+")|"+h+p,"g"),y=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),_="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,b=_||v||Function("return this")();function g(t,e,n){if(e!=e)return function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,m,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function m(t){return t!=t}function j(t){return function(t){return y.test(t)}(t)?function(t){return t.match(d)||[]}(t):function(t){return t.split("")}(t)}var w=Object.prototype.toString,O=b.Symbol,E=O?O.prototype:void 0,S=E?E.toString:void 0;function A(t){if("string"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&w.call(t)==r}(t))return S?S.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}function T(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}(t,e,n)}t.exports=function(t,e,n){var r;if((t=null==(r=t)?"":A(r))&&(n||void 0===e))return t.replace(o,"");if(!t||!(e=A(e)))return t;var i=j(t);return T(i,function(t,e){for(var n=-1,r=t.length;++n<r&&g(e,t[n],0)>-1;);return n}(i,j(e))).join("")}}).call(this,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5),o=n(19),i=n(18),u=n(4),a=n(8),c=n(2),s=n(9),f=n(6),l=n(36),p=(n(35),n(3)),h=n(17);function d(t,e){return o(t,t=>!c(e,t))}function y(t,e){const n=o([...e.values()],({concept_type:e})=>c(t,e));return i(n,"concept")}e.validateQueryDefinitions=function(t,e={}){return new Promise((n,o)=>{const i=[...function(t,e){const n=[],o=u(t,"from",null),i=u(t,"select",null),c=u(i,"key"),s=u(i,"value"),f=[],l=[],{conceptsLookup:h}=e;switch(!0){case p.isDatapointsQuery(t):const e=[p.CONCEPT_TYPE_ENTITY_SET,p.CONCEPT_TYPE_ENTITY_DOMAIN,p.CONCEPT_TYPE_TIME];f.push(...y(e,h)),l.push(...h.keys());break;case p.isEntitiesQuery(t):const n=[p.CONCEPT_TYPE_ENTITY_SET,p.CONCEPT_TYPE_ENTITY_DOMAIN];f.push(...y(n,h)),l.push(...h.keys());break;case p.isConceptsQuery(t):f.push(p.RESERVED_CONCEPT),l.push(...h.keys(),p.RESERVED_CONCEPT,p.RESERVED_CONCEPT_TYPE,p.RESERVED_DOMAIN,p.RESERVED_UNIT,p.RESERVED_DRILL_UP);break;default:f.push(p.RESERVED_KEY,p.RESERVED_VALUE),l.push(p.RESERVED_KEY,p.RESERVED_VALUE)}return n.push(function(t,e,n){const o=d(e,n);if(!r(o))return`'select.key' clause for '${t}' query contains unavailable item(s): ${o.join(", ")}`}(o,c,f),function(t,e,n){const o=d(e,n);if(!r(e)&&!r(o))return`'select.value' clause for '${t}' query contains unavailable item(s): ${o.join(", ")}`}(o,s,l)),a(n)}(t,e),...function(t,e){const n=[],o=u(t,"where",null),i=(u(t,"from",null),u(t,"select",null)),{conceptsLookup:c}=e;switch(u(i,"key"),u(i,"value"),function(t){const e={};!function t(e,n,o){for(const i in e){const u=!f(o),a=!u&&!s(i,"$")&&isNaN(+i),[c,...p]=i.split(".");a&&(f(n[c])&&(n[l(c,"is--")]=[]),r(p)||n[c].push(l(p.join("."),"is--"))),h.isPrimitive(e[i])||t(e[i],n,a?c:o)}}(t,e)}(o),!0){case p.isDatapointsQuery(t):const e=[];e.push(p.CONCEPT_TYPE_ENTITY_SET,p.CONCEPT_TYPE_ENTITY_DOMAIN,p.CONCEPT_TYPE_TIME),n.push()}return a(n)}(t,e)];return r(i)?n():o(`Too many query definition errors [repo: ${t.dataset}]: \n* ${i.join("\n* ")}`)})}},function(t,e,n){(function(e){var n=1/0,r=9007199254740991,o="[object Arguments]",i="[object Function]",u="[object GeneratorFunction]",a="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,s=a||c||Function("return this")();function f(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var l=Object.prototype,p=l.hasOwnProperty,h=l.toString,d=s.Symbol,y=l.propertyIsEnumerable,_=d?d.isConcatSpreadable:void 0;function v(t){return b(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==i||e==u}(t)}(t)}(t)&&p.call(t,"callee")&&(!y.call(t,"callee")||h.call(t)==o)}(t)||!!(_&&t&&t[_])}var b=Array.isArray;t.exports=function(t){return t&&t.length?function t(e,n,r,o,i){var u=-1,a=e.length;for(r||(r=v),i||(i=[]);++u<a;){var c=e[u];n>0&&r(c)?n>1?t(c,n-1,r,o,i):f(i,c):o||(i[i.length]=c)}return i}(t,n):[]}}).call(this,n(0))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var u=o>=0?arguments[o]:t.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(e=u+"/"+e,r="/"===u.charAt(0))}return e=n(i(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),o="/"===u(t,-1);return(t=n(i(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),u=Math.min(o.length,i.length),a=u,c=0;c<u;c++)if(o[c]!==i[c]){a=c;break}var s=[];for(c=a;c<o.length;c++)s.push("..");return(s=s.concat(i.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var u="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(12))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(39),o=n(11),i=n(21),u=n(10),a=n(4),c=n(38),s=n(5),f=n(9),l=n(2),p=n(8),h=n(14),d=n(7),y=n(15),_="where",v="join",b="$in",g="$and",m=t=>o(i(t)),j=t=>o(u(t)),w=t=>1===u(t).length;e.InClauseUnderConjunction=class{constructor(t,e){this.flow={},this.fileReader=e.fileReader,this.datasetPath=e.datasetPath,this.query=t,this.datapackage=e.datapackage,this.conceptsLookup=e.conceptsLookup}isMatched(){this.flow.joinObject=a(this.query,v);const t=p(d.featureDetectors.map(t=>t(this.query,this.conceptsLookup)));return l(t,d.QueryFeature.WhereClauseBasedOnConjunction)&&l(t,d.QueryFeature.ConjunctionPartFromWhereClauseCorrespondsToJoin)}async getRecommendedFilesSet(){if(this.isMatched()){let t;try{this.fillResourceToFileHash(),this.collectProcessableClauses(),this.collectEntityFilesNames();const e=await this.collectEntities();this.fillEntityValuesHash(e),this.getFilesGroupsQueryClause(),t=this.getOptimalFilesGroup()}catch(t){return[]}return t}throw new h.DdfCsvError('Plugin "InClauseUnderConjunction" is not matched!',"InClauseUnderConjunction plugin")}fillResourceToFileHash(){return this.flow.resourceToFile=a(this.datapackage,"resources",[]).reduce((t,e)=>(t.set(e.name,e.path),t),new Map),this}collectProcessableClauses(){const t=u(this.flow.joinObject);this.flow.processableClauses=[];for(const e of t){const t=a(this.flow.joinObject,`${e}.${_}`,{});this.singleAndField(t)?this.flow.processableClauses.push(...c(t[g].map(t=>this.getProcessableClauses(t)))):this.flow.processableClauses.push(...this.getProcessableClauses(t))}return this}collectEntityFilesNames(){this.flow.entityFilesNames=[],this.flow.fileNameToPrimaryKeyHash=new Map;for(const t of this.datapackage.ddfSchema.entities)for(const e of this.flow.processableClauses){const n=j(e);if(o(t.primaryKey)===n)for(const e of t.resources){const t=this.flow.resourceToFile.get(e);this.flow.entityFilesNames.push(t),this.flow.fileNameToPrimaryKeyHash.set(t,n)}}return this}collectEntities(){const t=this,e=t.flow.entityFilesNames.map(e=>new Promise((n,o)=>{t.fileReader.readText(r.resolve(t.datasetPath,e),(t,r)=>{if(t)return o(t);y.parse(r,{header:!0,skipEmptyLines:!0,complete:t=>n({file:e,result:t}),error:t=>o(t)})})}));return Promise.all(e)}fillEntityValuesHash(t){const e=t=>p(u(t).filter(e=>f(e,"is--")&&("TRUE"===t[e]||"true"===t[e])).map(t=>t.replace(/^is--/,"")));this.flow.entityValueToFileHash=new Map,this.flow.entityValueToDomainHash=new Map;for(const n of t)for(const t of n.result.data){const r=this.flow.fileNameToPrimaryKeyHash.get(n.file),o=t[r],i=[...e(t)];s(i)&&i.push(r),this.flow.entityValueToDomainHash.set(o,i),this.flow.entityValueToFileHash.set(o,n.file)}return this}getFilesGroupsQueryClause(){const t=new Map;for(const e of this.flow.processableClauses){const n={entities:new Set,datapoints:new Set,concepts:new Set},r=m(e).$in;for(const t of r){n.entities.add(this.flow.entityValueToFileHash.get(t));const e=this.flow.entityValueToDomainHash.get(t);for(const t of e)for(const e of this.datapackage.ddfSchema.datapoints)for(const r of e.resources)l(e.primaryKey,t)&&n.datapoints.add(this.flow.resourceToFile.get(r))}for(const t of this.datapackage.ddfSchema.concepts)for(const e of t.resources)n.concepts.add(this.flow.resourceToFile.get(e));t.set(e,n)}return this.flow.filesGroupsByClause=t,this}getOptimalFilesGroup(){const t=this.flow.filesGroupsByClause.keys();let e,n;for(const r of t){const t=this.flow.filesGroupsByClause.get(r).datapoints.size+this.flow.filesGroupsByClause.get(r).entities.size+this.flow.filesGroupsByClause.get(r).concepts.size;(!e||t<n)&&(e=r,n=t)}return[...Array.from(this.flow.filesGroupsByClause.get(e).concepts),...Array.from(this.flow.filesGroupsByClause.get(e).entities),...Array.from(this.flow.filesGroupsByClause.get(e).datapoints)]}getProcessableClauses(t){const e=[],n=u(t);for(const r of n)!f(r,"$")&&w(t[r])&&o(u(t[r]))===b&&e.push(t);return e}singleAndField(t){return w(t)&&!!a(t,g)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(40),o=n(11);e.getAppropriatePlugin=function(t,e){const n=[new r.InClauseUnderConjunction(t,e)];return o(n.filter(t=>t.isMatched()))}},function(t,e,n){(function(t,n){var r=200,o="__lodash_hash_undefined__",i=9007199254740991,u="[object Arguments]",a="[object Boolean]",c="[object Date]",s="[object Function]",f="[object GeneratorFunction]",l="[object Map]",p="[object Number]",h="[object Object]",d="[object RegExp]",y="[object Set]",_="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",g="[object DataView]",m="[object Float32Array]",j="[object Float64Array]",w="[object Int8Array]",O="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",k="[object Uint32Array]",R=/\w*$/,P=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,$={};$[u]=$["[object Array]"]=$[b]=$[g]=$[a]=$[c]=$[m]=$[j]=$[w]=$[O]=$[E]=$[l]=$[p]=$[h]=$[d]=$[y]=$[_]=$[v]=$[S]=$[A]=$[T]=$[k]=!0,$["[object Error]"]=$[s]=$["[object WeakMap]"]=!1;var D="object"==typeof t&&t&&t.Object===Object&&t,x="object"==typeof self&&self&&self.Object===Object&&self,F=D||x||Function("return this")(),I="object"==typeof e&&e&&!e.nodeType&&e,M=I&&"object"==typeof n&&n&&!n.nodeType&&n,L=M&&M.exports===I;function N(t,e){return t.set(e[0],e[1]),t}function U(t,e){return t.add(e),t}function z(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function B(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function H(t,e){return function(n){return t(e(n))}}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var q,Q=Array.prototype,G=Function.prototype,Y=Object.prototype,K=F["__core-js_shared__"],J=(q=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",X=G.toString,Z=Y.hasOwnProperty,tt=Y.toString,et=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=L?F.Buffer:void 0,rt=F.Symbol,ot=F.Uint8Array,it=H(Object.getPrototypeOf,Object),ut=Object.create,at=Y.propertyIsEnumerable,ct=Q.splice,st=Object.getOwnPropertySymbols,ft=nt?nt.isBuffer:void 0,lt=H(Object.keys,Object),pt=Mt(F,"DataView"),ht=Mt(F,"Map"),dt=Mt(F,"Promise"),yt=Mt(F,"Set"),_t=Mt(F,"WeakMap"),vt=Mt(Object,"create"),bt=Bt(pt),gt=Bt(ht),mt=Bt(dt),jt=Bt(yt),wt=Bt(_t),Ot=rt?rt.prototype:void 0,Et=Ot?Ot.valueOf:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){this.__data__=new At(t)}function Rt(t,e){var n=Ht(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Wt(t)}(t)&&Z.call(t,"callee")&&(!at.call(t,"callee")||tt.call(t)==u)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!Z.call(t,i)||o&&("length"==i||Ut(i,r))||n.push(i);return n}function Pt(t,e,n){var r=t[e];Z.call(t,e)&&Vt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Ct(t,e){for(var n=t.length;n--;)if(Vt(t[n][0],e))return n;return-1}function $t(t,e,n,r,o,i,P){var C;if(r&&(C=i?r(t,o,i,P):r(t)),void 0!==C)return C;if(!Gt(t))return t;var D=Ht(t);if(D){if(C=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Z.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,C)}else{var x=Nt(t),F=x==s||x==f;if(qt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(x==h||x==u||F&&!i){if(B(t))return i?t:{};if(C=function(t){return"function"!=typeof t.constructor||zt(t)?{}:(e=it(t),Gt(e)?ut(e):{});var e}(F?{}:t),!e)return function(t,e){return Ft(t,Lt(t),e)}(t,function(t,e){return t&&Ft(e,Yt(e),t)}(C,t))}else{if(!$[x])return i?t:{};C=function(t,e,n,r){var o=t.constructor;switch(e){case b:return xt(t);case a:case c:return new o(+t);case g:return function(t,e){var n=e?xt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case m:case j:case w:case O:case E:case S:case A:case T:case k:return function(t,e){var n=e?xt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case l:return function(t,e,n){return z(e?n(V(t),!0):V(t),N,new t.constructor)}(t,r,n);case p:case _:return new o(t);case d:return(s=new(u=t).constructor(u.source,R.exec(u))).lastIndex=u.lastIndex,s;case y:return function(t,e,n){return z(e?n(W(t),!0):W(t),U,new t.constructor)}(t,r,n);case v:return i=t,Et?Object(Et.call(i)):{}}var i;var u,s}(t,x,$t,e)}}P||(P=new kt);var I=P.get(t);if(I)return I;if(P.set(t,C),!D)var M=n?function(t){return function(t,e,n){var r=e(t);return Ht(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Yt,Lt)}(t):Yt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(M||t,function(o,i){M&&(o=t[i=o]),Pt(C,i,$t(o,e,n,r,i,t,P))}),C}function Dt(t){return!(!Gt(t)||J&&J in t)&&(Qt(t)||B(t)?et:P).test(Bt(t))}function xt(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e}function Ft(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var u=e[o],a=r?r(n[u],t[u],u,n,t):void 0;Pt(n,u,void 0===a?t[u]:a)}return n}function It(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Dt(n)?n:void 0}St.prototype.clear=function(){this.__data__=vt?vt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===o?void 0:n}return Z.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:Z.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?o:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(n<0||(n==e.length-1?e.pop():ct.call(e,n,1),0))},At.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return n<0?void 0:e[n][1]},At.prototype.has=function(t){return Ct(this.__data__,t)>-1},At.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new St,map:new(ht||At),string:new St}},Tt.prototype.delete=function(t){return It(this,t).delete(t)},Tt.prototype.get=function(t){return It(this,t).get(t)},Tt.prototype.has=function(t){return It(this,t).has(t)},Tt.prototype.set=function(t,e){return It(this,t).set(t,e),this},kt.prototype.clear=function(){this.__data__=new At},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof At){var o=n.__data__;if(!ht||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new Tt(o)}return n.set(t,e),this};var Lt=st?H(st,Object):function(){return[]},Nt=function(t){return tt.call(t)};function Ut(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Bt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Vt(t,e){return t===e||t!=t&&e!=e}(pt&&Nt(new pt(new ArrayBuffer(1)))!=g||ht&&Nt(new ht)!=l||dt&&"[object Promise]"!=Nt(dt.resolve())||yt&&Nt(new yt)!=y||_t&&"[object WeakMap]"!=Nt(new _t))&&(Nt=function(t){var e=tt.call(t),n=e==h?t.constructor:void 0,r=n?Bt(n):void 0;if(r)switch(r){case bt:return g;case gt:return l;case mt:return"[object Promise]";case jt:return y;case wt:return"[object WeakMap]"}return e});var Ht=Array.isArray;function Wt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Qt(t)}var qt=ft||function(){return!1};function Qt(t){var e=Gt(t)?tt.call(t):"";return e==s||e==f}function Gt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Yt(t){return Wt(t)?Rt(t):function(t){if(!zt(t))return lt(t);var e=[];for(var n in Object(t))Z.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return $t(t,!0,!0)}}).call(this,n(0),n(1)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),o=n(42),i=n(5),u=n(41),a=n(14),c=n(7),s=n(15),f=t=>!("number"!=typeof t&&!t);e.ddfCsvReader=function(t){const e=[{concept:"concept",concept_type:"string",domain:null},{concept:"concept_type",concept_type:"string",domain:null}],n=new Map([["$and",(t,e)=>e.every(e=>g(t,e))],["$or",(t,e)=>e.some(e=>g(t,e))],["$not",(t,e)=>!g(t,e)],["$nor",(t,e)=>!e.some(e=>g(t,e))],["$eq",(t,e)=>t==e],["$ne",(t,e)=>t!=e],["$gt",(t,e)=>f(t)&&t>e],["$gte",(t,e)=>f(t)&&t>=e],["$lt",(t,e)=>f(t)&&t<e],["$lte",(t,e)=>f(t)&&t<=e],["$in",(t,e)=>e.has(t)],["$nin",(t,e)=>!e.has(t)]]),l=new Map,p=new Map;let h=[];function d(t){return new Promise((e,n)=>{t.fileReader.readText(t.datapackagePath,(r,o)=>{if(r)return n(new a.DdfCsvError(a.FILE_READING_ERROR,r,t.datapackagePath));let i;try{i=JSON.parse(o),h=[],function(t){if(p.size>0)return p;t.resources.forEach(t=>{Array.isArray(t.schema.primaryKey)||(t.schema.primaryKey=[t.schema.primaryKey]),t.translations={},p.set(t.name,t)})}(i),function(t){if(l.size>0)return l;for(const e in t.ddfSchema)t.ddfSchema[e].map(t=>{const e=T(t.primaryKey),n=t.resources.map(t=>p.get(t));l.has(e)?l.get(e).set(t.value,n):l.set(e,new Map([[t.value,n]]))})}(i)}catch(e){return n(new a.DdfCsvError(a.JSON_PARSING_ERROR,e.message,t.datapackagePath))}e(i)})})}async function y(t,n){_(e,n);const r={select:{key:["concept"],value:["concept_type","domain"]},from:"concepts",dataset:t.dataset,branch:t.branch,commit:t.commit};let o;try{!function(t,n){const r=t.filter(t=>"entity_set"===t.concept_type).map(t=>({concept:"is--"+t.concept,concept_type:"boolean",domain:null}));_(t=t.concat(r).concat(e),n)}(await b(r,n),n),o=await function({conceptsLookup:t}){const e=new Map([["boolean",t=>"true"===t||"TRUE"===t],["measure",t=>parseFloat(t)]]),n=[...O(["concept"])].map(n=>n.data.then(n=>{const r=Object.keys(n.data[0]),o=new Map;return r.forEach(n=>{const r=t.get(n).concept_type,i=e.get(r);i&&o.set(n,i)}),n.data.forEach(t=>{for(const[e,n]of o)t[e]=n(t[e])})}));return Promise.all(n)}(n)}catch(t){throw t}return o}function _(t,e){e.conceptsLookup.clear(),t.forEach(t=>e.conceptsLookup.set(t.concept,t))}async function v(t,e){let n;try{await c.validateQueryStructure(t,e),await c.extendQueryParamWithDatasetProps(t,e);const r=await d(e);if(e.datapackage=r,await y(t,e),await c.validateQueryDefinitions(t,e),c.isSchemaQuery(t))n=await function(t,{datapackage:e}){const n=t=>e.ddfSchema[t].map(({primaryKey:t,value:e})=>({key:t,value:e})),r=t.from.split(".")[0];return e.ddfSchema[r]?n(r):"*"===r?Object.keys(e.ddfSchema).map(n).reduce((t,e)=>t.concat(e)):void A(new a.DdfCsvError(a.DDF_ERROR,`No valid collection (${r}) for schema query`))}(t,{datapackage:r});else{const r=u.getAppropriatePlugin(t,e);if(r){h=[];const t=await r.getRecommendedFilesSet();h=t}n=await b(t,e)}}catch(t){throw t}return n}function b(t,e){const{select:{key:n=[],value:i=[]},from:u="",where:a={},join:c={},order_by:s=[],language:f}=t,l={key:n,value:i},p=new Set(l.key.concat(l.value)),h=j(a).filter(t=>!p.has(t)),d=function(t,e,n,o){const i=O(t,e);return Promise.all([...i].map(t=>(function(t,e,n){const o=[];void 0===t.data&&(t.data=k(n.datasetPath+"/"+t.path,n)),o.push(t.data);const i=void 0!==e&&r(function({datapackage:t}){return t.translations?t.translations.map(t=>t.id):[]}(n),e),u=void 0!==t.translations[e];if(i){if(!u){const r=`${n.datasetPath}/lang/${e}/${t.path}`;t.translations[e]=k(r,n).catch(t=>Promise.resolve({}))}o.push(t.translations[e])}return Promise.all(o).then(e=>{const n=e.map(t=>t.data||[]),r=t.schema.primaryKey,o=S(r,"translation",...n);return{data:o,resource:t}})})(t,n,o)))}(l.key,[...l.value,...h],f,e),y=function(t,e,n){return Promise.all(Object.keys(t).map(r=>(function(t,e,n,r){return"time"===r.conceptsLookup.get(e.key).concept_type?Promise.resolve({[t]:e.where}):v({select:{key:[e.key]},where:e.where,from:r.conceptsLookup.has(e.key)?"entities":"concepts",dataset:n.dataset,branch:n.branch,commit:n.commit},Object.assign({joinID:t},o(r))).then(n=>({[t]:{[e.key]:{$in:new Set(n.map(t=>t[e.key]))}}}))})(r,t[r],e,n))).then(t=>t.reduce(m,{}))}(c,t,e),_=function(t,e,n){const r=w(["entity_set"],t,n).map(t=>v({select:{key:[t.domain],value:["is--"+t.concept]},from:"entities",dataset:e.dataset,branch:e.branch,commit:e.commit},Object.assign({},o(n))).then(e=>({[t.concept]:{$in:new Set(e.filter(e=>e["is--"+t.concept]).map(e=>e[t.domain]))}})));return Promise.all(r).then(t=>t.reduce((t,e)=>Object.assign(t,e),{}))}(l.key,t,e);return Promise.all([d,_,y]).then(([t,n,o])=>{const i=function(...t){return t.reduce((t,e)=>(t.$and.push(e),t),{$and:[]})}(n,function t(e,n){const o={};for(const i in e){const u=e[i];r(["$and","$or","$nor"],i)?o[i]=u.map(e=>t(e,n)):"$in"===i||"$nin"===i?o[i]=new Set(u):void 0!==n[u]?Object.assign(o,n[u]):o[i]="object"==typeof u?t(u,n):u}return o}(a,o)),u=t.map(t=>(function(t,e,n,r){const o=t.resource.schema.primaryKey,i=new Set([...o,...e.value,...n]),u=function(t,e,n){const r=new Set(e),o=["entity_set","entity_domain"],i=w(o,t,n);if(0===i.length)return new Map;const u=w(o,null,n);return i.map(t=>u.filter(e=>"entity_set"===t.concept_type?r.has(e.concept)&&e.concept!==t.concept&&(e.domain===t.domain||e.concept===t.domain):r.has(e.concept)&&e.concept!==t.concept&&e.domain===t.concept).reduce((e,n)=>e.set(n.concept,t.concept),new Map)).reduce((t,e)=>new Map([...t,...e]),new Map)}(e.key,o,r);return t.data.map(t=>E(t,i)).map(t=>(function(t,e){const n={};for(const r in t)n[e.get(r)||r]=t[r];return n})(t,u))})(t,l,h,e)),c=S(l.key,"overwrite",...u).filter(t=>g(t,i)).map(t=>(function(t,e){for(const n of e)void 0===t[n]&&(t[n]=null);return t})(t,p)).map(t=>E(t,p));return function(t,e=[]){if(0===e.length)return;const n=e.map(t=>{if("string"==typeof t)return{concept:t,direction:1};{const e=Object.keys(t)[0],n="asc"===t[e]?1:-1;return{concept:e,direction:n}}}),r=n.length;t.sort((t,e)=>{for(let o=0;o<r;o++){const r=n[o];if(t[r.concept]<e[r.concept])return-1*r.direction;if(t[r.concept]>e[r.concept])return 1*r.direction}return 0})}(c,s),c})}function g(t,e){return Object.keys(e).every(r=>{const o=n.get(r);return o?o(t,e[r]):"object"!=typeof e[r]?n.get("$eq")(t[r],e[r]):g(t[r],e[r])})}function m(t,e){return Object.assign(t,e)}function j(t){const e=[];for(const n in t)r(["$and","$or","$not","$nor"],n)?t[n].map(j).forEach(t=>e.push(...t)):e.push(n);return e}function w(t,e,n){const o=e||Array.from(n.conceptsLookup.keys()),i=[];for(const e of o){const o=n.conceptsLookup.get(e);r(t,o.concept_type)&&i.push(o)}return i}function O(t,e){if(!e||0===e.length)return new Set([...l.get(T(t)).values()].reduce((t,e)=>t.concat(e)));if(Array.isArray(e))return e.map(e=>O(t,e)).reduce((t,e)=>new Set([...t,...e]),new Set);let n=l.get(T(t)).get(e);return n&&(n=n.filter(t=>i(h)||r(h,t.path))),new Set(n)}function E(t,e){const n={};for(const r in t)e.has(r)&&(n[r]=t[r]);return n}function S(t,e,...n){if(1===n.length)return n[0];const r=t.slice(0).sort();return[...n.reduce((t,n)=>(n.forEach(n=>{const o=r.map(t=>n[t]).join(",");t.has(o)?function(t,e,n){switch(n){case"overwrite":Object.assign(t,e);break;case"translation":for(const n in e)""!==e[n]&&(t[n]=e[n]);break;case"overwriteWithError":for(const n in e)if(void 0!==t[n]&&t[n]!==e[n]){const r=JSON.stringify(e),o=JSON.stringify(t),i=`JOIN Error: two resources have different data for "${n}": ${r},${o}`;A(new a.DdfCsvError(a.DDF_ERROR,i))}else t[n]=e[n]}}(t.get(o),n,e):t.set(o,n)}),t),new Map).values()]}function A(e){throw(t||console).error(e.message),e}function T(t,e=!1){const n=t.slice(0).sort();return e?n.map(t=>e[t]).join(","):n.join(",")}function k(t,e){return new Promise((n,o)=>{e.fileReader.readText(t,(i,u)=>{if(i)return o(new a.DdfCsvError(a.FILE_READING_ERROR,i,t));s.parse(u,{header:!0,skipEmptyLines:!0,dynamicTyping:t=>{if(!e.conceptsLookup)return!0;const n=e.conceptsLookup.get(t)||{};return r(["boolean","measure"],n.concept_type)},complete:t=>n(t),error:e=>o(new a.DdfCsvError(a.CSV_PARSING_ERROR,e,t))})})})}return{query:v}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6),o=n(13),i=n(43),u=n(7);e.prepareDDFCsvReaderObject=function(t){return function(e,n){return{init(o){this._basePath=o.path,this._lastModified=o._lastModified,this.fileReader=e||t,this.logger=n,this.resultTransformer=o.resultTransformer,this.datasetsConfig=o.datasetsConfig,this.isLocalReader=!!r(this.datasetsConfig),this.isServerReader=!this.isLocalReader,this.readerOptions={basePath:this._basePath,fileReader:this.fileReader,logger:this.logger,datasetsConfig:this.datasetsConfig},this.reader=i.ddfCsvReader(this.logger)},getAsset(t){const e=".json"===t.slice(-".json".length);let n=`${this._basePath}/${t}`;return o(t)&&(n=u.getDatasetPath(this._basePath,t)),new Promise((t,r)=>{this.fileReader.readText(n,(n,o)=>{if(n)r(n);else if(e)try{t(JSON.parse(o))}catch(t){r(n)}else t(o)})})},async read(t,e){let r;try{r=await this.reader.query(t,{basePath:this._basePath,datasetsConfig:this.datasetsConfig,fileReader:this.fileReader,logger:this.logger,conceptsLookup:new Map,datapackagePath:"",datasetPath:"",dataset:""}),r=e?this._prettifyData(r,e):r,this.resultTransformer&&(r=this.resultTransformer(r)),this.logger&&this.logger.log&&(n.log(JSON.stringify(t),r.length),n.log(r))}catch(t){throw t}return r},_prettifyData:(t,e)=>t.map(t=>(Object.keys(t).forEach(n=>{e[n]&&(t[n]=e[n](t[n]))}),t))}}}},function(t,e){!function(){"use strict";if(!self.fetch){i.prototype.append=function(t,e){t=r(t),e=o(e);var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},i.prototype.delete=function(t){delete this.map[r(t)]},i.prototype.get=function(t){var e=this.map[r(t)];return e?e[0]:null},i.prototype.getAll=function(t){return this.map[r(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(r(t))},i.prototype.set=function(t,e){this.map[r(t)]=[o(e)]},i.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(n){t(n,e.map[n])})};var t={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],n=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);s.call(f.prototype),s.call(p.prototype),self.Headers=i,self.Request=f,self.Response=p,self.fetch=function(e,r){var o;return o=f.prototype.isPrototypeOf(e)&&!r?e:new f(e,r),new fetch.Promise(function(e,r){var u=function(){return n&&!/^(get|post|head|put|delete|options)$/i.test(this.method)?(this.usingActiveXhr=!0,new ActiveXObject("Microsoft.XMLHTTP")):new XMLHttpRequest}();function a(){if(4===u.readyState){var t=1223===u.status?204:u.status;if(t<100||t>599)r(new TypeError("Network request failed"));else{var n={status:t,statusText:u.statusText,headers:function(t){var e=new i;return t.getAllResponseHeaders().trim().split("\n").forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();e.append(r,o)}),e}(u),url:"responseURL"in u?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):void 0},o="response"in u?u.response:u.responseText;e(new p(o,n))}}}"cors"===o.credentials&&(u.withCredentials=!0),u.onreadystatechange=a,self.usingActiveXhr||(u.onload=a,u.onerror=function(){r(new TypeError("Network request failed"))}),u.open(o.method,o.url,!0),"responseType"in u&&t.blob&&(u.responseType="blob"),o.headers.forEach(function(t,e){e.forEach(function(e){u.setRequestHeader(t,e)})}),u.send(void 0===o._bodyInit?null:o._bodyInit)})},fetch.Promise=self.Promise,self.fetch.polyfill=!0}function r(t){if("string"!=typeof t&&(t=t.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t=t.toString()),t}function i(t){this.map={};var e=this;t instanceof i?t.forEach(function(t,n){n.forEach(function(n){e.append(t,n)})}):t&&Object.getOwnPropertyNames(t).forEach(function(n){e.append(n,t[n])})}function u(t){if(t.bodyUsed)return fetch.Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new fetch.Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function c(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function s(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},t.blob?(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return fetch.Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return fetch.Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(c)},this.text=function(){var t,e,n=u(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,(e=new FileReader).readAsText(t),a(e);if(this._bodyFormData)throw new Error("could not read FormData body as text");return fetch.Promise.resolve(this._bodyText)}):this.text=function(){var t=u(this);return t||fetch.Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(function(t){return JSON.parse(t)})},this}function f(t,n){var r,o;if(n=n||{},this.url=t,this.credentials=n.credentials||"omit",this.headers=new i(n.headers),this.method=(r=n.method||"GET",o=r.toUpperCase(),e.indexOf(o)>-1?o:r),this.mode=n.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n.body)}function l(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function p(t,e){e||(e={}),this._initBody(t),this.type="default",this.url=null,this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||""}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(22);var o=n(22);e.FrontendFileReader=o.FrontendFileReader;var i=n(14);e.DdfCsvError=i.DdfCsvError;const u=n(44);e.getDDFCsvReaderObject=u.prepareDDFCsvReaderObject(new r.FrontendFileReader)}]);
//# sourceMappingURL=vizabi-ddfcsv-reader.js.map