var DDFCsvReader=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=47)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=1/0,i=9007199254740991,u=1.7976931348623157e308,a=NaN,c="[object Arguments]",f="[object Function]",s="[object GeneratorFunction]",l="[object String]",p="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,v=/^0o[0-7]+$/i,_=/^(?:0|[1-9]\d*)$/,b=parseInt;function g(t){return t!=t}function m(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,function(e){return t[e]})}var j,w,S=Object.prototype,O=S.hasOwnProperty,E=S.toString,A=S.propertyIsEnumerable,k=(j=Object.keys,w=Object,function(t){return j(w(t))}),R=Math.max;function T(t,e){var n=x(t)||function(t){return function(t){return F(t)&&D(t)}(t)&&O.call(t,"callee")&&(!A.call(t,"callee")||E.call(t)==c)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!O.call(t,i)||o&&("length"==i||C(i,r))||n.push(i);return n}function P(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||S,e!==r)return k(t);var e,n,r,o=[];for(var i in Object(t))O.call(t,i)&&"constructor"!=i&&o.push(i);return o}function C(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||_.test(t))&&t>-1&&t%1==0&&t<e}var x=Array.isArray;function D(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!function(t){var e=I(t)?E.call(t):"";return e==f||e==s}(t)}function I(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function F(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}t.exports=function(t,e,n,i){var c;t=D(t)?t:(c=t)?m(c,function(t){return D(t)?T(t):P(t)}(c)):[],n=n&&!i?function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":r(t))||F(t)&&E.call(t)==p}(t))return a;if(I(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=I(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var n=y.test(t);return n||v.test(t)?b(t.slice(2),n?2:8):d.test(t)?a:+t}(t))===o||t===-o){var e=t<0?-1:1;return e*u}return t==t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(n):0;var f=t.length;return n<0&&(n=R(f+n,0)),function(t){return"string"==typeof t||!x(t)&&F(t)&&E.call(t)==l}(t)?n<=f&&t.indexOf(e,n)>-1:!!f&&function(t,e,n){if(e!=e)return function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,g,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n)>-1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__extends=function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]]);return n},e.__decorate=function(t,e,n,o){var i,u=arguments.length,a=u<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(u<3?i(a):u>3?i(e,n,a):i(e,n))||a);return u>3&&a&&Object.defineProperty(e,n,a),a},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__metadata=function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=u,e.__read=a,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},e.__await=c,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=o[t](e)).value instanceof c?Promise.resolve(n.value.v).then(f,s):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function f(t){a("next",t)}function s(t){a("throw",t)}function l(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:c(t[r](e)),done:"return"===r}:o?o(e):e}:o}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=u(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){e=t[n](e),function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,o,e.done,e.value)})}}},e.__makeTemplateObject=function(t,e){Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e;return t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var i=function(){return e.__assign=i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};function u(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function c(t){return this instanceof c?(this.v=t,this):new c(t)}e.__assign=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(2);e.SCHEMAS=new Set(["concepts.schema","entities.schema","datapoints.schema","*.schema"]),e.DATAPOINTS="datapoints",e.ENTITIES="entities",e.CONCEPTS="concepts",e.CONCEPT_TYPE_MEASURE="measure",e.CONCEPT_TYPE_STRING="string",e.CONCEPT_TYPE_ENTITY_DOMAIN="entity_domain",e.CONCEPT_TYPE_ENTITY_SET="entity_set",e.CONCEPT_TYPE_TIME="time",e.RESERVED_CONCEPT="concept",e.RESERVED_CONCEPT_TYPE="concept_type",e.RESERVED_DOMAIN="domain",e.RESERVED_UNIT="unit",e.RESERVED_DRILL_UP="drill_up",e.RESERVED_KEY="key",e.RESERVED_VALUE="value",e.AVAILABLE_QUERY_OPERATORS=new Set(["$eq","$gt","$gte","$lt","$lte","$ne","$in","$nin","$or","$and","$not","$nor","$size","$all","$elemMatch"]),e.AVAILABLE_FROM_CLAUSE_VALUES=new Set([e.CONCEPTS,e.ENTITIES,e.DATAPOINTS].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e.SCHEMAS))),e.AVAILABLE_ORDER_BY_CLAUSE_VALUES=new Set(["asc","desc",1,-1]),e.DEFAULT_REPOSITORY_NAME=t.env.DEFAULT_REPOSITORY_NAME||"systema_globalis",e.DEFAULT_REPOSITORY_BRANCH=t.env.DEFAULT_REPOSITORY_BRANCH||"master",e.DEFAULT_REPOSITORY_HASH="HEAD",e.isSchemaQuery=function(t){var n=r(t,"from");return e.SCHEMAS.has(n)},e.isDatapointsQuery=function(t){return r(t,"from")===e.DATAPOINTS},e.isEntitiesQuery=function(t){return r(t,"from")===e.ENTITIES},e.isConceptsQuery=function(t){return r(t,"from")===e.CONCEPTS},e.isEntityDomainOrSet=function(t,e){return o(e,t)},e.isMeasure=function(t){return o([e.CONCEPT_TYPE_MEASURE],t)},e.isIndicator=function(t){return o([e.CONCEPT_TYPE_MEASURE,e.CONCEPT_TYPE_STRING],t)}}).call(this,n(12))},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="Expected a function",o="__lodash_hash_undefined__",i=1/0,u="[object Function]",a="[object GeneratorFunction]",c="[object Symbol]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,l=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,y="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,v="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,_=y||v||Function("return this")();var b,g=Array.prototype,m=Function.prototype,j=Object.prototype,w=_["__core-js_shared__"],S=(b=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",O=m.toString,E=j.hasOwnProperty,A=j.toString,k=RegExp("^"+O.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=_.Symbol,T=g.splice,P=z(_,"Map"),C=z(Object,"create"),x=R?R.prototype:void 0,D=x?x.toString:void 0;function I(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function M(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function L(t,e){for(var r,o=0,i=(e=function(t,e){if(W(t))return!1;var r=void 0===t?"undefined":n(t);if("number"==r||"symbol"==r||"boolean"==r||null==t||G(t))return!0;return s.test(t)||!f.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:W(r=e)?r:B(r)).length;null!=t&&o<i;)t=t[V(e[o++])];return o&&o==i?t:void 0}function N(t){return!(!q(t)||S&&S in t)&&(function(t){var e=q(t)?A.call(t):"";return e==u||e==a}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?k:d).test(function(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function U(t,e){var r,o,i=t.__data__;return("string"==(o=void 0===(r=e)?"undefined":n(r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function z(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return N(n)?n:void 0}I.prototype.clear=function(){this.__data__=C?C(null):{}},I.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},I.prototype.get=function(t){var e=this.__data__;if(C){var n=e[t];return n===o?void 0:n}return E.call(e,t)?e[t]:void 0},I.prototype.has=function(t){var e=this.__data__;return C?void 0!==e[t]:E.call(e,t)},I.prototype.set=function(t,e){return this.__data__[t]=C&&void 0===e?o:e,this},F.prototype.clear=function(){this.__data__=[]},F.prototype.delete=function(t){var e=this.__data__,n=M(e,t);return!(n<0||(n==e.length-1?e.pop():T.call(e,n,1),0))},F.prototype.get=function(t){var e=this.__data__,n=M(e,t);return n<0?void 0:e[n][1]},F.prototype.has=function(t){return M(this.__data__,t)>-1},F.prototype.set=function(t,e){var n=this.__data__,r=M(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},$.prototype.clear=function(){this.__data__={hash:new I,map:new(P||F),string:new I}},$.prototype.delete=function(t){return U(this,t).delete(t)},$.prototype.get=function(t){return U(this,t).get(t)},$.prototype.has=function(t){return U(this,t).has(t)},$.prototype.set=function(t,e){return U(this,t).set(t,e),this};var B=H(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(G(t))return D?D.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}(e);var n=[];return l.test(t)&&n.push(""),t.replace(p,function(t,e,r,o){n.push(r?o.replace(h,"$1"):e||t)}),n});function V(t){if("string"==typeof t||G(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function H(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(H.Cache||$),n}H.Cache=$;var W=Array.isArray;function q(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function G(t){return"symbol"==(void 0===t?"undefined":n(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&A.call(t)==c}t.exports=function(t,e,n){var r=null==t?void 0:L(t,e);return void 0===r?n:r}}).call(this,n(0))},function(t,e,n){"use strict";(function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=9007199254740991,i="[object Arguments]",u="[object Function]",a="[object GeneratorFunction]",c="[object Map]",f="[object Set]",s=/^\[object .+?Constructor\]$/,l="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,p="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,h=l||p||Function("return this")(),d="object"==r(e)&&e&&!e.nodeType&&e,y=d&&"object"==r(n)&&n&&!n.nodeType&&n,v=y&&y.exports===d;var _,b,g,m=Function.prototype,j=Object.prototype,w=h["__core-js_shared__"],S=(_=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",O=m.toString,E=j.hasOwnProperty,A=j.toString,k=RegExp("^"+O.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=v?h.Buffer:void 0,T=j.propertyIsEnumerable,P=R?R.isBuffer:void 0,C=(b=Object.keys,g=Object,function(t){return b(g(t))}),x=H(h,"DataView"),D=H(h,"Map"),I=H(h,"Promise"),F=H(h,"Set"),$=H(h,"WeakMap"),M=!T.call({valueOf:1},"valueOf"),L=q(x),N=q(D),U=q(I),z=q(F),B=q($);function V(t){return!(!X(t)||S&&S in t)&&(J(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?k:s).test(q(t))}function H(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return V(n)?n:void 0}var W=function(t){return A.call(t)};function q(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function G(t){return function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&Y(t)}(t)&&E.call(t,"callee")&&(!T.call(t,"callee")||A.call(t)==i)}(x&&"[object DataView]"!=W(new x(new ArrayBuffer(1)))||D&&W(new D)!=c||I&&"[object Promise]"!=W(I.resolve())||F&&W(new F)!=f||$&&"[object WeakMap]"!=W(new $))&&(W=function(t){var e=A.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?q(n):void 0;if(r)switch(r){case L:return"[object DataView]";case N:return c;case U:return"[object Promise]";case z:return f;case B:return"[object WeakMap]"}return e});var Q=Array.isArray;function Y(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!J(t)}var K=P||function(){return!1};function J(t){var e=X(t)?A.call(t):"";return e==u||e==a}function X(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}n.exports=function(t){if(Y(t)&&(Q(t)||"string"==typeof t||"function"==typeof t.splice||K(t)||G(t)))return!t.length;var e=W(t);if(e==c||e==f)return!t.size;if(M||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||j)}(t))return!C(t).length;for(var n in t)if(E.call(t,n))return!1;return!0}}).call(this,n(0),n(1)(t))},function(t,e,n){"use strict";t.exports=function(t){return null==t}},function(t,e,n){"use strict";t.exports=function(t){for(var e=-1,n=t?t.length:0,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=1/0,o=1.7976931348623157e308,i=NaN,u="[object Symbol]",a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,p="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,h="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,d=p||h||Function("return this")(),y=Object.prototype.toString,v=d.Symbol,_=v?v.prototype:void 0,b=_?_.toString:void 0;function g(t){if("string"==typeof t)return t;if(j(t))return b?b.call(t):"";var e=t+"";return"0"==e&&1/t==-r?"-0":e}function m(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function j(t){return"symbol"==(void 0===t?"undefined":n(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&y.call(t)==u}function w(t){return t?(t=function(t){if("number"==typeof t)return t;if(j(t))return i;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=f.test(t);return n||s.test(t)?l(t.slice(2),n?2:8):c.test(t)?i:+t}(t))===r||t===-r?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}t.exports=function(t,e,n){var r,o,i,u;return t=null==(r=t)?"":g(r),o=function(t){var e=w(t),n=e%1;return e==e?n?e-n:e:0}(n),i=0,u=t.length,o==o&&(void 0!==u&&(o=o<=u?o:u),void 0!==i&&(o=o>=i?o:i)),n=o,e=g(e),t.slice(n,n+e.length)==e}}).call(this,n(0))},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=9007199254740991,i="[object Arguments]",u="[object Function]",a="[object GeneratorFunction]",c=/^(?:0|[1-9]\d*)$/;var f,s,l=Object.prototype,p=l.hasOwnProperty,h=l.toString,d=l.propertyIsEnumerable,y=(f=Object.keys,s=Object,function(t){return f(s(t))});function v(t,e){var n=g(t)||function(t){return function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&m(t)}(t)&&p.call(t,"callee")&&(!d.call(t,"callee")||h.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,u=!!o;for(var a in t)!e&&!p.call(t,a)||u&&("length"==a||b(a,o))||n.push(a);return n}function _(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||l,e!==r)return y(t);var e,n,r,o=[];for(var i in Object(t))p.call(t,i)&&"constructor"!=i&&o.push(i);return o}function b(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||c.test(t))&&t>-1&&t%1==0&&t<e}var g=Array.isArray;function m(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!function(t){var e=function(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==u||e==a}(t)}t.exports=function(t){return m(t)?v(t):_(t)}},function(t,e,n){"use strict";t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,f=[],s=!1,l=-1;function p(){s&&c&&(s=!1,c.length?f=c.concat(f):l=-1,f.length&&h())}function h(){if(!s){var t=a(p);s=!0;for(var e=f.length;e;){for(c=f,f=[];++l<e;)c&&c[l].run();l=-1,e=f.length}c=null,s=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new d(t,e)),1!==f.length||s||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.FILE_READING_ERROR="File reading error",e.JSON_PARSING_ERROR="JSON parsing error",e.CSV_PARSING_ERROR="CSV parsing error",e.DDF_ERROR="DDF error";var o=function(t){function e(e,n,r){var o=t.call(this)||this;return o.name="DdfCsvError",o.message=e+" [filepath: "+r+"]. "+n+".",o.details=n,o.file=r,o}return r.__extends(e,t),e}(Error);e.DdfCsvError=o},function(t,e,n){var r,o,i;
/*!
	Papa Parse
	v4.3.6
	https://github.com/mholt/PapaParse
	License: MIT
*/o=[],void 0===(i="function"==typeof(r=function(){"use strict";var t,e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,o=r&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),i=!1,u={},a=0,c={parse:function(e,r){var o=(r=r||{}).dynamicTyping||!1;if(w(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.worker&&c.WORKERS_SUPPORTED){var f=function(){if(!c.WORKERS_SUPPORTED)return!1;if(!i&&null===c.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=c.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var r=new n.Worker(e);return r.onmessage=_,r.id=a++,u[r.id]=r,r}();return f.userStep=r.step,f.userChunk=r.chunk,f.userComplete=r.complete,f.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void f.postMessage({input:e,config:r,workerId:f.id})}var s=null;return"string"==typeof e?s=r.download?new l(r):new h(r):!0===e.readable&&w(e.read)&&w(e.on)?s=new d(r):(n.File&&e instanceof File||e instanceof Object)&&(s=new p(r)),s.stream(e)},unparse:function(t,e){var n=!1,r=!0,o=",",i="\r\n",u='"';"object"==typeof e&&("string"==typeof e.delimiter&&1===e.delimiter.length&&-1===c.BAD_DELIMITERS.indexOf(e.delimiter)&&(o=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(n=e.quotes),"string"==typeof e.newline&&(i=e.newline),"string"==typeof e.quoteChar&&(u=e.quoteChar),"boolean"==typeof e.header&&(r=e.header));var a=new RegExp(u,"g");if("string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return s(null,t);if("object"==typeof t[0])return s(f(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=t.data[0]instanceof Array?t.fields:f(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),s(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input";function f(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function s(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var u=t instanceof Array&&t.length>0,a=!(e[0]instanceof Array);if(u&&r){for(var c=0;c<t.length;c++)c>0&&(n+=o),n+=l(t[c],c);e.length>0&&(n+=i)}for(var f=0;f<e.length;f++){for(var s=u?t.length:e[f].length,p=0;p<s;p++){p>0&&(n+=o);var h=u&&a?t[p]:p;n+=l(e[f][h],p)}f<e.length-1&&(n+=i)}return n}function l(t,e){if(void 0===t||null===t)return"";t=t.toString().replace(a,u+u);var r="boolean"==typeof n&&n||n instanceof Array&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}(t,c.BAD_DELIMITERS)||t.indexOf(o)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return r?u+t+u:t}}};if(c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\ufeff",c.BAD_DELIMITERS=["\r","\n",'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!r&&!!n.Worker,c.SCRIPT_PATH=null,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=v,c.ParserHandle=y,c.NetworkStreamer=l,c.FileStreamer=p,c.StringStreamer=h,c.ReadableStreamStreamer=d,n.jQuery){var f=n.jQuery;f.fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(t){var o="INPUT"===f(this).prop("tagName").toUpperCase()&&"file"===f(this).attr("type").toLowerCase()&&n.FileReader;if(!o||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:f.extend({},e)})}),o(),this;function o(){if(0!==r.length){var e,n,o,u,a=r[0];if(w(t.before)){var s=t.before(a.file,a.inputElem);if("object"==typeof s){if("abort"===s.action)return e="AbortError",n=a.file,o=a.inputElem,u=s.reason,void(w(t.error)&&t.error({name:e},n,o,u));if("skip"===s.action)return void i();"object"==typeof s.config&&(a.instanceConfig=f.extend(a.instanceConfig,s.config))}else if("skip"===s)return void i()}var l=a.instanceConfig.complete;a.instanceConfig.complete=function(t){w(l)&&l(t,a.file,a.inputElem),i()},c.parse(a.file,a.instanceConfig)}else w(t.complete)&&t.complete()}function i(){r.splice(0,1),o()}}}function s(t){this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=m(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new y(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var e=this._config.beforeFirstChunk(t);void 0!==e&&(t=e)}this.isFirstChunk=!1;var r=this._partialLine+t;this._partialLine="";var i=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=i.meta.cursor;this._finished||(this._partialLine=r.substring(u-this._baseIndex),this._baseIndex=u),i&&i.data&&(this._rowCount+=i.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)n.postMessage({results:i,workerId:c.WORKER_ID,finished:a});else if(w(this._config.chunk)){if(this._config.chunk(i,this._handle),this._paused)return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),!a||!w(this._config.complete)||i&&i.meta.aborted||this._config.complete(this._completeResults,this._input),a||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(t){w(this._config.error)?this._config.error(t):o&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=c.RemoteChunkSize),s.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=j(this._chunkLoaded,this),e.onerror=j(this._chunkError,this)),e.open("GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}r&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4==e.readyState&&(e.status<200||e.status>=400?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(n)}}function p(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=c.LocalChunkSize),s.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=j(this._chunkLoaded,this),e.onerror=j(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,o)}var i=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;t=t||{},s.call(this,t),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function d(t){t=t||{},s.call(this,t);var e=[],n=!0;this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._nextChunk=function(){e.length?this.parseChunk(e.shift()):n=!0},this._streamData=j(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=j(function(t){this._streamCleanUp(),this._sendError(t.message)},this),this._streamEnd=j(function(){this._streamCleanUp(),this._finished=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(t){var e,n,r,o=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,i=this,u=0,a=!1,f=!1,s=[],l={data:[],errors:[],meta:{}};if(w(t.step)){var p=t.step;t.step=function(e){if(l=e,d())h();else{if(h(),0===l.data.length)return;u+=e.data.length,t.preview&&u>t.preview?n.abort():p(l,i)}}}function h(){if(l&&r&&(_("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<l.data.length;e++)1===l.data[e].length&&""===l.data[e][0]&&l.data.splice(e--,1);return d()&&function(){if(l){for(var t=0;d()&&t<l.data.length;t++)for(var e=0;e<l.data[t].length;e++)s.push(l.data[t][e]);l.data.splice(0,1)}}(),function(){if(!l||!t.header&&!t.dynamicTyping)return l;for(var e=0;e<l.data.length;e++){for(var n=t.header?{}:[],r=0;r<l.data[e].length;r++){var o=r,i=l.data[e][r];t.header&&(o=r>=s.length?"__parsed_extra":s[r]),i=y(o,i),"__parsed_extra"===o?(n[o]=n[o]||[],n[o].push(i)):n[o]=i}l.data[e]=n,t.header&&(r>s.length?_("FieldMismatch","TooManyFields","Too many fields: expected "+s.length+" fields but parsed "+r,e):r<s.length&&_("FieldMismatch","TooFewFields","Too few fields: expected "+s.length+" fields but parsed "+r,e))}return t.header&&l.meta&&(l.meta.fields=s),l}()}function d(){return t.header&&0===s.length}function y(e,n){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(r=n,o.test(r)?parseFloat(r):r):n;var r}function _(t,e,n,r){l.errors.push({type:t,code:e,message:n,row:r})}this.parse=function(o,i,u){if(t.newline||(t.newline=function(t){var e=(t=t.substr(0,1048576)).split("\r"),n=t.split("\n"),r=n.length>1&&n[0].length<e[0].length;if(1===e.length||r)return"\n";for(var o=0,i=0;i<e.length;i++)"\n"===e[i][0]&&o++;return o>=e.length/2?"\r\n":"\r"}(o)),r=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(o),l.meta.delimiter=t.delimiter);else{var f=function(e,n,r){for(var o,i,u,a=[",","\t","|",";",c.RECORD_SEP,c.UNIT_SEP],f=0;f<a.length;f++){var s=a[f],l=0,p=0,h=0;u=void 0;for(var d=new v({delimiter:s,newline:n,preview:10}).parse(e),y=0;y<d.data.length;y++)if(r&&1===d.data[y].length&&0===d.data[y][0].length)h++;else{var _=d.data[y].length;p+=_,void 0!==u?_>1&&(l+=Math.abs(_-u),u=_):u=_}d.data.length>0&&(p/=d.data.length-h),(void 0===i||l<i)&&p>1.99&&(i=l,o=s)}return t.delimiter=o,{successful:!!o,bestDelimiter:o}}(o,t.newline,t.skipEmptyLines);f.successful?t.delimiter=f.bestDelimiter:(r=!0,t.delimiter=c.DefaultDelimiter),l.meta.delimiter=t.delimiter}var s=m(t);return t.preview&&t.header&&s.preview++,e=o,n=new v(s),l=n.parse(e,i,u),h(),a?{meta:{paused:!0}}:l||{meta:{paused:!1}}},this.paused=function(){return a},this.pause=function(){a=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){a=!1,i.streamer.parseChunk(e)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),l.meta.aborted=!0,w(t.complete)&&t.complete(l),e=""}}function v(t){var e=(t=t||{}).delimiter,n=t.newline,r=t.comments,o=t.step,i=t.preview,u=t.fastMode,a=t.quoteChar||'"';if(("string"!=typeof e||c.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||c.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var f=0,s=!1;this.parse=function(t,c,l){if("string"!=typeof t)throw"Input must be a string";var p=t.length,h=e.length,d=n.length,y=r.length,v=w(o);f=0;var _=[],b=[],g=[],m=0;if(!t)return x();if(u||!1!==u&&-1===t.indexOf(a)){for(var j=t.split(n),S=0;S<j.length;S++){var g=j[S];if(f+=g.length,S!==j.length-1)f+=n.length;else if(l)return x();if(!r||g.substr(0,y)!==r){if(v){if(_=[],T(g.split(e)),D(),s)return x()}else T(g.split(e));if(i&&S>=i)return _=_.slice(0,i),x(!0)}}return x()}for(var O=t.indexOf(e,f),E=t.indexOf(n,f),A=new RegExp(a+a,"g");;)if(t[f]!==a)if(r&&0===g.length&&t.substr(f,y)===r){if(-1===E)return x();f=E+d,E=t.indexOf(n,f),O=t.indexOf(e,f)}else if(-1!==O&&(O<E||-1===E))g.push(t.substring(f,O)),f=O+h,O=t.indexOf(e,f);else{if(-1===E)break;if(g.push(t.substring(f,E)),C(E+d),v&&(D(),s))return x();if(i&&_.length>=i)return x(!0)}else{var k=f;for(f++;;){var k=t.indexOf(a,k+1);if(-1===k)return l||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:f}),P();if(k===p-1){var R=t.substring(f,k).replace(A,a);return P(R)}if(t[k+1]!==a){if(t[k+1]===e){g.push(t.substring(f,k).replace(A,a)),f=k+1+h,O=t.indexOf(e,f),E=t.indexOf(n,f);break}if(t.substr(k+1,d)===n){if(g.push(t.substring(f,k).replace(A,a)),C(k+1+d),O=t.indexOf(e,f),v&&(D(),s))return x();if(i&&_.length>=i)return x(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:f}),k++}else k++}}return P();function T(t){_.push(t),m=f}function P(e){return l?x():(void 0===e&&(e=t.substr(f)),g.push(e),f=p,T(g),v&&D(),x())}function C(e){f=e,T(g),g=[],E=t.indexOf(n,f)}function x(t){return{data:_,errors:b,meta:{delimiter:e,linebreak:n,aborted:s,truncated:!!t,cursor:m+(c||0)}}}function D(){o(x()),_=[],b=[]}},this.abort=function(){s=!0},this.getCharIndex=function(){return f}}function _(t){var e=t.data,n=u[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,b(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:g,resume:g};if(w(n.userStep)){for(var i=0;i<e.results.data.length&&(n.userStep({data:[e.results.data[i]],errors:e.results.errors,meta:e.results.meta},o),!r);i++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&b(e.workerId,e.results)}function b(t,e){var n=u[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete u[t]}function g(){throw"Not implemented."}function m(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=m(t[n]);return e}function j(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return o?n.onmessage=function(t){var e=t.data;if(void 0===c.WORKER_ID&&e&&(c.WORKER_ID=e.workerId),"string"==typeof e.input)n.postMessage({workerId:c.WORKER_ID,results:c.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var r=c.parse(e.input,e.config);r&&n.postMessage({workerId:c.WORKER_ID,results:r,finished:!0})}}:c.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){i=!0},!0):i=!0),l.prototype=Object.create(s.prototype),l.prototype.constructor=l,p.prototype=Object.create(s.prototype),p.prototype.constructor=p,h.prototype=Object.create(h.prototype),h.prototype.constructor=h,d.prototype=Object.create(s.prototype),d.prototype.constructor=d,c})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.WhereClauseBasedOnConjunction="WhereClauseBasedOnConjunction",t.ConjunctionPartFromWhereClauseCorrespondsToJoin="ConjunctionPartFromWhereClauseCorrespondsToJoin"}(e.QueryFeature||(e.QueryFeature={}))},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";(function(t,r){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,u=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])v(a)||!j(a)?u+=" "+a:u+=" "+c(a);return u},e.deprecate=function(n,o){if(g(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}};var u,a={};function c(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=f),l(r,t,r.depth)}function f(t,e){var n=c.styles[e];return n?"["+c.colors[n][0]+"m"+t+"["+c.colors[n][1]+"m":t}function s(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return b(o)||(o=l(t,o,r)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(_(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(t,n);if(i)return i;var u=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),S(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return p(n);if(0===u.length){if(O(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(m(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return p(n)}var f,s="",j=!1,E=["{","}"];(d(n)&&(j=!0,E=["[","]"]),O(n))&&(s=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(s=" "+RegExp.prototype.toString.call(n)),w(n)&&(s=" "+Date.prototype.toUTCString.call(n)),S(n)&&(s=" "+p(n)),0!==u.length||j&&0!=n.length?r<0?m(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),f=j?function(t,e,n,r,o){for(var i=[],u=0,a=e.length;u<a;++u)R(e,String(u))?i.push(h(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))}),i}(t,n,r,a,u):u.map(function(e){return h(t,n,r,a,e,j)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(f,s,E)):E[0]+s+E[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o,i){var u,a,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),R(r,o)||(u="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=v(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),g(u)){if(i&&o.match(/^\d+$/))return a;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+a}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function v(t){return null===t}function _(t){return"number"==typeof t}function b(t){return"string"==typeof t}function g(t){return void 0===t}function m(t){return j(t)&&"[object RegExp]"===E(t)}function j(t){return"object"===(void 0===t?"undefined":o(t))&&null!==t}function w(t){return j(t)&&"[object Date]"===E(t)}function S(t){return j(t)&&("[object Error]"===E(t)||t instanceof Error)}function O(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(g(u)&&(u=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(u)){var n=r.pid;a[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else a[t]=function(){};return a[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=y,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=_,e.isString=b,e.isSymbol=function(t){return"symbol"===(void 0===t?"undefined":o(t))},e.isUndefined=g,e.isRegExp=m,e.isObject=j,e.isDate=w,e.isError=S,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===(void 0===t?"undefined":o(t))||void 0===t},e.isBuffer=n(36);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":"),[t.getDate(),k[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(35),e._extend=function(t,e){if(!e||!j(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,n(0),n(12))},function(t,e,n){"use strict";(function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=200,i="Expected a function",u="__lodash_hash_undefined__",a=1,c=2,f=1/0,s=9007199254740991,l="[object Arguments]",p="[object Array]",h="[object Boolean]",d="[object Date]",y="[object Error]",v="[object Function]",_="[object GeneratorFunction]",b="[object Map]",g="[object Number]",m="[object Object]",j="[object RegExp]",w="[object Set]",S="[object String]",O="[object Symbol]",E="[object ArrayBuffer]",A="[object DataView]",k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/,T=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[l]=I[p]=I[E]=I[h]=I[A]=I[d]=I[y]=I[v]=I[b]=I[g]=I[m]=I[j]=I[w]=I[S]=I["[object WeakMap]"]=!1;var F="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,$="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,M=F||$||Function("return this")(),L="object"==r(e)&&e&&!e.nodeType&&e,N=L&&"object"==r(n)&&n&&!n.nodeType&&n,U=N&&N.exports===L&&F.process,z=function(){try{return U&&U.binding("util")}catch(t){}}(),B=z&&z.isTypedArray;function V(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function H(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function W(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Y,K,J,X=Array.prototype,Z=Function.prototype,tt=Object.prototype,et=M["__core-js_shared__"],nt=(Y=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",rt=Z.toString,ot=tt.hasOwnProperty,it=tt.toString,ut=RegExp("^"+rt.call(ot).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=M.Symbol,ct=M.Uint8Array,ft=tt.propertyIsEnumerable,st=X.splice,lt=at?at.isConcatSpreadable:void 0,pt=(K=Object.keys,J=Object,function(t){return K(J(t))}),ht=Qt(M,"DataView"),dt=Qt(M,"Map"),yt=Qt(M,"Promise"),vt=Qt(M,"Set"),_t=Qt(M,"WeakMap"),bt=Qt(Object,"create"),gt=re(ht),mt=re(dt),jt=re(yt),wt=re(vt),St=re(_t),Ot=at?at.prototype:void 0,Et=Ot?Ot.valueOf:void 0,At=Ot?Ot.toString:void 0;function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pt(t){var e=-1,n=t?t.length:0;for(this.__data__=new Tt;++e<n;)this.add(t[e])}function Ct(t){this.__data__=new Rt(t)}function xt(t,e){var n=ae(t)||ue(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!ot.call(t,i)||o&&("length"==i||Jt(i,r))||n.push(i);return n}function Dt(t,e){for(var n=t.length;n--;)if(ie(t[n][0],e))return n;return-1}kt.prototype.clear=function(){this.__data__=bt?bt(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(bt){var n=e[t];return n===u?void 0:n}return ot.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:ot.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?u:e,this},Rt.prototype.clear=function(){this.__data__=[]},Rt.prototype.delete=function(t){var e=this.__data__,n=Dt(e,t);return!(n<0||(n==e.length-1?e.pop():st.call(e,n,1),0))},Rt.prototype.get=function(t){var e=this.__data__,n=Dt(e,t);return n<0?void 0:e[n][1]},Rt.prototype.has=function(t){return Dt(this.__data__,t)>-1},Rt.prototype.set=function(t,e){var n=this.__data__,r=Dt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new kt,map:new(dt||Rt),string:new kt}},Tt.prototype.delete=function(t){return Gt(this,t).delete(t)},Tt.prototype.get=function(t){return Gt(this,t).get(t)},Tt.prototype.has=function(t){return Gt(this,t).has(t)},Tt.prototype.set=function(t,e){return Gt(this,t).set(t,e),this},Pt.prototype.add=Pt.prototype.push=function(t){return this.__data__.set(t,u),this},Pt.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new Rt},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Rt){var r=n.__data__;if(!dt||r.length<o-1)return r.push([t,e]),this;n=this.__data__=new Tt(r)}return n.set(t,e),this};var It,Ft,$t=(It=function(t,e){return t&&Mt(t,e,ye)},function(t,e){if(null==t)return t;if(!ce(t))return It(t,e);for(var n=t.length,r=Ft?n:-1,o=Object(t);(Ft?r--:++r<n)&&!1!==e(o[r],r,o););return t});var Mt=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}();function Lt(t,e){for(var n=0,r=(e=Xt(e,t)?[e]:Wt(e)).length;null!=t&&n<r;)t=t[ne(e[n++])];return n&&n==r?t:void 0}function Nt(t,e){return null!=t&&e in Object(t)}function Ut(t,e,n,r,o){return t===e||(null==t||null==e||!le(t)&&!pe(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var u=ae(t),f=ae(e),s=p,v=p;u||(s=(s=Yt(t))==l?m:s);f||(v=(v=Yt(e))==l?m:v);var _=s==m&&!q(t),k=v==m&&!q(e),R=s==v;if(R&&!_)return i||(i=new Ct),u||de(t)?qt(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!r(new ct(t),new ct(e)));case h:case d:case g:return ie(+t,+e);case y:return t.name==e.name&&t.message==e.message;case j:case S:return t==e+"";case b:var f=G;case w:var s=i&c;if(f||(f=Q),t.size!=e.size&&!s)return!1;var l=u.get(t);if(l)return l==e;i|=a,u.set(t,e);var p=qt(f(t),f(e),r,o,i,u);return u.delete(t),p;case O:if(Et)return Et.call(t)==Et.call(e)}return!1}(t,e,s,n,r,o,i);if(!(o&c)){var T=_&&ot.call(t,"__wrapped__"),P=k&&ot.call(e,"__wrapped__");if(T||P){var C=T?t.value():t,x=P?e.value():e;return i||(i=new Ct),n(C,x,r,o,i)}}if(!R)return!1;return i||(i=new Ct),function(t,e,n,r,o,i){var u=o&c,a=ye(t),f=a.length,s=ye(e).length;if(f!=s&&!u)return!1;for(var l=f;l--;){var p=a[l];if(!(u?p in e:ot.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<f;){p=a[l];var v=t[p],_=e[p];if(r)var b=u?r(_,v,p,e,t,i):r(v,_,p,t,e,i);if(!(void 0===b?v===_||n(v,_,r,o,i):b)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Ut,n,r,o))}function zt(t){return!(!le(t)||nt&&nt in t)&&(fe(t)||q(t)?ut:x).test(re(t))}function Bt(t){return"function"==typeof t?t:null==t?ve:"object"==(void 0===t?"undefined":r(t))?ae(t)?function(t,e){if(Xt(t)&&Zt(e))return te(ne(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Lt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Xt(e,t)?[e]:Wt(e)).length;for(;++o<i;){var u=ne(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;return!!(i=t?t.length:0)&&se(i)&&Jt(u,i)&&(ae(t)||ue(t))}(t,e,Nt)}(n,t):Ut(e,r,void 0,a|c)}}(t[0],t[1]):function(t){var e=function(t){var e=ye(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Zt(o)]}return e}(t);if(1==e.length&&e[0][2])return te(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var f=n[o];if(u&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++o<i;){var s=(f=n[o])[0],l=t[s],p=f[1];if(u&&f[2]){if(void 0===l&&!(s in t))return!1}else{var h=new Ct;if(r)var d=r(l,p,s,t,e,h);if(!(void 0===d?Ut(p,l,r,a|c,h):d))return!1}}return!0}(n,t,e)}}(t):Xt(e=t)?(n=ne(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Lt(e,t)}}(e);var e,n}function Vt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||tt,e!==r)return pt(t);var e,n,r,o=[];for(var i in Object(t))ot.call(t,i)&&"constructor"!=i&&o.push(i);return o}function Ht(t,e){var n=-1,r=ce(t)?Array(t.length):[];return $t(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function Wt(t){return ae(t)?t:ee(t)}function qt(t,e,n,r,o,i){var u=o&c,f=t.length,s=e.length;if(f!=s&&!(u&&s>f))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,h=!0,d=o&a?new Pt:void 0;for(i.set(t,e),i.set(e,t);++p<f;){var y=t[p],v=e[p];if(r)var _=u?r(v,y,p,e,t,i):r(y,v,p,t,e,i);if(void 0!==_){if(_)continue;h=!1;break}if(d){if(!W(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(y!==v&&!n(y,v,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Gt(t,e){var n,o,i=t.__data__;return("string"==(o=void 0===(n=e)?"undefined":r(n))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return zt(n)?n:void 0}var Yt=function(t){return it.call(t)};function Kt(t){return ae(t)||ue(t)||!!(lt&&t&&t[lt])}function Jt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Xt(t,e){if(ae(t))return!1;var n=void 0===t?"undefined":r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!he(t))||(R.test(t)||!k.test(t)||null!=e&&t in Object(e))}function Zt(t){return t==t&&!le(t)}function te(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ht&&Yt(new ht(new ArrayBuffer(1)))!=A||dt&&Yt(new dt)!=b||yt&&"[object Promise]"!=Yt(yt.resolve())||vt&&Yt(new vt)!=w||_t&&"[object WeakMap]"!=Yt(new _t))&&(Yt=function(t){var e=it.call(t),n=e==m?t.constructor:void 0,r=n?re(n):void 0;if(r)switch(r){case gt:return A;case mt:return b;case jt:return"[object Promise]";case wt:return w;case St:return"[object WeakMap]"}return e});var ee=oe(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(he(t))return At?At.call(t):"";var e=t+"";return"0"==e&&1/t==-f?"-0":e}(e);var n=[];return T.test(t)&&n.push(""),t.replace(P,function(t,e,r,o){n.push(r?o.replace(C,"$1"):e||t)}),n});function ne(t){if("string"==typeof t||he(t))return t;var e=t+"";return"0"==e&&1/t==-f?"-0":e}function re(t){if(null!=t){try{return rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function oe(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(oe.Cache||Tt),n}function ie(t,e){return t===e||t!=t&&e!=e}function ue(t){return function(t){return pe(t)&&ce(t)}(t)&&ot.call(t,"callee")&&(!ft.call(t,"callee")||it.call(t)==l)}oe.Cache=Tt;var ae=Array.isArray;function ce(t){return null!=t&&se(t.length)&&!fe(t)}function fe(t){var e=le(t)?it.call(t):"";return e==v||e==_}function se(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function le(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function pe(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}function he(t){return"symbol"==(void 0===t?"undefined":r(t))||pe(t)&&it.call(t)==O}var de=B?function(t){return function(e){return t(e)}}(B):function(t){return pe(t)&&se(t.length)&&!!I[it.call(t)]};function ye(t){return ce(t)?xt(t):Vt(t)}function ve(t){return t}n.exports=function(t,e){return function t(e,n,r,o,i){var u=-1,a=e.length;for(r||(r=Kt),i||(i=[]);++u<a;){var c=e[u];n>0&&r(c)?n>1?t(c,n-1,r,o,i):H(i,c):o||(i[i.length]=c)}return i}(function(t,e){return(ae(t)?V:Ht)(t,Bt(e))}(t,e),1)}}).call(this,n(0),n(1)(t))},function(t,e,n){"use strict";(function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=200,i="Expected a function",u="__lodash_hash_undefined__",a=1,c=2,f=1/0,s=9007199254740991,l="[object Arguments]",p="[object Array]",h="[object Boolean]",d="[object Date]",y="[object Error]",v="[object Function]",_="[object GeneratorFunction]",b="[object Map]",g="[object Number]",m="[object Object]",j="[object RegExp]",w="[object Set]",S="[object String]",O="[object Symbol]",E="[object ArrayBuffer]",A="[object DataView]",k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/,T=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[l]=I[p]=I[E]=I[h]=I[A]=I[d]=I[y]=I[v]=I[b]=I[g]=I[m]=I[j]=I[w]=I[S]=I["[object WeakMap]"]=!1;var F="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,$="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,M=F||$||Function("return this")(),L="object"==r(e)&&e&&!e.nodeType&&e,N=L&&"object"==r(n)&&n&&!n.nodeType&&n,U=N&&N.exports===L&&F.process,z=function(){try{return U&&U.binding("util")}catch(t){}}(),B=z&&z.isTypedArray;function V(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function H(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Q,Y,K,J=Array.prototype,X=Function.prototype,Z=Object.prototype,tt=M["__core-js_shared__"],et=(Q=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",nt=X.toString,rt=Z.hasOwnProperty,ot=Z.toString,it=RegExp("^"+nt.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=M.Symbol,at=M.Uint8Array,ct=Z.propertyIsEnumerable,ft=J.splice,st=(Y=Object.keys,K=Object,function(t){return Y(K(t))}),lt=qt(M,"DataView"),pt=qt(M,"Map"),ht=qt(M,"Promise"),dt=qt(M,"Set"),yt=qt(M,"WeakMap"),vt=qt(Object,"create"),_t=te(lt),bt=te(pt),gt=te(ht),mt=te(dt),jt=te(yt),wt=ut?ut.prototype:void 0,St=wt?wt.valueOf:void 0,Ot=wt?wt.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.__data__=new kt;++e<n;)this.add(t[e])}function Tt(t){this.__data__=new At(t)}function Pt(t,e){var n=oe(t)||re(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!rt.call(t,i)||o&&("length"==i||Qt(i,r))||n.push(i);return n}function Ct(t,e){for(var n=t.length;n--;)if(ne(t[n][0],e))return n;return-1}Et.prototype.clear=function(){this.__data__=vt?vt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===u?void 0:n}return rt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:rt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?u:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(n<0||(n==e.length-1?e.pop():ft.call(e,n,1),0))},At.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return n<0?void 0:e[n][1]},At.prototype.has=function(t){return Ct(this.__data__,t)>-1},At.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new Et,map:new(pt||At),string:new Et}},kt.prototype.delete=function(t){return Wt(this,t).delete(t)},kt.prototype.get=function(t){return Wt(this,t).get(t)},kt.prototype.has=function(t){return Wt(this,t).has(t)},kt.prototype.set=function(t,e){return Wt(this,t).set(t,e),this},Rt.prototype.add=Rt.prototype.push=function(t){return this.__data__.set(t,u),this},Rt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.clear=function(){this.__data__=new At},Tt.prototype.delete=function(t){return this.__data__.delete(t)},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof At){var r=n.__data__;if(!pt||r.length<o-1)return r.push([t,e]),this;n=this.__data__=new kt(r)}return n.set(t,e),this};var xt,Dt,It=(xt=function(t,e){return t&&Ft(t,e,pe)},function(t,e){if(null==t)return t;if(!ie(t))return xt(t,e);for(var n=t.length,r=Dt?n:-1,o=Object(t);(Dt?r--:++r<n)&&!1!==e(o[r],r,o););return t}),Ft=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}();function $t(t,e){for(var n=0,r=(e=Yt(e,t)?[e]:Vt(e)).length;null!=t&&n<r;)t=t[Zt(e[n++])];return n&&n==r?t:void 0}function Mt(t,e){return null!=t&&e in Object(t)}function Lt(t,e,n,r,o){return t===e||(null==t||null==e||!ce(t)&&!fe(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var u=oe(t),f=oe(e),s=p,v=p;u||(s=(s=Gt(t))==l?m:s);f||(v=(v=Gt(e))==l?m:v);var _=s==m&&!W(t),k=v==m&&!W(e),R=s==v;if(R&&!_)return i||(i=new Tt),u||le(t)?Ht(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!r(new at(t),new at(e)));case h:case d:case g:return ne(+t,+e);case y:return t.name==e.name&&t.message==e.message;case j:case S:return t==e+"";case b:var f=q;case w:var s=i&c;if(f||(f=G),t.size!=e.size&&!s)return!1;var l=u.get(t);if(l)return l==e;i|=a,u.set(t,e);var p=Ht(f(t),f(e),r,o,i,u);return u.delete(t),p;case O:if(St)return St.call(t)==St.call(e)}return!1}(t,e,s,n,r,o,i);if(!(o&c)){var T=_&&rt.call(t,"__wrapped__"),P=k&&rt.call(e,"__wrapped__");if(T||P){var C=T?t.value():t,x=P?e.value():e;return i||(i=new Tt),n(C,x,r,o,i)}}if(!R)return!1;return i||(i=new Tt),function(t,e,n,r,o,i){var u=o&c,a=pe(t),f=a.length,s=pe(e).length;if(f!=s&&!u)return!1;for(var l=f;l--;){var p=a[l];if(!(u?p in e:rt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<f;){p=a[l];var v=t[p],_=e[p];if(r)var b=u?r(_,v,p,e,t,i):r(v,_,p,t,e,i);if(!(void 0===b?v===_||n(v,_,r,o,i):b)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Lt,n,r,o))}function Nt(t){return!(!ce(t)||et&&et in t)&&(ue(t)||W(t)?it:x).test(te(t))}function Ut(t){return"function"==typeof t?t:null==t?he:"object"==(void 0===t?"undefined":r(t))?oe(t)?function(t,e){if(Yt(t)&&Kt(e))return Jt(Zt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:$t(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Yt(e,t)?[e]:Vt(e)).length;for(;++o<i;){var u=Zt(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;return!!(i=t?t.length:0)&&ae(i)&&Qt(u,i)&&(oe(t)||re(t))}(t,e,Mt)}(n,t):Lt(e,r,void 0,a|c)}}(t[0],t[1]):function(t){var e=function(t){var e=pe(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Kt(o)]}return e}(t);if(1==e.length&&e[0][2])return Jt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var f=n[o];if(u&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++o<i;){var s=(f=n[o])[0],l=t[s],p=f[1];if(u&&f[2]){if(void 0===l&&!(s in t))return!1}else{var h=new Tt;if(r)var d=r(l,p,s,t,e,h);if(!(void 0===d?Lt(p,l,r,a|c,h):d))return!1}}return!0}(n,t,e)}}(t):Yt(e=t)?(n=Zt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return $t(e,t)}}(e);var e,n}function zt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||Z,e!==r)return st(t);var e,n,r,o=[];for(var i in Object(t))rt.call(t,i)&&"constructor"!=i&&o.push(i);return o}function Bt(t,e){var n=-1,r=ie(t)?Array(t.length):[];return It(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function Vt(t){return oe(t)?t:Xt(t)}function Ht(t,e,n,r,o,i){var u=o&c,f=t.length,s=e.length;if(f!=s&&!(u&&s>f))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,h=!0,d=o&a?new Rt:void 0;for(i.set(t,e),i.set(e,t);++p<f;){var y=t[p],v=e[p];if(r)var _=u?r(v,y,p,e,t,i):r(y,v,p,t,e,i);if(void 0!==_){if(_)continue;h=!1;break}if(d){if(!H(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(y!==v&&!n(y,v,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Wt(t,e){var n,o,i=t.__data__;return("string"==(o=void 0===(n=e)?"undefined":r(n))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function qt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Nt(n)?n:void 0}var Gt=function(t){return ot.call(t)};function Qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e){if(oe(t))return!1;var n=void 0===t?"undefined":r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!se(t))||(R.test(t)||!k.test(t)||null!=e&&t in Object(e))}function Kt(t){return t==t&&!ce(t)}function Jt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(lt&&Gt(new lt(new ArrayBuffer(1)))!=A||pt&&Gt(new pt)!=b||ht&&"[object Promise]"!=Gt(ht.resolve())||dt&&Gt(new dt)!=w||yt&&"[object WeakMap]"!=Gt(new yt))&&(Gt=function(t){var e=ot.call(t),n=e==m?t.constructor:void 0,r=n?te(n):void 0;if(r)switch(r){case _t:return A;case bt:return b;case gt:return"[object Promise]";case mt:return w;case jt:return"[object WeakMap]"}return e});var Xt=ee(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(se(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-f?"-0":e}(e);var n=[];return T.test(t)&&n.push(""),t.replace(P,function(t,e,r,o){n.push(r?o.replace(C,"$1"):e||t)}),n});function Zt(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-f?"-0":e}function te(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ee(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(ee.Cache||kt),n}function ne(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return fe(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!ct.call(t,"callee")||ot.call(t)==l)}ee.Cache=kt;var oe=Array.isArray;function ie(t){return null!=t&&ae(t.length)&&!ue(t)}function ue(t){var e=ce(t)?ot.call(t):"";return e==v||e==_}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function ce(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function fe(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}function se(t){return"symbol"==(void 0===t?"undefined":r(t))||fe(t)&&ot.call(t)==O}var le=B?function(t){return function(e){return t(e)}}(B):function(t){return fe(t)&&ae(t.length)&&!!I[ot.call(t)]};function pe(t){return ie(t)?Pt(t):zt(t)}function he(t){return t}n.exports=function(t,e){return(oe(t)?V:Bt)(t,Ut(e))}}).call(this,n(0),n(1)(t))},function(t,e,n){"use strict";(function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=200,i="Expected a function",u="__lodash_hash_undefined__",a=1,c=2,f=1/0,s=9007199254740991,l="[object Arguments]",p="[object Array]",h="[object Boolean]",d="[object Date]",y="[object Error]",v="[object Function]",_="[object GeneratorFunction]",b="[object Map]",g="[object Number]",m="[object Object]",j="[object RegExp]",w="[object Set]",S="[object String]",O="[object Symbol]",E="[object ArrayBuffer]",A="[object DataView]",k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/,T=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[l]=I[p]=I[E]=I[h]=I[A]=I[d]=I[y]=I[v]=I[b]=I[g]=I[m]=I[j]=I[w]=I[S]=I["[object WeakMap]"]=!1;var F="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,$="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,M=F||$||Function("return this")(),L="object"==r(e)&&e&&!e.nodeType&&e,N=L&&"object"==r(n)&&n&&!n.nodeType&&n,U=N&&N.exports===L&&F.process,z=function(){try{return U&&U.binding("util")}catch(t){}}(),B=z&&z.isTypedArray;function V(t,e){for(var n=-1,r=t?t.length:0,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}function H(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Q,Y,K,J=Array.prototype,X=Function.prototype,Z=Object.prototype,tt=M["__core-js_shared__"],et=(Q=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",nt=X.toString,rt=Z.hasOwnProperty,ot=Z.toString,it=RegExp("^"+nt.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=M.Symbol,at=M.Uint8Array,ct=Z.propertyIsEnumerable,ft=J.splice,st=(Y=Object.keys,K=Object,function(t){return Y(K(t))}),lt=qt(M,"DataView"),pt=qt(M,"Map"),ht=qt(M,"Promise"),dt=qt(M,"Set"),yt=qt(M,"WeakMap"),vt=qt(Object,"create"),_t=te(lt),bt=te(pt),gt=te(ht),mt=te(dt),jt=te(yt),wt=ut?ut.prototype:void 0,St=wt?wt.valueOf:void 0,Ot=wt?wt.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.__data__=new kt;++e<n;)this.add(t[e])}function Tt(t){this.__data__=new At(t)}function Pt(t,e){var n=oe(t)||re(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!rt.call(t,i)||o&&("length"==i||Qt(i,r))||n.push(i);return n}function Ct(t,e){for(var n=t.length;n--;)if(ne(t[n][0],e))return n;return-1}Et.prototype.clear=function(){this.__data__=vt?vt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===u?void 0:n}return rt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:rt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?u:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(n<0||(n==e.length-1?e.pop():ft.call(e,n,1),0))},At.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return n<0?void 0:e[n][1]},At.prototype.has=function(t){return Ct(this.__data__,t)>-1},At.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new Et,map:new(pt||At),string:new Et}},kt.prototype.delete=function(t){return Wt(this,t).delete(t)},kt.prototype.get=function(t){return Wt(this,t).get(t)},kt.prototype.has=function(t){return Wt(this,t).has(t)},kt.prototype.set=function(t,e){return Wt(this,t).set(t,e),this},Rt.prototype.add=Rt.prototype.push=function(t){return this.__data__.set(t,u),this},Rt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.clear=function(){this.__data__=new At},Tt.prototype.delete=function(t){return this.__data__.delete(t)},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof At){var r=n.__data__;if(!pt||r.length<o-1)return r.push([t,e]),this;n=this.__data__=new kt(r)}return n.set(t,e),this};var xt,Dt,It=(xt=function(t,e){return t&&$t(t,e,pe)},function(t,e){if(null==t)return t;if(!ie(t))return xt(t,e);for(var n=t.length,r=Dt?n:-1,o=Object(t);(Dt?r--:++r<n)&&!1!==e(o[r],r,o););return t});function Ft(t,e){var n=[];return It(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}var $t=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}();function Mt(t,e){for(var n=0,r=(e=Yt(e,t)?[e]:Vt(e)).length;null!=t&&n<r;)t=t[Zt(e[n++])];return n&&n==r?t:void 0}function Lt(t,e){return null!=t&&e in Object(t)}function Nt(t,e,n,r,o){return t===e||(null==t||null==e||!ce(t)&&!fe(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var u=oe(t),f=oe(e),s=p,v=p;u||(s=(s=Gt(t))==l?m:s);f||(v=(v=Gt(e))==l?m:v);var _=s==m&&!W(t),k=v==m&&!W(e),R=s==v;if(R&&!_)return i||(i=new Tt),u||le(t)?Ht(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!r(new at(t),new at(e)));case h:case d:case g:return ne(+t,+e);case y:return t.name==e.name&&t.message==e.message;case j:case S:return t==e+"";case b:var f=q;case w:var s=i&c;if(f||(f=G),t.size!=e.size&&!s)return!1;var l=u.get(t);if(l)return l==e;i|=a,u.set(t,e);var p=Ht(f(t),f(e),r,o,i,u);return u.delete(t),p;case O:if(St)return St.call(t)==St.call(e)}return!1}(t,e,s,n,r,o,i);if(!(o&c)){var T=_&&rt.call(t,"__wrapped__"),P=k&&rt.call(e,"__wrapped__");if(T||P){var C=T?t.value():t,x=P?e.value():e;return i||(i=new Tt),n(C,x,r,o,i)}}if(!R)return!1;return i||(i=new Tt),function(t,e,n,r,o,i){var u=o&c,a=pe(t),f=a.length,s=pe(e).length;if(f!=s&&!u)return!1;for(var l=f;l--;){var p=a[l];if(!(u?p in e:rt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<f;){p=a[l];var v=t[p],_=e[p];if(r)var b=u?r(_,v,p,e,t,i):r(v,_,p,t,e,i);if(!(void 0===b?v===_||n(v,_,r,o,i):b)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Nt,n,r,o))}function Ut(t){return!(!ce(t)||et&&et in t)&&(ue(t)||W(t)?it:x).test(te(t))}function zt(t){return"function"==typeof t?t:null==t?he:"object"==(void 0===t?"undefined":r(t))?oe(t)?function(t,e){if(Yt(t)&&Kt(e))return Jt(Zt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Mt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Yt(e,t)?[e]:Vt(e)).length;for(;++o<i;){var u=Zt(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;return!!(i=t?t.length:0)&&ae(i)&&Qt(u,i)&&(oe(t)||re(t))}(t,e,Lt)}(n,t):Nt(e,r,void 0,a|c)}}(t[0],t[1]):function(t){var e=function(t){var e=pe(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Kt(o)]}return e}(t);if(1==e.length&&e[0][2])return Jt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var f=n[o];if(u&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++o<i;){var s=(f=n[o])[0],l=t[s],p=f[1];if(u&&f[2]){if(void 0===l&&!(s in t))return!1}else{var h=new Tt;if(r)var d=r(l,p,s,t,e,h);if(!(void 0===d?Nt(p,l,r,a|c,h):d))return!1}}return!0}(n,t,e)}}(t):Yt(e=t)?(n=Zt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Mt(e,t)}}(e);var e,n}function Bt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||Z,e!==r)return st(t);var e,n,r,o=[];for(var i in Object(t))rt.call(t,i)&&"constructor"!=i&&o.push(i);return o}function Vt(t){return oe(t)?t:Xt(t)}function Ht(t,e,n,r,o,i){var u=o&c,f=t.length,s=e.length;if(f!=s&&!(u&&s>f))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,h=!0,d=o&a?new Rt:void 0;for(i.set(t,e),i.set(e,t);++p<f;){var y=t[p],v=e[p];if(r)var _=u?r(v,y,p,e,t,i):r(y,v,p,t,e,i);if(void 0!==_){if(_)continue;h=!1;break}if(d){if(!H(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(y!==v&&!n(y,v,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Wt(t,e){var n,o,i=t.__data__;return("string"==(o=void 0===(n=e)?"undefined":r(n))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function qt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ut(n)?n:void 0}var Gt=function(t){return ot.call(t)};function Qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e){if(oe(t))return!1;var n=void 0===t?"undefined":r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!se(t))||(R.test(t)||!k.test(t)||null!=e&&t in Object(e))}function Kt(t){return t==t&&!ce(t)}function Jt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(lt&&Gt(new lt(new ArrayBuffer(1)))!=A||pt&&Gt(new pt)!=b||ht&&"[object Promise]"!=Gt(ht.resolve())||dt&&Gt(new dt)!=w||yt&&"[object WeakMap]"!=Gt(new yt))&&(Gt=function(t){var e=ot.call(t),n=e==m?t.constructor:void 0,r=n?te(n):void 0;if(r)switch(r){case _t:return A;case bt:return b;case gt:return"[object Promise]";case mt:return w;case jt:return"[object WeakMap]"}return e});var Xt=ee(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(se(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-f?"-0":e}(e);var n=[];return T.test(t)&&n.push(""),t.replace(P,function(t,e,r,o){n.push(r?o.replace(C,"$1"):e||t)}),n});function Zt(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-f?"-0":e}function te(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ee(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(ee.Cache||kt),n}function ne(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return fe(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!ct.call(t,"callee")||ot.call(t)==l)}ee.Cache=kt;var oe=Array.isArray;function ie(t){return null!=t&&ae(t.length)&&!ue(t)}function ue(t){var e=ce(t)?ot.call(t):"";return e==v||e==_}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function ce(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function fe(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}function se(t){return"symbol"==(void 0===t?"undefined":r(t))||fe(t)&&ot.call(t)==O}var le=B?function(t){return function(e){return t(e)}}(B):function(t){return fe(t)&&ae(t.length)&&!!I[ot.call(t)]};function pe(t){return ie(t)?Pt(t):Bt(t)}function he(t){return t}n.exports=function(t,e){return(oe(t)?V:Ft)(t,zt(e))}}).call(this,n(0),n(1)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);r.__exportStar(n(4),e),r.__exportStar(n(38),e),r.__exportStar(n(34),e),r.__exportStar(n(26),e),r.__exportStar(n(25),e),r.__exportStar(n(15),e)},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=9007199254740991,i="[object Arguments]",u="[object Function]",a="[object GeneratorFunction]",c=/^(?:0|[1-9]\d*)$/;function f(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,function(e){return t[e]})}var s,l,p=Object.prototype,h=p.hasOwnProperty,d=p.toString,y=p.propertyIsEnumerable,v=(s=Object.keys,l=Object,function(t){return s(l(t))});function _(t,e){var n=m(t)||function(t){return function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&j(t)}(t)&&h.call(t,"callee")&&(!y.call(t,"callee")||d.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,u=!!o;for(var a in t)!e&&!h.call(t,a)||u&&("length"==a||g(a,o))||n.push(a);return n}function b(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||p,e!==r)return v(t);var e,n,r,o=[];for(var i in Object(t))h.call(t,i)&&"constructor"!=i&&o.push(i);return o}function g(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||c.test(t))&&t>-1&&t%1==0&&t<e}var m=Array.isArray;function j(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!function(t){var e=function(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}(t)?d.call(t):"";return e==u||e==a}(t)}t.exports=function(t){return t?f(t,function(t){return j(t)?_(t):b(t)}(t)):[]}},function(t,e,n){"use strict";(function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=200,i="__lodash_hash_undefined__",u=9007199254740991,a="[object Arguments]",c="[object Boolean]",f="[object Date]",s="[object Function]",l="[object GeneratorFunction]",p="[object Map]",h="[object Number]",d="[object Object]",y="[object RegExp]",v="[object Set]",_="[object String]",b="[object Symbol]",g="[object ArrayBuffer]",m="[object DataView]",j="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",O="[object Int16Array]",E="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",R="[object Uint16Array]",T="[object Uint32Array]",P=/\w*$/,C=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,D={};D[a]=D["[object Array]"]=D[g]=D[m]=D[c]=D[f]=D[j]=D[w]=D[S]=D[O]=D[E]=D[p]=D[h]=D[d]=D[y]=D[v]=D[_]=D[b]=D[A]=D[k]=D[R]=D[T]=!0,D["[object Error]"]=D[s]=D["[object WeakMap]"]=!1;var I="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,F="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,$=I||F||Function("return this")(),M="object"==r(e)&&e&&!e.nodeType&&e,L=M&&"object"==r(n)&&n&&!n.nodeType&&n,N=L&&L.exports===M;function U(t,e){return t.set(e[0],e[1]),t}function z(t,e){return t.add(e),t}function B(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function V(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){return function(n){return t(e(n))}}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var G,Q=Array.prototype,Y=Function.prototype,K=Object.prototype,J=$["__core-js_shared__"],X=(G=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Z=Y.toString,tt=K.hasOwnProperty,et=K.toString,nt=RegExp("^"+Z.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=N?$.Buffer:void 0,ot=$.Symbol,it=$.Uint8Array,ut=W(Object.getPrototypeOf,Object),at=Object.create,ct=K.propertyIsEnumerable,ft=Q.splice,st=Object.getOwnPropertySymbols,lt=rt?rt.isBuffer:void 0,pt=W(Object.keys,Object),ht=Lt($,"DataView"),dt=Lt($,"Map"),yt=Lt($,"Promise"),vt=Lt($,"Set"),_t=Lt($,"WeakMap"),bt=Lt(Object,"create"),gt=Vt(ht),mt=Vt(dt),jt=Vt(yt),wt=Vt(vt),St=Vt(_t),Ot=ot?ot.prototype:void 0,Et=Ot?Ot.valueOf:void 0;function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){this.__data__=new kt(t)}function Pt(t,e){var n=Wt(t)||function(t){return function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&qt(t)}(t)&&tt.call(t,"callee")&&(!ct.call(t,"callee")||et.call(t)==a)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var u in t)!e&&!tt.call(t,u)||i&&("length"==u||zt(u,o))||n.push(u);return n}function Ct(t,e,n){var r=t[e];tt.call(t,e)&&Ht(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function xt(t,e){for(var n=t.length;n--;)if(Ht(t[n][0],e))return n;return-1}function Dt(t,e,n,r,o,i,u){var C;if(r&&(C=i?r(t,o,i,u):r(t)),void 0!==C)return C;if(!Yt(t))return t;var x=Wt(t);if(x){if(C=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&tt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,C)}else{var I=Ut(t),F=I==s||I==l;if(Gt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(I==d||I==a||F&&!i){if(V(t))return i?t:{};if(C=function(t){return"function"!=typeof t.constructor||Bt(t)?{}:(e=ut(t),Yt(e)?at(e):{});var e}(F?{}:t),!e)return function(t,e){return $t(t,Nt(t),e)}(t,function(t,e){return t&&$t(e,Kt(e),t)}(C,t))}else{if(!D[I])return i?t:{};C=function(t,e,n,r){var o=t.constructor;switch(e){case g:return Ft(t);case c:case f:return new o(+t);case m:return function(t,e){var n=e?Ft(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case j:case w:case S:case O:case E:case A:case k:case R:case T:return function(t,e){var n=e?Ft(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case p:return function(t,e,n){return B(e?n(H(t),!0):H(t),U,new t.constructor)}(t,r,n);case h:case _:return new o(t);case y:return(a=new(u=t).constructor(u.source,P.exec(u))).lastIndex=u.lastIndex,a;case v:return function(t,e,n){return B(e?n(q(t),!0):q(t),z,new t.constructor)}(t,r,n);case b:return i=t,Et?Object(Et.call(i)):{}}var i;var u,a}(t,I,Dt,e)}}u||(u=new Tt);var $=u.get(t);if($)return $;if(u.set(t,C),!x)var M=n?function(t){return function(t,e,n){var r=e(t);return Wt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Kt,Nt)}(t):Kt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(M||t,function(o,i){M&&(o=t[i=o]),Ct(C,i,Dt(o,e,n,r,i,t,u))}),C}function It(t){return!(!Yt(t)||X&&X in t)&&(Qt(t)||V(t)?nt:C).test(Vt(t))}function Ft(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function $t(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var u=e[o],a=r?r(n[u],t[u],u,n,t):void 0;Ct(n,u,void 0===a?t[u]:a)}return n}function Mt(t,e){var n,o,i=t.__data__;return("string"==(o=void 0===(n=e)?"undefined":r(n))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Lt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}At.prototype.clear=function(){this.__data__=bt?bt(null):{}},At.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},At.prototype.get=function(t){var e=this.__data__;if(bt){var n=e[t];return n===i?void 0:n}return tt.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:tt.call(e,t)},At.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?i:e,this},kt.prototype.clear=function(){this.__data__=[]},kt.prototype.delete=function(t){var e=this.__data__,n=xt(e,t);return!(n<0||(n==e.length-1?e.pop():ft.call(e,n,1),0))},kt.prototype.get=function(t){var e=this.__data__,n=xt(e,t);return n<0?void 0:e[n][1]},kt.prototype.has=function(t){return xt(this.__data__,t)>-1},kt.prototype.set=function(t,e){var n=this.__data__,r=xt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Rt.prototype.clear=function(){this.__data__={hash:new At,map:new(dt||kt),string:new At}},Rt.prototype.delete=function(t){return Mt(this,t).delete(t)},Rt.prototype.get=function(t){return Mt(this,t).get(t)},Rt.prototype.has=function(t){return Mt(this,t).has(t)},Rt.prototype.set=function(t,e){return Mt(this,t).set(t,e),this},Tt.prototype.clear=function(){this.__data__=new kt},Tt.prototype.delete=function(t){return this.__data__.delete(t)},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof kt){var r=n.__data__;if(!dt||r.length<o-1)return r.push([t,e]),this;n=this.__data__=new Rt(r)}return n.set(t,e),this};var Nt=st?W(st,Object):function(){return[]},Ut=function(t){return et.call(t)};function zt(t,e){return!!(e=null==e?u:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}function Bt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function Vt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ht(t,e){return t===e||t!=t&&e!=e}(ht&&Ut(new ht(new ArrayBuffer(1)))!=m||dt&&Ut(new dt)!=p||yt&&"[object Promise]"!=Ut(yt.resolve())||vt&&Ut(new vt)!=v||_t&&"[object WeakMap]"!=Ut(new _t))&&(Ut=function(t){var e=et.call(t),n=e==d?t.constructor:void 0,r=n?Vt(n):void 0;if(r)switch(r){case gt:return m;case mt:return p;case jt:return"[object Promise]";case wt:return v;case St:return"[object WeakMap]"}return e});var Wt=Array.isArray;function qt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}(t.length)&&!Qt(t)}var Gt=lt||function(){return!1};function Qt(t){var e=Yt(t)?et.call(t):"";return e==s||e==l}function Yt(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function Kt(t){return qt(t)?Pt(t):function(t){if(!Bt(t))return pt(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return Dt(t,!0,!0)}}).call(this,n(0),n(1)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(46);var r=function(){function t(){}return t.prototype.setRecordTransformer=function(t){this.recordTransformer=t},t.prototype.readText=function(t,e){fetch(t).then(function(t){return t.text()}).then(function(t){e(null,t)}).catch(function(n){e(t+" read error: "+n)})},t}();e.FrontendFileReader=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=n(16),i=n(11),u=n(4),a=n(15);function c(t){return u.isDatapointsQuery(t)&&1===r(t.where).length&&o(t.where)&&t.where.$and?a.QueryFeature.WhereClauseBasedOnConjunction:null}e.featureDetectors=[c,function(t,e){if(!c(t))return null;var n=!0,o=!1,u=void 0;try{for(var f,s=t.where.$and[Symbol.iterator]();!(n=(f=s.next()).done);n=!0){var l=f.value,p=r(l);if(1===p.length){var h=i(p),d=l[h];if(t.join&&t.join[d]){var y=t.join[d],v=y.where,_=i(r(v));if(y.key===h&&y.key===_&&1===r(v).length){var b=v[_],g=e.get(y.key),m=!!b.$in||!!b.$nin,j="entity_set"===g.concept_type||"entity_domain"===g.concept_type;if(1===r(b).length&&m&&j)return a.QueryFeature.ConjunctionPartFromWhereClauseCorrespondsToJoin}}}}}catch(t){o=!0,u=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw u}}return null}]},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(2),u=n(5),a=n(4);function c(t,e){return""+t+e.dataset+"/"+e.branch+"-"+e.commit}e.getRepositoryPath=c,e.getFilePath=function(t){return t+"/"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datapackage.json")},e.extendQueryWithRepository=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e,"repositoryDescriptors",{}),f=o(t.dataset)?"default ":"";if(!f){var s=t.dataset.split("#"),l=r(s,2),p=l[0],h=l[1];!t.branch&&h&&(t.branch=h,t.dataset=p)}var d=o(t.branch)?"default ":"",y=o(t.commit)?"default ":"",v=t.dataset,_=void 0===v?u(e,"defaultRepository",a.DEFAULT_REPOSITORY_NAME):v,b=t.branch,g=void 0===b?u(e,"defaultRepositoryBranch",a.DEFAULT_REPOSITORY_BRANCH):b,m=t.commit,j=void 0===m?u(e,"defaultRepositoryCommit",a.DEFAULT_REPOSITORY_HASH):m;if(o(n[_]))throw new Error("No "+f+"dataset '"+_+"' was found");if(o(n[_][g]))throw new Error("No "+d+"branch '"+g+"' in "+f+"dataset '"+_+"' was found");if(!i(n[_][g],j))throw new Error("No "+y+"commit '"+j+"' in "+d+"branch '"+g+"' in "+f+"dataset '"+_+"' was found");var w=c("",{dataset:_,branch:g,commit:j});Object.assign(t,{repositoryPath:w})}},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=200,o="__lodash_hash_undefined__",i="[object Function]",u="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,c="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,f="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,s=c||f||Function("return this")();function l(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,h,n);var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function p(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function h(t){return t!=t}function d(t,e){return t.has(e)}function y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var v,_=Array.prototype,b=Function.prototype,g=Object.prototype,m=s["__core-js_shared__"],j=(v=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",w=b.toString,S=g.hasOwnProperty,O=g.toString,E=RegExp("^"+w.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=_.splice,k=L(s,"Map"),R=L(s,"Set"),T=L(Object,"create");function P(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function x(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function D(t){var e=-1,n=t?t.length:0;for(this.__data__=new x;++e<n;)this.add(t[e])}function I(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function F(t){return!(!N(t)||j&&j in t)&&(function(t){var e=N(t)?O.call(t):"";return e==i||e==u}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?E:a).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}P.prototype.clear=function(){this.__data__=T?T(null):{}},P.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},P.prototype.get=function(t){var e=this.__data__;if(T){var n=e[t];return n===o?void 0:n}return S.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return T?void 0!==e[t]:S.call(e,t)},P.prototype.set=function(t,e){return this.__data__[t]=T&&void 0===e?o:e,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(t){var e=this.__data__,n=I(e,t);return!(n<0||(n==e.length-1?e.pop():A.call(e,n,1),0))},C.prototype.get=function(t){var e=this.__data__,n=I(e,t);return n<0?void 0:e[n][1]},C.prototype.has=function(t){return I(this.__data__,t)>-1},C.prototype.set=function(t,e){var n=this.__data__,r=I(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},x.prototype.clear=function(){this.__data__={hash:new P,map:new(k||C),string:new P}},x.prototype.delete=function(t){return M(this,t).delete(t)},x.prototype.get=function(t){return M(this,t).get(t)},x.prototype.has=function(t){return M(this,t).has(t)},x.prototype.set=function(t,e){return M(this,t).set(t,e),this},D.prototype.add=D.prototype.push=function(t){return this.__data__.set(t,o),this},D.prototype.has=function(t){return this.__data__.has(t)};var $=R&&1/y(new R([,-0]))[1]==1/0?function(t){return new R(t)}:function(){};function M(t,e){var r,o,i=t.__data__;return("string"==(o=void 0===(r=e)?"undefined":n(r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function L(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return F(n)?n:void 0}function N(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}t.exports=function(t){return t&&t.length?function(t,e,n){var o=-1,i=l,u=t.length,a=!0,c=[],f=c;if(n)a=!1,i=p;else if(u>=r){var s=e?null:$(t);if(s)return y(s);a=!1,i=d,f=new D}else f=e?[]:c;t:for(;++o<u;){var h=t[o],v=e?e(h):h;if(h=n||0!==h?h:0,a&&v==v){for(var _=f.length;_--;)if(f[_]===v)continue t;e&&f.push(v),c.push(h)}else i(f,v,n)||(f!==c&&f.push(v),c.push(h))}return c}(t):[]}}).call(this,n(0))},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="[object String]",i=Object.prototype.toString,u=Array.isArray;t.exports=function(t){return"string"==typeof t||!u(t)&&function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&i.call(t)==o}},function(t,e,n){"use strict";(function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=200,i="Expected a function",u="__lodash_hash_undefined__",a=1,c=2,f=1/0,s=9007199254740991,l="[object Arguments]",p="[object Array]",h="[object Boolean]",d="[object Date]",y="[object Error]",v="[object Function]",_="[object GeneratorFunction]",b="[object Map]",g="[object Number]",m="[object Object]",j="[object RegExp]",w="[object Set]",S="[object String]",O="[object Symbol]",E="[object ArrayBuffer]",A="[object DataView]",k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/,T=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[l]=I[p]=I[E]=I[h]=I[A]=I[d]=I[y]=I[v]=I[b]=I[g]=I[m]=I[j]=I[w]=I[S]=I["[object WeakMap]"]=!1;var F="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,$="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,M=F||$||Function("return this")(),L="object"==r(e)&&e&&!e.nodeType&&e,N=L&&"object"==r(n)&&n&&!n.nodeType&&n,U=N&&N.exports===L&&F.process,z=function(){try{return U&&U.binding("util")}catch(t){}}(),B=z&&z.isTypedArray;function V(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function H(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Q,Y,K,J=Array.prototype,X=Function.prototype,Z=Object.prototype,tt=M["__core-js_shared__"],et=(Q=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",nt=X.toString,rt=Z.hasOwnProperty,ot=Z.toString,it=RegExp("^"+nt.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=M.Symbol,at=M.Uint8Array,ct=Z.propertyIsEnumerable,ft=J.splice,st=(Y=Object.keys,K=Object,function(t){return Y(K(t))}),lt=qt(M,"DataView"),pt=qt(M,"Map"),ht=qt(M,"Promise"),dt=qt(M,"Set"),yt=qt(M,"WeakMap"),vt=qt(Object,"create"),_t=te(lt),bt=te(pt),gt=te(ht),mt=te(dt),jt=te(yt),wt=ut?ut.prototype:void 0,St=wt?wt.valueOf:void 0,Ot=wt?wt.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.__data__=new kt;++e<n;)this.add(t[e])}function Tt(t){this.__data__=new At(t)}function Pt(t,e){var n=oe(t)||re(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!rt.call(t,i)||o&&("length"==i||Qt(i,r))||n.push(i);return n}function Ct(t,e){for(var n=t.length;n--;)if(ne(t[n][0],e))return n;return-1}Et.prototype.clear=function(){this.__data__=vt?vt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(vt){var n=e[t];return n===u?void 0:n}return rt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:rt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?u:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(n<0||(n==e.length-1?e.pop():ft.call(e,n,1),0))},At.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return n<0?void 0:e[n][1]},At.prototype.has=function(t){return Ct(this.__data__,t)>-1},At.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new Et,map:new(pt||At),string:new Et}},kt.prototype.delete=function(t){return Wt(this,t).delete(t)},kt.prototype.get=function(t){return Wt(this,t).get(t)},kt.prototype.has=function(t){return Wt(this,t).has(t)},kt.prototype.set=function(t,e){return Wt(this,t).set(t,e),this},Rt.prototype.add=Rt.prototype.push=function(t){return this.__data__.set(t,u),this},Rt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.clear=function(){this.__data__=new At},Tt.prototype.delete=function(t){return this.__data__.delete(t)},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof At){var r=n.__data__;if(!pt||r.length<o-1)return r.push([t,e]),this;n=this.__data__=new kt(r)}return n.set(t,e),this};var xt,Dt,It=(xt=function(t,e){return t&&$t(t,e,pe)},function(t,e){if(null==t)return t;if(!ie(t))return xt(t,e);for(var n=t.length,r=Dt?n:-1,o=Object(t);(Dt?r--:++r<n)&&!1!==e(o[r],r,o););return t});function Ft(t,e){var n=!0;return It(t,function(t,r,o){return n=!!e(t,r,o)}),n}var $t=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}();function Mt(t,e){for(var n=0,r=(e=Yt(e,t)?[e]:Vt(e)).length;null!=t&&n<r;)t=t[Zt(e[n++])];return n&&n==r?t:void 0}function Lt(t,e){return null!=t&&e in Object(t)}function Nt(t,e,n,r,o){return t===e||(null==t||null==e||!ce(t)&&!fe(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var u=oe(t),f=oe(e),s=p,v=p;u||(s=(s=Gt(t))==l?m:s);f||(v=(v=Gt(e))==l?m:v);var _=s==m&&!W(t),k=v==m&&!W(e),R=s==v;if(R&&!_)return i||(i=new Tt),u||le(t)?Ht(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!r(new at(t),new at(e)));case h:case d:case g:return ne(+t,+e);case y:return t.name==e.name&&t.message==e.message;case j:case S:return t==e+"";case b:var f=q;case w:var s=i&c;if(f||(f=G),t.size!=e.size&&!s)return!1;var l=u.get(t);if(l)return l==e;i|=a,u.set(t,e);var p=Ht(f(t),f(e),r,o,i,u);return u.delete(t),p;case O:if(St)return St.call(t)==St.call(e)}return!1}(t,e,s,n,r,o,i);if(!(o&c)){var T=_&&rt.call(t,"__wrapped__"),P=k&&rt.call(e,"__wrapped__");if(T||P){var C=T?t.value():t,x=P?e.value():e;return i||(i=new Tt),n(C,x,r,o,i)}}if(!R)return!1;return i||(i=new Tt),function(t,e,n,r,o,i){var u=o&c,a=pe(t),f=a.length,s=pe(e).length;if(f!=s&&!u)return!1;for(var l=f;l--;){var p=a[l];if(!(u?p in e:rt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var y=u;++l<f;){p=a[l];var v=t[p],_=e[p];if(r)var b=u?r(_,v,p,e,t,i):r(v,_,p,t,e,i);if(!(void 0===b?v===_||n(v,_,r,o,i):b)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var g=t.constructor,m=e.constructor;g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Nt,n,r,o))}function Ut(t){return!(!ce(t)||et&&et in t)&&(ue(t)||W(t)?it:x).test(te(t))}function zt(t){return"function"==typeof t?t:null==t?he:"object"==(void 0===t?"undefined":r(t))?oe(t)?function(t,e){if(Yt(t)&&Kt(e))return Jt(Zt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:Mt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=Yt(e,t)?[e]:Vt(e)).length;for(;++o<i;){var u=Zt(e[o]);if(!(r=null!=t&&n(t,u)))break;t=t[u]}if(r)return r;return!!(i=t?t.length:0)&&ae(i)&&Qt(u,i)&&(oe(t)||re(t))}(t,e,Lt)}(n,t):Nt(e,r,void 0,a|c)}}(t[0],t[1]):function(t){var e=function(t){var e=pe(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Kt(o)]}return e}(t);if(1==e.length&&e[0][2])return Jt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var f=n[o];if(u&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++o<i;){var s=(f=n[o])[0],l=t[s],p=f[1];if(u&&f[2]){if(void 0===l&&!(s in t))return!1}else{var h=new Tt;if(r)var d=r(l,p,s,t,e,h);if(!(void 0===d?Nt(p,l,r,a|c,h):d))return!1}}return!0}(n,t,e)}}(t):Yt(e=t)?(n=Zt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return Mt(e,t)}}(e);var e,n}function Bt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||Z,e!==r)return st(t);var e,n,r,o=[];for(var i in Object(t))rt.call(t,i)&&"constructor"!=i&&o.push(i);return o}function Vt(t){return oe(t)?t:Xt(t)}function Ht(t,e,n,r,o,i){var u=o&c,f=t.length,s=e.length;if(f!=s&&!(u&&s>f))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,h=!0,d=o&a?new Rt:void 0;for(i.set(t,e),i.set(e,t);++p<f;){var y=t[p],v=e[p];if(r)var _=u?r(v,y,p,e,t,i):r(y,v,p,t,e,i);if(void 0!==_){if(_)continue;h=!1;break}if(d){if(!H(e,function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(y!==v&&!n(y,v,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Wt(t,e){var n,o,i=t.__data__;return("string"==(o=void 0===(n=e)?"undefined":r(n))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function qt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ut(n)?n:void 0}var Gt=function(t){return ot.call(t)};function Qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e){if(oe(t))return!1;var n=void 0===t?"undefined":r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!se(t))||(R.test(t)||!k.test(t)||null!=e&&t in Object(e))}function Kt(t){return t==t&&!ce(t)}function Jt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(lt&&Gt(new lt(new ArrayBuffer(1)))!=A||pt&&Gt(new pt)!=b||ht&&"[object Promise]"!=Gt(ht.resolve())||dt&&Gt(new dt)!=w||yt&&"[object WeakMap]"!=Gt(new yt))&&(Gt=function(t){var e=ot.call(t),n=e==m?t.constructor:void 0,r=n?te(n):void 0;if(r)switch(r){case _t:return A;case bt:return b;case gt:return"[object Promise]";case mt:return w;case jt:return"[object WeakMap]"}return e});var Xt=ee(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(se(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-f?"-0":e}(e);var n=[];return T.test(t)&&n.push(""),t.replace(P,function(t,e,r,o){n.push(r?o.replace(C,"$1"):e||t)}),n});function Zt(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-f?"-0":e}function te(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ee(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(ee.Cache||kt),n}function ne(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return fe(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!ct.call(t,"callee")||ot.call(t)==l)}ee.Cache=kt;var oe=Array.isArray;function ie(t){return null!=t&&ae(t.length)&&!ue(t)}function ue(t){var e=ce(t)?ot.call(t):"";return e==v||e==_}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function ce(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function fe(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}function se(t){return"symbol"==(void 0===t?"undefined":r(t))||fe(t)&&ot.call(t)==O}var le=B?function(t){return function(e){return t(e)}}(B):function(t){return fe(t)&&ae(t.length)&&!!I[ot.call(t)]};function pe(t){return ie(t)?Pt(t):Bt(t)}function he(t){return t}n.exports=function(t,e,n){var o=oe(t)?V:Ft;return n&&function(t,e,n){if(!ce(n))return!1;var o=void 0===e?"undefined":r(e);return!!("number"==o?ie(n)&&Qt(e,n.length):"string"==o&&e in n)&&ne(n[e],t)}(t,e,n)&&(e=void 0),o(t,zt(e))}}).call(this,n(0),n(1)(t))},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="Expected a function",o="__lodash_hash_undefined__",i=1/0,u=9007199254740991,a="[object Arguments]",c="[object Function]",f="[object GeneratorFunction]",s="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,b="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,g="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,m=b||g||Function("return this")();var j,w=Array.prototype,S=Function.prototype,O=Object.prototype,E=m["__core-js_shared__"],A=(j=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",k=S.toString,R=O.hasOwnProperty,T=O.toString,P=RegExp("^"+k.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=m.Symbol,x=O.propertyIsEnumerable,D=w.splice,I=W(m,"Map"),F=W(Object,"create"),$=C?C.prototype:void 0,M=$?$.toString:void 0;function L(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function U(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function z(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function B(t,e){return null!=t&&R.call(t,e)}function V(t){return!(!Z(t)||A&&A in t)&&(J(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?P:v).test(function(t){if(null!=t){try{return k.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function H(t,e){var r,o,i=t.__data__;return("string"==(o=void 0===(r=e)?"undefined":n(r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function W(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return V(n)?n:void 0}function q(t,e,r){for(var o,i,c=-1,f=(e=function(t,e){if(K(t))return!1;var r=void 0===t?"undefined":n(t);if("number"==r||"symbol"==r||"boolean"==r||null==t||et(t))return!0;return p.test(t)||!l.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:K(o=e)?o:G(o)).length;++c<f;){var s=Q(e[c]);if(!(i=null!=t&&r(t,s)))break;t=t[s]}return i||!!(f=t?t.length:0)&&X(f)&&function(t,e){return!!(e=null==e?u:e)&&("number"==typeof t||_.test(t))&&t>-1&&t%1==0&&t<e}(s,f)&&(K(t)||function(t){return function(t){return tt(t)&&function(t){return null!=t&&X(t.length)&&!J(t)}(t)}(t)&&R.call(t,"callee")&&(!x.call(t,"callee")||T.call(t)==a)}(t))}L.prototype.clear=function(){this.__data__=F?F(null):{}},L.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},L.prototype.get=function(t){var e=this.__data__;if(F){var n=e[t];return n===o?void 0:n}return R.call(e,t)?e[t]:void 0},L.prototype.has=function(t){var e=this.__data__;return F?void 0!==e[t]:R.call(e,t)},L.prototype.set=function(t,e){return this.__data__[t]=F&&void 0===e?o:e,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(t){var e=this.__data__,n=z(e,t);return!(n<0||(n==e.length-1?e.pop():D.call(e,n,1),0))},N.prototype.get=function(t){var e=this.__data__,n=z(e,t);return n<0?void 0:e[n][1]},N.prototype.has=function(t){return z(this.__data__,t)>-1},N.prototype.set=function(t,e){var n=this.__data__,r=z(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},U.prototype.clear=function(){this.__data__={hash:new L,map:new(I||N),string:new L}},U.prototype.delete=function(t){return H(this,t).delete(t)},U.prototype.get=function(t){return H(this,t).get(t)},U.prototype.has=function(t){return H(this,t).has(t)},U.prototype.set=function(t,e){return H(this,t).set(t,e),this};var G=Y(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(et(t))return M?M.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}(e);var n=[];return h.test(t)&&n.push(""),t.replace(d,function(t,e,r,o){n.push(r?o.replace(y,"$1"):e||t)}),n});function Q(t){if("string"==typeof t||et(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function Y(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new(Y.Cache||U),n}Y.Cache=U;var K=Array.isArray;function J(t){var e=Z(t)?T.call(t):"";return e==c||e==f}function X(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function Z(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function tt(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}function et(t){return"symbol"==(void 0===t?"undefined":n(t))||tt(t)&&T.call(t)==s}t.exports=function(t,e){return null!=t&&q(t,e,B)}}).call(this,n(0))},function(t,e,n){"use strict";t.exports=function(t){return t?t[0]:void 0}},function(t,e,n){"use strict";(function(e){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=9007199254740991,i="[object Function]",u="[object GeneratorFunction]",a="[object Map]",c="[object Set]",f="[object String]",s=/^\[object .+?Constructor\]$/,l="[\\ud800-\\udfff]",p="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",h="\\ud83c[\\udffb-\\udfff]",d="[^\\ud800-\\udfff]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="(?:"+p+"|"+h+")"+"?",b="[\\ufe0e\\ufe0f]?"+_+("(?:\\u200d(?:"+[d,y,v].join("|")+")[\\ufe0e\\ufe0f]?"+_+")*"),g="(?:"+[d+p+"?",p,y,v,l].join("|")+")",m=RegExp(h+"(?="+h+")|"+g+b,"g"),j=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),w="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e,S="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,O=w||S||Function("return this")(),E=(n="length",function(t){return null==t?void 0:t[n]});function A(t){return function(t){return j.test(t)}(t)?function(t){var e=m.lastIndex=0;for(;m.test(t);)e++;return e}(t):E(t)}var k,R,T,P=Function.prototype,C=Object.prototype,x=O["__core-js_shared__"],D=(k=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",I=P.toString,F=C.hasOwnProperty,$=C.toString,M=RegExp("^"+I.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=(R=Object.keys,T=Object,function(t){return R(T(t))}),N=J(O,"DataView"),U=J(O,"Map"),z=J(O,"Promise"),B=J(O,"Set"),V=J(O,"WeakMap"),H=Z(N),W=Z(U),q=Z(z),G=Z(B),Q=Z(V);function Y(t){return!(!nt(t)||D&&D in t)&&(et(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?M:s).test(Z(t))}function K(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||C,e!==r)return L(t);var e,n,r,o=[];for(var i in Object(t))F.call(t,i)&&"constructor"!=i&&o.push(i);return o}function J(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Y(n)?n:void 0}var X=function(t){return $.call(t)};function Z(t){if(null!=t){try{return I.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(N&&"[object DataView]"!=X(new N(new ArrayBuffer(1)))||U&&X(new U)!=a||z&&"[object Promise]"!=X(z.resolve())||B&&X(new B)!=c||V&&"[object WeakMap]"!=X(new V))&&(X=function(t){var e=$.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?Z(n):void 0;if(r)switch(r){case H:return"[object DataView]";case W:return a;case q:return"[object Promise]";case G:return c;case Q:return"[object WeakMap]"}return e});var tt=Array.isArray;function et(t){var e=nt(t)?$.call(t):"";return e==i||e==u}function nt(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}t.exports=function(t){if(null==t)return 0;if(null!=(e=t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(e.length)&&!et(e))return function(t){return"string"==typeof t||!tt(t)&&function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&$.call(t)==f}(t)?A(t):t.length;var e,n=X(t);return n==a||n==c?t.size:K(t).length}}).call(this,n(0))},function(t,e,n){"use strict";var r=Array.isArray;t.exports=r},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});n(3);var o=n(6),i=n(7),u=n(16),a=n(33),c=n(32),f=(n(23),n(22)),s=n(10),l=n(19),p=(n(18),n(31)),h=n(20),d=n(9),y=n(5),v=n(30),_=n(29),b=n(8),g=n(28),m=n(2),j=n(27),w=n(4),S=n(17);function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,f){var p=[].concat(r(function(t,e){var n=[],r=y(t,"dataset"),o=y(t,"branch"),u=y(t,"commit");i(r)||g(r)||n.push("'dataset' clause must be string only");i(o)||g(o)||n.push("'branch' clause must be string only");i(u)||g(u)||n.push("'commit' clause must be string only");return n}(t)),r(function(t,e){var n=[],o=y(t,"from",null);i(o)&&n.push("'from' clause couldn't be empty");g(o)||n.push("'from' clause must be string only");if(!w.AVAILABLE_FROM_CLAUSE_VALUES.has(o)){var u=[].concat(r(w.AVAILABLE_FROM_CLAUSE_VALUES));n.push("'from' clause must be one of the list: "+u.join(", "))}return n}(t)),r(function(t,e){var n=[],r=y(t,"select",null),o=y(t,"from",null),i=y(r,"key"),f=y(r,"value");switch(!0){case w.isSchemaQuery(t):n.push(E(r),function(t,e){if(!a(e)||2!==c(e))return"'select.key' clause for '"+t+"' queries must have exactly 2 items: 'key', 'value'"}(o,i),T(o,f));break;case w.isEntitiesQuery(t):case w.isConceptsQuery(t):n.push(E(r),P(r,i,f),C(o,i),T(o,f));break;case w.isDatapointsQuery(t):n.push(E(r),function(t,e,n){if(!u(t)||!a(e)||!a(n))return"'select' clause must have next structure: { key: [...], value: [...] }"}(r,i,f),function(t,e){if(c(e)<2)return"'select.key' clause for '"+t+"' queries must have at least 2 items"}(o,i),function(t,e){var n=(r=e,h(r,function(t,e,n){return m(n,t,e+1)}));var r;if(c(n)>0)return"'select.key' clause for '"+t+"' queries contains duplicates: "+j(n).join(",")}(o,i),function(t,e){if(c(e)<1)return"'select.value' clause for '"+t+"' queries must have at least 1 item"}(o,f));break;default:n.push(E(r))}return b(n)}(t)),r(function(t,e){var n=[],u=y(t,"join",null),a=y(t,"where",null),c=function t(e){var n=[];for(var o in e)d(o,"$")&&n.push({name:o,isLeaf:!1}),S.isPrimitive(e[o])?d(e[o],"$")&&n.push({name:e[o],isLeaf:!0}):n.push.apply(n,r(t(e[o])));return n}(a);return n.push(function(t,e){if(!i(t)&&!A(t))return"'"+e+"where' clause must be object only"}(a,R(e)),function(t,e,n){var i=h(e,function(e){return!function(t,e){return function(t){return!t.isLeaf&&w.AVAILABLE_QUERY_OPERATORS.has(t.name)}(e)||function(t,e){return e.isLeaf&&d(e.name,"$")&&v(t,e.name)}(t,e)}(t,e)}).map(function(t){return t.name}),u=[].concat(r(w.AVAILABLE_QUERY_OPERATORS.values()),r(s(t)));if(!o(i))return"'"+n+"where' clause has unknown operator(s) '"+i.join(", ")+"', replace it with allowed operators: "+u.join(", ")}(u,c,R(e))),b(n)}(t,e)),r(function(t,e){var n=[],r=y(t,"language",null);switch(!0){case w.isSchemaQuery(t):n.push(function(t){if(v(t,"language"))return"'language' clause for '*.schema' queries shouldn't be present in query"}(t));break;case w.isEntitiesQuery(t):case w.isConceptsQuery(t):case w.isDatapointsQuery(t):default:n.push(function(t){if(!i(t)&&!g(t))return"'language' clause must be string only"}(r))}return b(n)}(t)),r(function(t,e){var n=[],o=y(t,"join",null);switch(!0){case w.isSchemaQuery(t):case w.isConceptsQuery(t):n.push(function(t){if(v(t,"join"))return"'join' clause for '"+t.from+"' queries shouldn't be present in query"}(t));break;case w.isEntitiesQuery(t):case w.isDatapointsQuery(t):default:n.push.apply(n,[function(t){if(!i(t)&&!A(t))return"'join' clause must be object only"}(o)].concat(r(l(o,function(t,e){return function(t,e){if(!i(t.key)&&!g(t.key))return"'"+e+"key' clause must be string only"}(t,R({joinID:e}))}))))}return b(n)}(t)),r(function(t,e){var n=[],r=y(t,"order_by",null);return n.push(function(t){if(!(i(t)||g(t)||(e=t,a(e)&&_(e,g))||function(t,e){return a(t)&&_(t,e)}(t,k)))return"'order_by' clause must be string or array of strings || objects only";var e}(r)),b(n)}(t)));return o(p)?n():f("Too many query structure errors: \n* "+p.join("\n* "))})}function E(t){if(i(t))return"'select' clause couldn't be empty"}function A(t){return u(t)&&!a(t)}function k(t){return g(t)||A(t)&&1===c(t)&&w.AVAILABLE_ORDER_BY_CLAUSE_VALUES.has(p(f(t)))}function R(t){return y(t,"joinID",!1)?"join."+t.joinID+".":""}function T(t,e){if(!a(e)&&!i(e))return"'select.value' clause for '"+t+"' queries should be array of strings or empty"}function P(t,e,n){if(!u(t)||!a(e))return"'select' clause must have next structure: { key: [...], value: [...] }"}function C(t,e){if(!a(e)||1!==c(e))return"'select.key' clause for '"+t+"' queries must have only 1 item"}e.validateQueryStructure=O},function(t,e,n){"use strict";"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return t&&"object"===(void 0===t?"undefined":r(t))&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=1/0,o="[object Symbol]",i=/^\s+/,u="[\\ud800-\\udfff]",a="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",c="\\ud83c[\\udffb-\\udfff]",f="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",p="(?:"+a+"|"+c+")"+"?",h="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+[f,s,l].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),d="(?:"+[f+a+"?",a,s,l,u].join("|")+")",y=RegExp(c+"(?="+c+")|"+d+h,"g"),v=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),_="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,b="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,g=_||b||Function("return this")();function m(t,e,n){if(e!=e)return function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,j,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function j(t){return t!=t}function w(t){return function(t){return v.test(t)}(t)?function(t){return t.match(y)||[]}(t):function(t){return t.split("")}(t)}var S=Object.prototype.toString,O=g.Symbol,E=O?O.prototype:void 0,A=E?E.toString:void 0;function k(t){if("string"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":n(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&S.call(t)==o}(t))return A?A.call(t):"";var e=t+"";return"0"==e&&1/t==-r?"-0":e}function R(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}(t,e,n)}t.exports=function(t,e,n){var r;if((t=null==(r=t)?"":k(r))&&(n||void 0===e))return t.replace(i,"");if(!t||!(e=k(e)))return t;var o=w(t);return R(o,function(t,e){for(var n=-1,r=t.length;++n<r&&m(e,t[n],0)>-1;);return n}(o,w(e))).join("")}}).call(this,n(0))},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=n(20),u=n(19),a=n(5),c=n(8),f=n(2),s=n(9),l=n(7),p=n(37),h=(n(18),n(4)),d=n(17);function y(t,e){return i(t,function(t){return!f(e,t)})}function v(t,e){var n=i([].concat(r(e.values())),function(e){var n=e.concept_type;return f(t,n)});return u(n,"concept")}e.validateQueryDefinitions=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,i){var u=[].concat(r(function(t,e){var n=[],i=a(t,"from",null),u=a(t,"select",null),f=a(u,"key"),s=a(u,"value"),l=[],p=[],d=e.conceptsLookup;switch(!0){case h.isDatapointsQuery(t):var _=[h.CONCEPT_TYPE_ENTITY_SET,h.CONCEPT_TYPE_ENTITY_DOMAIN,h.CONCEPT_TYPE_TIME];l.push.apply(l,r(v(_,d))),p.push.apply(p,r(d.keys()));break;case h.isEntitiesQuery(t):var b=[h.CONCEPT_TYPE_ENTITY_SET,h.CONCEPT_TYPE_ENTITY_DOMAIN];l.push.apply(l,r(v(b,d))),p.push.apply(p,r(d.keys()));break;case h.isConceptsQuery(t):l.push(h.RESERVED_CONCEPT),p.push.apply(p,r(d.keys()).concat([h.RESERVED_CONCEPT,h.RESERVED_CONCEPT_TYPE,h.RESERVED_DOMAIN,h.RESERVED_UNIT,h.RESERVED_DRILL_UP]));break;default:l.push(h.RESERVED_KEY,h.RESERVED_VALUE),p.push(h.RESERVED_KEY,h.RESERVED_VALUE)}return n.push(function(t,e,n){var r=y(e,n);if(!o(r))return"'select.key' clause for '"+t+"' query contains unavailable item(s): "+r.join(", ")}(i,f,l),function(t,e,n){var r=y(e,n);if(!o(e)&&!o(r))return"'select.value' clause for '"+t+"' query contains unavailable item(s): "+r.join(", ")}(i,s,p)),c(n)}(t,e)),r(function(t,e){var n=[],r=a(t,"where",null),i=(a(t,"from",null),a(t,"select",null));switch(a(i,"key"),a(i,"value"),function(t){var e={};!function t(e,n,r){for(var i in e){var u=!l(r),a=!u&&!s(i,"$")&&isNaN(+i),c=i.split("."),f=(v=c,Array.isArray(v)?v:Array.from(v)),h=f[0],y=f.slice(1);a&&(l(n[h])&&(n[p(h,"is--")]=[]),o(y)||n[h].push(p(y.join("."),"is--"))),d.isPrimitive(e[i])||t(e[i],n,a?h:r)}var v}(t,e)}(r),e.conceptsLookup,!0){case h.isDatapointsQuery(t):[].push(h.CONCEPT_TYPE_ENTITY_SET,h.CONCEPT_TYPE_ENTITY_DOMAIN,h.CONCEPT_TYPE_TIME),n.push()}return c(n)}(t,e)));return o(u)?n():i("Too many query definition errors [repo: "+e.basePath+"]: \n* "+u.join("\n* "))})}},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=1/0,o=9007199254740991,i="[object Arguments]",u="[object Function]",a="[object GeneratorFunction]",c="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,f="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,s=c||f||Function("return this")();function l(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var p=Object.prototype,h=p.hasOwnProperty,d=p.toString,y=s.Symbol,v=p.propertyIsEnumerable,_=y?y.isConcatSpreadable:void 0;function b(t){return g(t)||function(t){return function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!function(t){var e=function(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}(t)?d.call(t):"";return e==u||e==a}(t)}(t)}(t)&&h.call(t,"callee")&&(!v.call(t,"callee")||d.call(t)==i)}(t)||!!(_&&t&&t[_])}var g=Array.isArray;t.exports=function(t){return t&&t.length?function t(e,n,r,o,i){var u=-1,a=e.length;for(r||(r=b),i||(i=[]);++u<a;){var c=e[u];n>0&&r(c)?n>1?t(c,n-1,r,o,i):l(i,c):o||(i[i.length]=c)}return i}(t,r):[]}}).call(this,n(0))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var u=o>=0?arguments[o]:t.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(e=u+"/"+e,r="/"===u.charAt(0))}return e=n(i(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),o="/"===u(t,-1);return(t=n(i(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),u=Math.min(o.length,i.length),a=u,c=0;c<u;c++)if(o[c]!==i[c]){a=c;break}var f=[];for(c=a;c<o.length;c++)f.push("..");return(f=f.concat(i.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var u="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(12))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(40),i=n(11),u=n(22),a=n(10),c=n(5),f=n(39),s=n(6),l=n(9),p=n(2),h=n(8),d=n(13),y=n(21),v=n(14),_=function(t){return i(u(t))},b=function(t){return 1===a(t).length},g=function(){function t(t,e){this.flow={},this.fileReader=e.fileReader,this.datasetPath=e.basePath,this.query=t,this.datapackage=e.datapackage,this.conceptsLookup=e.conceptsLookup}return t.prototype.isMatched=function(){var t=this;this.flow.joinObject=c(this.query,"join");var e=h(y.featureDetectors.map(function(e){return e(t.query,t.conceptsLookup)}));return p(e,y.QueryFeature.WhereClauseBasedOnConjunction)&&p(e,y.QueryFeature.ConjunctionPartFromWhereClauseCorrespondsToJoin)},t.prototype.getRecommendedFilesSet=function(){return r.__awaiter(this,void 0,void 0,function(){var t,e;return r.__generator(this,function(n){switch(n.label){case 0:if(!this.isMatched())return[3,5];t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),this.fillResourceToFileHash(),this.collectProcessableClauses(),this.collectEntityFilesNames(),[4,this.collectEntities()];case 2:return e=n.sent(),this.fillEntityValuesHash(e),this.getFilesGroupsQueryClause(),t=this.getOptimalFilesGroup(),[3,4];case 3:return n.sent(),[2,[]];case 4:return[2,t];case 5:throw new d.DdfCsvError('Plugin "InClauseUnderConjunction" is not matched!',"InClauseUnderConjunction plugin")}})})},t.prototype.fillResourceToFileHash=function(){return this.flow.resourceToFile=c(this.datapackage,"resources",[]).reduce(function(t,e){return t.set(e.name,e.path),t},new Map),this},t.prototype.collectProcessableClauses=function(){var t,e,n=this,r=a(this.flow.joinObject);this.flow.processableClauses=[];for(var o=0,i=r;o<i.length;o++){var u=i[o],s=c(this.flow.joinObject,u+".where",{});this.singleAndField(s)?(t=this.flow.processableClauses).push.apply(t,f(s.$and.map(function(t){return n.getProcessableClauses(t)}))):(e=this.flow.processableClauses).push.apply(e,this.getProcessableClauses(s))}return this},t.prototype.collectEntityFilesNames=function(){this.flow.entityFilesNames=[],this.flow.fileNameToPrimaryKeyHash=new Map;for(var t=0,e=this.datapackage.ddfSchema.entities;t<e.length;t++)for(var n=e[t],r=0,o=this.flow.processableClauses;r<o.length;r++){var u=o[r],c=i(a(u));if(i(n.primaryKey)===c)for(var f=0,s=n.resources;f<s.length;f++){var l=s[f],p=this.flow.resourceToFile.get(l);this.flow.entityFilesNames.push(p),this.flow.fileNameToPrimaryKeyHash.set(p,c)}}return this},t.prototype.collectEntities=function(){var t=this,e=t.flow.entityFilesNames.map(function(e){return new Promise(function(n,r){t.fileReader.readText(o.join(t.datasetPath,e),function(t,o){if(t)return r(t);v.parse(o,{header:!0,skipEmptyLines:!0,complete:function(t){return n({file:e,result:t})},error:function(t){return r(t)}})})})});return Promise.all(e)},t.prototype.fillEntityValuesHash=function(t){var e=function(t){return h(a(t).filter(function(e){return l(e,"is--")&&("TRUE"===t[e]||"true"===t[e])}).map(function(t){return t.replace(/^is--/,"")}))};this.flow.entityValueToFileHash=new Map,this.flow.entityValueToDomainHash=new Map;for(var n=0,r=t;n<r.length;n++)for(var o=r[n],i=0,u=o.result.data;i<u.length;i++){var c=u[i],f=this.flow.fileNameToPrimaryKeyHash.get(o.file),p=c[f],d=e(c).slice();s(d)&&d.push(f),this.flow.entityValueToDomainHash.set(p,d),this.flow.entityValueToFileHash.set(p,o.file)}return this},t.prototype.getFilesGroupsQueryClause=function(){for(var t=this,e=function(e){for(var n=[],r=0,o=t.flow.entityValueToDomainHash.keys();r<o.length;r++){var i=o[r];p(e,i)||n.push(i)}return n},n=new Map,r=0,o=this.flow.processableClauses;r<o.length;r++){for(var i=o[r],u={entities:new Set,datapoints:new Set,concepts:new Set},a=_(i),c=0,f=a.$in||e(a.$nin);c<f.length;c++){var s=f[c];u.entities.add(this.flow.entityValueToFileHash.get(s));for(var l=0,h=this.flow.entityValueToDomainHash.get(s);l<h.length;l++)for(var d=h[l],y=0,v=this.datapackage.ddfSchema.datapoints;y<v.length;y++)for(var b=0,g=(S=v[y]).resources;b<g.length;b++){var m=g[b];p(S.primaryKey,d)&&u.datapoints.add(this.flow.resourceToFile.get(m))}}for(var j=0,w=this.datapackage.ddfSchema.concepts;j<w.length;j++)for(var S,O=0,E=(S=w[j]).resources;O<E.length;O++){m=E[O];u.concepts.add(this.flow.resourceToFile.get(m))}n.set(i,u)}return this.flow.filesGroupsByClause=n,this},t.prototype.getOptimalFilesGroup=function(){for(var t,e,n=0,r=this.flow.filesGroupsByClause.keys();n<r.length;n++){var o=r[n],i=this.flow.filesGroupsByClause.get(o).datapoints.size+this.flow.filesGroupsByClause.get(o).entities.size+this.flow.filesGroupsByClause.get(o).concepts.size;(!t||i<e)&&(t=o,e=i)}return this.flow.filesGroupsByClause.get(t)?Array.from(this.flow.filesGroupsByClause.get(t).concepts).concat(Array.from(this.flow.filesGroupsByClause.get(t).entities),Array.from(this.flow.filesGroupsByClause.get(t).datapoints)):[]},t.prototype.getProcessableClauses=function(t){for(var e=[],n=0,r=a(t);n<r.length;n++){var o=r[n];if(!l(o,"$")&&b(t[o])){var u=i(a(t[o]));"$in"!==u&&"$nin"!==u||e.push(t)}}return e},t.prototype.singleAndField=function(t){return b(t)&&!!c(t,"$and")},t}();e.InClauseUnderConjunction=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(41),o=n(11);e.getAppropriatePlugin=function(t,e){var n=[new r.InClauseUnderConjunction(t,e)];return o(n.filter(function(t){return t.isMatched()}))}},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=9007199254740991,o="[object Arguments]",i="[object Function]",u="[object GeneratorFunction]",a="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,c="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,f=a||c||Function("return this")();function s(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var l=Object.prototype,p=l.hasOwnProperty,h=l.toString,d=f.Symbol,y=l.propertyIsEnumerable,v=d?d.isConcatSpreadable:void 0;function _(t){return b(t)||function(t){return function(t){return function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==i||e==u}(t)}(t)}(t)&&p.call(t,"callee")&&(!y.call(t,"callee")||h.call(t)==o)}(t)||!!(v&&t&&t[v])}var b=Array.isArray;t.exports=function(){for(var t=arguments.length,e=Array(t?t-1:0),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return t?s(b(n)?function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(n):[n],function t(e,n,r,o,i){var u=-1,a=e.length;for(r||(r=_),i||(i=[]);++u<a;){var c=e[u];n>0&&r(c)?n>1?t(c,n-1,r,o,i):s(i,c):o||(i[i.length]=c)}return i}(e,1)):[]}}).call(this,n(0))},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(2),u=n(23),a=n(6),c=n(43),f=n(42),s=n(13),l=n(21),p=n(14),h=function(t){return!("number"!=typeof t&&!t)};e.ddfCsvReader=function(t){var e=[{concept:"concept",concept_type:"string",domain:null},{concept:"concept_type",concept_type:"string",domain:null}],n=new Map([["$and",function(t,e){return e.every(function(e){return w(t,e)})}],["$or",function(t,e){return e.some(function(e){return w(t,e)})}],["$not",function(t,e){return!w(t,e)}],["$nor",function(t,e){return!e.some(function(e){return w(t,e)})}],["$eq",function(t,e){return t==e}],["$ne",function(t,e){return t!=e}],["$gt",function(t,e){return h(t)&&t>e}],["$gte",function(t,e){return h(t)&&t>=e}],["$lt",function(t,e){return h(t)&&t<e}],["$lte",function(t,e){return h(t)&&t<=e}],["$in",function(t,e){return e.has(t)}],["$nin",function(t,e){return!e.has(t)}]]),d=new Map,y=new Map,v=[];function _(t){var e=l.getFilePath(t.basePath);return new Promise(function(n,r){t.fileReader.readText(e,function(t,o){if(t)return r(new s.DdfCsvError(s.FILE_READING_ERROR,t,e));var i;try{i=JSON.parse(o),v=[],function(t){if(y.size>0)return y;t.resources.forEach(function(t){Array.isArray(t.schema.primaryKey)||(t.schema.primaryKey=[t.schema.primaryKey]),t.translations={},y.set(t.name,t)})}(i),function(t){if(d.size>0)return d;for(var e in t.ddfSchema)t.ddfSchema[e].map(function(t){var e=P(t.primaryKey),n=t.resources.map(function(t){return y.get(t)});d.has(e)?d.get(e).set(t.value,n):d.set(e,new Map([[t.value,n]]))})}(i)}catch(t){return r(new s.DdfCsvError(s.JSON_PARSING_ERROR,t.message,e))}n(i)})})}function b(t,n){return o.__awaiter(this,void 0,void 0,function(){var t,r;return o.__generator(this,function(o){switch(o.label){case 0:g(e,n),t={select:{key:["concept"],value:["concept_type","domain"]},from:"concepts"},o.label=1;case 1:return o.trys.push([1,4,,5]),[4,j(t,n)];case 2:return function(t,n){var r=t.filter(function(t){return"entity_set"===t.concept_type}).map(function(t){return{concept:"is--"+t.concept,concept_type:"boolean",domain:null}});g(t=t.concat(r).concat(e),n)}(o.sent(),n),[4,function(t){var e=t.conceptsLookup,n=new Map([["boolean",function(t){return"true"===t||"TRUE"===t}],["measure",function(t){return parseFloat(t)}]]),r=A(["concept"]).slice().map(function(t){return t.data.then(function(t){var r=Object.keys(t.data[0]),o=new Map;return r.forEach(function(t){var r=e.get(t).concept_type,i=n.get(r);i&&o.set(t,i)}),t.data.forEach(function(t){for(var e=0,n=Array.from(o);e<n.length;e++){var r=n[e],i=r[0],u=r[1];t[i]=u(t[i])}})})});return Promise.all(r)}(n)];case 3:return r=o.sent(),[3,5];case 4:throw o.sent();case 5:return[2,r]}})})}function g(t,e){e.conceptsLookup.clear(),t.forEach(function(t){return e.conceptsLookup.set(t.concept,t)})}function m(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,u;return o.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,11,,12]),[4,l.validateQueryStructure(t,e)];case 1:return o.sent(),r=e,[4,_(e)];case 2:return r.datapackage=o.sent(),[4,b(0,e)];case 3:return o.sent(),[4,l.validateQueryDefinitions(t,e)];case 4:return o.sent(),l.isSchemaQuery(t)?[4,function(t,e){var n=e.datapackage,r=function(t){return n.ddfSchema[t].map(function(t){var e=t.primaryKey,n=t.value;return{key:e,value:n}})},o=t.from.split(".")[0];return n.ddfSchema[o]?r(o):"*"===o?Object.keys(n.ddfSchema).map(r).reduce(function(t,e){return t.concat(e)}):void T(new s.DdfCsvError(s.DDF_ERROR,"No valid collection ("+o+") for schema query"))}(t,{datapackage:e.datapackage})]:[3,6];case 5:return n=o.sent(),[3,10];case 6:return(i=f.getAppropriatePlugin(t,e))?(v=[],[4,i.getRecommendedFilesSet()]):[3,8];case 7:u=o.sent(),v=u,t.optimalFilesSet=c([],u,t.optimalFilesSet),o.label=8;case 8:return[4,j(t,e)];case 9:n=o.sent(),o.label=10;case 10:return[3,12];case 11:throw o.sent();case 12:return[2,n]}})})}function j(t,e){var n=t.select,o=n.key,a=void 0===o?[]:o,c=n.value,f=void 0===c?[]:c,s=(t.from,t.where),l=void 0===s?{}:s,p=t.join,h=void 0===p?{}:p,d=t.order_by,y=void 0===d?[]:d,v=t.language,_={key:a,value:f},b=new Set(_.key.concat(_.value)),g=O(l).filter(function(t){return!b.has(t)}),j=function(t,e,n,r){var o=A(t,e);return Promise.all(o.slice().map(function(t){return function(t,e,n){var r=[];void 0===t.data&&(t.data=C(t.path,n)),r.push(t.data);var o,u=void 0!==e&&i((o=n.datapackage).translations?o.translations.map(function(t){return t.id}):[],e),a=void 0!==t.translations[e];if(u){if(!a){var c="lang/"+e+"/"+t.path;t.translations[e]=C(c,n).catch(function(t){return Promise.resolve({})})}r.push(t.translations[e])}return Promise.all(r).then(function(e){var n=e.map(function(t){return t.data||[]}),r=t.schema.primaryKey,o=R.apply(void 0,[r,"translation"].concat(n));return{data:o,resource:t}})}(t,n,r)}))}(_.key,_.value.concat(g),v,e),T=function(t,e,n){return Promise.all(Object.keys(t).map(function(e){return function(t,e,n,r){var o;return"time"===r.conceptsLookup.get(e.key).concept_type?Promise.resolve(((o={})[t]=e.where,o)):m({select:{key:[e.key]},where:e.where,from:r.conceptsLookup.has(e.key)?"entities":"concepts"},Object.assign({joinID:t},u(r))).then(function(n){var r,o;return(r={})[t]=((o={})[e.key]={$in:new Set(n.map(function(t){return t[e.key]}))},o),r})}(e,t[e],0,n)})).then(function(t){return t.reduce(S,{})})}(h,0,e),P=function(t,e,n){var r=E(["entity_set"],t,n).map(function(t){return m({select:{key:[t.domain],value:["is--"+t.concept]},from:"entities"},Object.assign({},u(n))).then(function(e){var n;return(n={})[t.concept]={$in:new Set(e.filter(function(e){return e["is--"+t.concept]}).map(function(e){return e[t.domain]}))},n})});return Promise.all(r).then(function(t){return t.reduce(function(t,e){return Object.assign(t,e)},{})})}(_.key,0,e);return Promise.all([j,P,T]).then(function(t){var n=t[0],o=t[1],u=t[2],a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(function(t,e){return t.$and.push(e),t},{$and:[]})}(o,function t(e,n){var o={};for(var u in e){var a=e[u];i(["$and","$or","$nor"],u)?o[u]=a.map(function(e){return t(e,n)}):"$in"===u||"$nin"===u?o[u]=new Set(a):void 0!==n[a]?Object.assign(o,n[a]):"object"===(void 0===a?"undefined":r(a))?o[u]=t(a,n):o[u]=a}return o}(l,u)),c=n.map(function(t){return function(t,e,n,r){var o=t.resource.schema.primaryKey,i=new Set(o.concat(e.value,n)),u=function(t,e,n){var r=new Set(e),o=["entity_set","entity_domain"],i=E(o,t,n);if(0===i.length)return new Map;var u=E(o,null,n);return i.map(function(t){return u.filter(function(e){return"entity_set"===t.concept_type?r.has(e.concept)&&e.concept!==t.concept&&(e.domain===t.domain||e.concept===t.domain):r.has(e.concept)&&e.concept!==t.concept&&e.domain===t.concept}).reduce(function(e,n){return e.set(n.concept,t.concept)},new Map)}).reduce(function(t,e){return new Map(t.concat(e))},new Map)}(e.key,o,r);return t.data.map(function(t){return k(t,i)}).map(function(t){return function(t,e){var n={};for(var r in t)n[e.get(r)||r]=t[r];return n}(t,u)})}(t,_,g,e)}),f=R.apply(void 0,[_.key,"overwrite"].concat(c)).filter(function(t){return w(t,a)}).map(function(t){return function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];void 0===t[o]&&(t[o]=null)}return t}(t,b)}).map(function(t){return k(t,b)});return function(t,e){if(void 0===e&&(e=[]),0!==e.length){var n=e.map(function(t){if("string"==typeof t)return{concept:t,direction:1};var e=Object.keys(t)[0],n="asc"===t[e]?1:-1;return{concept:e,direction:n}}),r=n.length;t.sort(function(t,e){for(var o=0;o<r;o++){var i=n[o];if(t[i.concept]<e[i.concept])return-1*i.direction;if(t[i.concept]>e[i.concept])return 1*i.direction}return 0})}}(f,y),f})}function w(t,e){return Object.keys(e).every(function(o){var i=n.get(o);return i?i(t,e[o]):"object"!==r(e[o])?n.get("$eq")(t[o],e[o]):w(t[o],e[o])})}function S(t,e){return Object.assign(t,e)}function O(t){var e=[];for(var n in t)i(["$and","$or","$not","$nor"],n)?t[n].map(O).forEach(function(t){return e.push.apply(e,t)}):e.push(n);return e}function E(t,e,n){for(var r=[],o=0,u=e||Array.from(n.conceptsLookup.keys());o<u.length;o++){var a=u[o],c=n.conceptsLookup.get(a);i(t,c.concept_type)&&r.push(c)}return r}function A(t,e){if(!e||0===e.length)return new Set(d.get(P(t)).values().slice().reduce(function(t,e){return t.concat(e)}));if(Array.isArray(e))return e.map(function(e){return A(t,e)}).reduce(function(t,e){return new Set(t.concat(e))},new Set);var n=d.get(P(t)).get(e);return n&&(n=n.filter(function(t){return a(v)||i(v,t.path)})),new Set(n)}function k(t,e){var n={};for(var r in t)e.has(r)&&(n[r]=t[r]);return n}function R(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===n.length)return n[0];var o=t.slice(0).sort();return n.reduce(function(t,n){return n.forEach(function(n){var r=o.map(function(t){return n[t]}).join(",");t.has(r)?function(t,e,n){switch(n){case"overwrite":Object.assign(t,e);break;case"translation":for(var r in e)""!==e[r]&&(t[r]=e[r]);break;case"overwriteWithError":for(var r in e)if(void 0!==t[r]&&t[r]!==e[r]){var o=JSON.stringify(e),i=JSON.stringify(t),u='JOIN Error: two resources have different data for "'+r+'": '+o+","+i;T(new s.DdfCsvError(s.DDF_ERROR,u))}else t[r]=e[r]}}(t.get(r),n,e):t.set(r,n)}),t},new Map).values().slice()}function T(e){throw(t||console).error(e.message),e}function P(t,e){void 0===e&&(e=!1);var n=t.slice(0).sort();return e?n.map(function(t){return e[t]}).join(","):n.join(",")}function C(t,e){var n=l.getFilePath(e.basePath,t);return new Promise(function(r,o){e.fileReader.readText(n,function(u,a){if(u)return o(new s.DdfCsvError(s.FILE_READING_ERROR,u,n));p.parse(a,{header:!0,skipEmptyLines:!0,dynamicTyping:function(t){if(!e.conceptsLookup)return!0;var n=e.conceptsLookup.get(t)||{};return i(["boolean","measure"],n.concept_type)},complete:function(t){return r(t)},error:function(e){return o(new s.DdfCsvError(s.CSV_PARSING_ERROR,e,t))}})})})}return{query:m}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(44);e.prepareDDFCsvReaderObject=function(t){return function(e,n){return{init:function(r){this._basePath=r.path,this._lastModified=r._lastModified,this.fileReader=e||t,this.logger=n,this.resultTransformer=r.resultTransformer,this.readerOptions={basePath:this._basePath,fileReader:this.fileReader,logger:this.logger},this.reader=o.ddfCsvReader(this.logger)},getAsset:function(t){return r.__awaiter(this,void 0,void 0,function(){var e,n,o=this;return r.__generator(this,function(r){return e=".json"===t.slice(-".json".length),n=this._basePath+"/"+t,[2,new Promise(function(t,r){o.fileReader.readText(n,function(n,o){if(n)r(n);else if(e)try{t(JSON.parse(o))}catch(t){r(n)}else t(o)})})]})})},read:function(t,e){return r.__awaiter(this,void 0,void 0,function(){var o;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.reader.query(t,{basePath:this._basePath,fileReader:this.fileReader,logger:this.logger,conceptsLookup:new Map})];case 1:return o=r.sent(),o=e?this._prettifyData(o,e):o,this.resultTransformer&&(o=this.resultTransformer(o)),this.logger&&this.logger.log&&(n.log(JSON.stringify(t),o.length),n.log(o)),[3,3];case 2:throw r.sent();case 3:return[2,o]}})})},_prettifyData:function(t,e){return t.map(function(t){return Object.keys(t).forEach(function(n){e[n]&&(t[n]=e[n](t[n]))}),t})}}}}},function(t,e,n){"use strict";!function(){if(!self.fetch){i.prototype.append=function(t,e){t=r(t),e=o(e);var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},i.prototype.delete=function(t){delete this.map[r(t)]},i.prototype.get=function(t){var e=this.map[r(t)];return e?e[0]:null},i.prototype.getAll=function(t){return this.map[r(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(r(t))},i.prototype.set=function(t,e){this.map[r(t)]=[o(e)]},i.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(n){t(n,e.map[n])})};var t={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],n=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);f.call(s.prototype),f.call(p.prototype),self.Headers=i,self.Request=s,self.Response=p,self.fetch=function(e,r){var o;return o=s.prototype.isPrototypeOf(e)&&!r?e:new s(e,r),new fetch.Promise(function(e,r){var u=function(){return n&&!/^(get|post|head|put|delete|options)$/i.test(this.method)?(this.usingActiveXhr=!0,new ActiveXObject("Microsoft.XMLHTTP")):new XMLHttpRequest}();function a(){if(4===u.readyState){var t=1223===u.status?204:u.status;if(t<100||t>599)r(new TypeError("Network request failed"));else{var n={status:t,statusText:u.statusText,headers:function(t){var e=new i;return t.getAllResponseHeaders().trim().split("\n").forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();e.append(r,o)}),e}(u),url:"responseURL"in u?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):void 0},o="response"in u?u.response:u.responseText;e(new p(o,n))}}}"cors"===o.credentials&&(u.withCredentials=!0),u.onreadystatechange=a,self.usingActiveXhr||(u.onload=a,u.onerror=function(){r(new TypeError("Network request failed"))}),u.open(o.method,o.url,!0),"responseType"in u&&t.blob&&(u.responseType="blob"),o.headers.forEach(function(t,e){e.forEach(function(e){u.setRequestHeader(t,e)})}),u.send(void 0===o._bodyInit?null:o._bodyInit)})},fetch.Promise=self.Promise,self.fetch.polyfill=!0}function r(t){if("string"!=typeof t&&(t=t.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t=t.toString()),t}function i(t){this.map={};var e=this;t instanceof i?t.forEach(function(t,n){n.forEach(function(n){e.append(t,n)})}):t&&Object.getOwnPropertyNames(t).forEach(function(n){e.append(n,t[n])})}function u(t){if(t.bodyUsed)return fetch.Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new fetch.Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function c(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},t.blob?(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return fetch.Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return fetch.Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(c)},this.text=function(){var t,e,n=u(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,(e=new FileReader).readAsText(t),a(e);if(this._bodyFormData)throw new Error("could not read FormData body as text");return fetch.Promise.resolve(this._bodyText)}):this.text=function(){var t=u(this);return t||fetch.Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(function(t){return JSON.parse(t)})},this}function s(t,n){var r,o;if(n=n||{},this.url=t,this.credentials=n.credentials||"omit",this.headers=new i(n.headers),this.method=(r=n.method||"GET",o=r.toUpperCase(),e.indexOf(o)>-1?o:r),this.mode=n.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n.body)}function l(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function p(t,e){e||(e={}),this._initBody(t),this.type="default",this.url=null,this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||""}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),o=n(24);e.FrontendFileReader=o.FrontendFileReader;var i=n(13);e.DdfCsvError=i.DdfCsvError;var u=n(45);e.getDDFCsvReaderObject=u.prepareDDFCsvReaderObject(new r.FrontendFileReader)}]);
//# sourceMappingURL=vizabi-ddfcsv-reader.js.map